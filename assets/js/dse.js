var dsefunction={loadMoreAjax:function(url){let _body={urlFilter:url};$.ajax({async:true,global:false,url:"/getdsetile",data:_body,dataType:"html",method:"POST",beforeSend:function(){infiniteScroll=false
$('.progressMap').show();$('.skeletonTile').show();$('.tlBx').hide();},complete:function(){$('.progressMap').hide();$('.skeletonTile').hide();$('.tlBx').show();},success:function(data){infiniteScroll=false
document.getElementById('dev_cleanurl').innerHTML=url
data=JSON.parse(data);$('#mapTilediv').html(data.view);infiniteScollpageNo=1;infiniteScroll=true;scrollLock=true;dsefunction.init();}})},searchfiltercheckboxchange:function(elem,containerid,attrname){var ischecked=$(elem).prop("checked");if(ischecked==false){var replacetext=$(elem).attr(attrname);$("#"+containerid).val($("#"+containerid).val().replace(replacetext+", ",""));}},doLocationSorting:function(){var LocationItems=$("ul#dev_zone_checkboxes li");var ischecked=$("ul#dev_zone_checkboxes li > label > input[type='checkbox']:checked").length>0;if(ischecked==true){var formatlis=[];var checkedlis=[];var uncheckedlis=[];$("ul#dev_zone_checkboxes li").each(function(i,liitem){var liitem_checkbox=$(liitem).find("label > input[type='checkbox']:checked").length>0;if(liitem_checkbox==true){checkedlis.push(liitem);}else{uncheckedlis.push(liitem);}});formatlis=checkedlis.concat(uncheckedlis);$("ul#dev_zone_checkboxes").html(formatlis);$(".dseSearch ul.checkBox li input[type='checkbox']").off("click");$(".dseSearch ul.checkBox li input[type='checkbox']").on("click",function(){var checbboxchekedsize=$(this).closest("ul").find("li input[type='checkbox']:checked").length;var applybtnclass=$(this).attr("applybtn");if(checbboxchekedsize>0){$("."+applybtnclass).removeAttr("style");}else{}});}},doLandmarkSorting:function(){var LocationItems=$("ul#dev_landmark_checkboxes li");var ischecked=$("ul#dev_landmark_checkboxes li > label > input[type='checkbox']:checked").length>0;if(ischecked==true){var formatlis=[];var checkedlis=[];var uncheckedlis=[];$("ul#dev_landmark_checkboxes li").each(function(i,liitem){var liitem_checkbox=$(liitem).find("label > input[type='checkbox']:checked").length>0;if(liitem_checkbox==true){if($(liitem).hasClass("dev_disnone")==true){$(liitem).css("display","block");}
checkedlis.push(liitem);}else{if($(liitem).hasClass("dev_disnone")==true){$(liitem).css("display","none");}
uncheckedlis.push(liitem);}});formatlis=checkedlis.concat(uncheckedlis);$("ul#dev_landmark_checkboxes").html(formatlis);$(".dseSearch ul.checkBox li input[type='checkbox']").off("click");$(".dseSearch ul.checkBox li input[type='checkbox']").on("click",function(){var checbboxchekedsize=$(this).closest("ul").find("li input[type='checkbox']:checked").length;var applybtnclass=$(this).attr("applybtn");if(checbboxchekedsize>0){$("."+applybtnclass).removeAttr("style");}else{}});}},doBuilderSorting:function(){var LocationItems=$("ul#dev_builder_checkboxes li");var ischecked=$("ul#dev_builder_checkboxes li > label > input[type='checkbox']:checked").length>0;if(ischecked==true){var formatlis=[];var checkedlis=[];var uncheckedlis=[];$("ul#dev_builder_checkboxes li").each(function(i,liitem){var liitem_checkbox=$(liitem).find("label > input[type='checkbox']:checked").length>0;if(liitem_checkbox==true){if($(liitem).hasClass("dev_disnone")==true){$(liitem).css("display","block");}
checkedlis.push(liitem);}else{if($(liitem).hasClass("dev_disnone")==true){$(liitem).css("display","none");}
uncheckedlis.push(liitem);}});formatlis=checkedlis.concat(uncheckedlis);$("ul#dev_builder_checkboxes").html(formatlis);$(".dseSearch ul.checkBox li input[type='checkbox']").off("click");$(".dseSearch ul.checkBox li input[type='checkbox']").on("click",function(){var checbboxchekedsize=$(this).closest("ul").find("li input[type='checkbox']:checked").length;var applybtnclass=$(this).attr("applybtn");if(checbboxchekedsize>0){$("."+applybtnclass).removeAttr("style");}else{}});}},doRoadSorting:function(){var LocationItems=$("ul#dev_road_checkboxes li");var ischecked=$("ul#dev_road_checkboxes li > label > input[type='checkbox']:checked").length>0;if(ischecked==true){var formatlis=[];var checkedlis=[];var uncheckedlis=[];$("ul#dev_road_checkboxes li").each(function(i,liitem){var liitem_checkbox=$(liitem).find("label > input[type='checkbox']:checked").length>0;if(liitem_checkbox==true){if($(liitem).hasClass("dev_disnone")==true){$(liitem).css("display","block");}
checkedlis.push(liitem);}else{if($(liitem).hasClass("dev_disnone")==true){$(liitem).css("display","none");}
uncheckedlis.push(liitem);}});formatlis=checkedlis.concat(uncheckedlis);$("ul#dev_road_checkboxes").html(formatlis);$(".dseSearch ul.checkBox li input[type='checkbox']").off("click");$(".dseSearch ul.checkBox li input[type='checkbox']").on("click",function(){var checbboxchekedsize=$(this).closest("ul").find("li input[type='checkbox']:checked").length;var applybtnclass=$(this).attr("applybtn");if(checbboxchekedsize>0){$("."+applybtnclass).removeAttr("style");}else{}});}},dseinit:function(from){function RemoveParameterFromUrl(url,parameter){return url.replace(new RegExp('[?&]'+parameter+'=[^&#]*(#.*)?$'),'$1').replace(new RegExp('([?&])'+parameter+'=[^&]*&'),'$1');}
var cleanurl=$("#dev_cleanurl").text();cleanurl=RemoveParameterFromUrl(cleanurl,'page');var homeJS={setCity:function(_city){if(_city.id>=0){helperJS.setCookie('_selcity',_city,240);}},getCity:function(){let _defaultCity={id:0,name:"India"};_cookieCity=helperJS.getCookie('_selcity');return(_cookieCity)?_cookieCity:_defaultCity;},getAndSetCity:function(_city){_selectedCity=homeJS.getCity();if((_city)&&_selectedCity.id!=_city.id){_selectedCity=_city;if(_city.id>0){helperJS.setCookie('_selcity',_city,240);}}
$('.selected-city').html(_selectedCity.name);$('.cityNav ul').find("[data-id="+_selectedCity.id+"]").addClass('active').siblings().removeClass('active');}}
$(".icon-close").on("click",function(){$(".popupForm,.overLayBox,body,#pdCalculate").removeClass("active");});$(".dseSearch .filterBtn").on("click",function(){$(".dseSearch .dropdown.more button").mouseover();$(".dseSearch, body").addClass("active");});$(".dseSearch .filterHeding em").on("click",function(){$(".dseSearch, body").removeClass("active");});$(".dseSearch .column .labelBox em").on("click",function(e){$(this).parents(".labelBox").siblings('.dseSearch .column .labelBox').removeClass('active').end().toggleClass('active')});$('.addressList ul li').each(function(){var that=$(this);var pr=$(this).parents('#link_wrapper')
$(this).click(function(e){e.stopPropagation();e.preventDefault();$(pr).find('li.active').removeClass('active');$(this).addClass('active')});$(this).find('.addresBox > .icon-close').click(function(e){e.stopPropagation();e.preventDefault();$(that).removeClass('active')});});$("header .searchBox").on("click",function(){$('.dseSearch .searchFilterBox .input-group .saerchFocus').focus();});$(".breadcrumbBox .more em").on("click",function(){$('.breadcrumbBox .more').toggleClass("active");});$(" header,.topSection,.detailBox,.dseSearch").on("click",function(){$('.breadcrumbBox .more').removeClass('active');});$("#dev_pagination_prev").off("ciick");$("#dev_pagination_prev").on("click",function(){var specialchar="?";if(cleanurl.indexOf("?")!=-1){specialchar="&";}
var activepageno=parseInt($(".active.pagenumber").text());var prevpageno=activepageno-1;if(prevpageno==1){window.location.href=cleanurl;}
if(prevpageno>1){window.location.href=cleanurl+specialchar+"page="+prevpageno;}});$("#dev_pagination_next").off("ciick");$("#dev_pagination_next").on("click",function(){var specialchar="?";if(cleanurl.indexOf("?")!=-1){specialchar="&";}
var activepageno=parseInt($(".active.pagenumber").text());var totalPages=parseInt($("#dev_numofpages").text());var nextpageno=activepageno+1;if(nextpageno==1||nextpageno>totalPages){window.location.href=cleanurl;}else{if(nextpageno>1){window.location.href=cleanurl+specialchar+"page="+nextpageno;}}});$(".position-sticky .assuredBox").off("click");$(".position-sticky .assuredBox").on("click",function(){var cityid=homeJS.getCity().id;var cityname=homeJS.getCity().name;if($("#dseprojectdata > .tileBox:first > .tileBody").length>0){var rurl=$("#dseprojectdata > .tileBox:first > .tileBody").attr("clickurl");window.location=rurl;}else{if(cityid>0){window.location='/property-in-'+cityname.toLowerCase();}else{window.location='/search?cityid=0';}}});$(".dseSearch,.shortBy").removeAttr("style");$('#searchtext').off("keypress");$('#searchtext').on("keypress",function(event){var keycode=(event.keyCode?event.keyCode:event.which);if(keycode=='13'){var cityid=$("#dev_city").attr("cityid");var q=$("#searchtext").val();url=''
if(cityid>0){url="/search?q="+q+"&cityid="+cityid;}else{url="/search?q="+q;}
logdata({type:"search",subtype:'dse',"target_url":ui.item.url,cityName:homeJS.getCity().name,cityId:homeJS.getCity().id,searchtext:q})
window.location.href=url}});$("#searchtexticon").off("click");$("#searchtexticon").on("click",function(){var cityid=$("#dev_city").attr("cityid");var q=$("#searchtext").val();url=''
if(cityid>0){url="/search?q="+q+"&cityid="+cityid;}else{url="/search?q="+q;}
logdata({type:"search",subtype:'dse',"target_url":ui.item.url,cityName:homeJS.getCity().name,cityId:homeJS.getCity().id,searchtext:q})
window.location.href=url});$(".dsedetaillink").off("click");$(".dsedetaillink").on("click",function(){window.open($(this).attr("clickurl"),"_blank");return false;});if($("#sublocavgcost").length>0){var cityid=$("#dev_city").attr("cityid");if(cityid==36){$("<span>&nbsp;|&nbsp;  Average Price: </span><span style=''>"+$("#sublocavgcost").val()+" / Sq. Ft.</span>").insertAfter("#dev_seodescinfo_total");}else{$("<span>&nbsp;|&nbsp;  Average Price: </span><span style=''>â‚¹ "+$("#sublocavgcost").val()+" / Sq. Ft.</span>").insertAfter("#dev_seodescinfo_total");}}
dsefunction.searchFilter('ROAD',"roadsearch","roadsearchresult");$("#roadsearch").off("focusout");$("#roadsearch").on("focusout",function(){var road_values=$("#roadsearchhidden").val();if(globalIsMobileBrowser=="true"&&road_values==""){return false;}
var road_valuearr=road_values.split(',');var mobilelihtmls="";var roadarr=[];$.each(road_valuearr,function(i,roadval){if(roadval.trim()!=""){$("input[roadname='"+roadval.trim()+"']").prop("checked",true);if(globalIsMobileBrowser=="true"){var roadnamearr=window.filterdata.ROAD.filter(function(road,i){return road.FilterName==roadval.trim();});var roadid=0;var roadkey="";var isalreadyadded=false;if(roadnamearr.length>0){roadid=roadnamearr[0]["FilterId"];roadkey=roadnamearr[0]["FilterKey"];if(roadarr.indexOf(roadid)!=-1){isalreadyadded=true;}else{roadarr.push(roadid);}}
if(roadid>0&&isalreadyadded==false){var inputclassname="filterroad";var mobilelihtml='<li class="gblMblFltrCrdLi selected">'+
'<span class="gblMblFltrCrdChp">'+roadval.trim()+
'<em class="icon-close gblMblFltrCrdCls" textname="'+roadval.trim()+'"></em></span>'+
'<input checked="checked" style="display:none;" roadname="'+roadval.trim()+'" '+inputclassname+'="'+roadid+'" type="checkbox"'+
'class="tkBo gblFltrChckBxInpt '+inputclassname+'">'+
'</li>';mobilelihtmls=mobilelihtmls+mobilelihtml;}}}});$("#dev_mobile_road").html(mobilelihtmls);$("#dev_mobile_road > li > span > em.gblMblFltrCrdCls").off("click");$("#dev_mobile_road > li > span > em.gblMblFltrCrdCls").on("click",function(){var textname=$(this).attr("textname");var textarr=$("#roadsearchhidden").val().split(",");var newtextarr=[];$.each(textarr,function(i,textobj){if(textobj.trim()!=textname.trim()){newtextarr.push(textobj);}});$("#roadsearchhidden").val(newtextarr.join(', '));$(this).closest("li").remove();});$(this).val('');$(".filtermore_applybtn").removeAttr("style");if(globalIsMobileBrowser=="true"){$("#dev_addmore_roadpopup").removeClass("active");$("#roadsearchresult > ul").css("display","none");}});dsefunction.searchFilter('BUILDER',"developersearch","developersearchresult");$("#developersearch").off("focusout");$("#developersearch").on("focusout",function(){var dev_values=$("#developersearchhidden").val();if(globalIsMobileBrowser=="true"&&dev_values==""){return false;}
var dev_valuearr=dev_values.split(',');var mobilelihtmls="";var devarr=[];$.each(dev_valuearr,function(i,devval){if(devval.trim()!=""){$("input[buildername='"+devval.trim()+"']").prop("checked",true);if(globalIsMobileBrowser=="true"){var devnamearr=window.filterdata.BUILDER.filter(function(dev,i){return dev.FilterName==devval.trim();});var devid=0;var devkey="";var isalreadyadded=false;if(devnamearr.length>0){devid=devnamearr[0]["FilterId"];devkey=devnamearr[0]["FilterKey"];if(devarr.indexOf(devid)!=-1){isalreadyadded=true;}else{devarr.push(devid);}}
if(devid>0&&isalreadyadded==false){var inputclassname="fiterbuilder";var mobilelihtml='<li class="gblMblFltrCrdLi selected">'+
'<span class="gblMblFltrCrdChp">'+devval.trim()+
'<em class="icon-close gblMblFltrCrdCls" textname="'+devval.trim()+'"></em></span>'+
'<input checked="checked" style="display:none;" buildername="'+devval.trim()+'" '+inputclassname+'="'+devid+'" type="checkbox"'+
'class="tkBo gblFltrChckBxInpt '+inputclassname+'">'+
'</li>';mobilelihtmls=mobilelihtmls+mobilelihtml;}}}});$("#dev_mobile_builder").html(mobilelihtmls);$("#dev_mobile_builder > li > span > em.gblMblFltrCrdCls").off("click");$("#dev_mobile_builder > li > span > em.gblMblFltrCrdCls").on("click",function(){var textname=$(this).attr("textname");var textarr=$("#developersearchhidden").val().split(",");var newtextarr=[];$.each(textarr,function(i,textobj){if(textobj.trim()!=textname.trim()){newtextarr.push(textobj);}});$("#developersearchhidden").val(newtextarr.join(', '));$(this).closest("li").remove();});$(this).val('');$(".filtermore_applybtn").removeAttr("style");if(globalIsMobileBrowser=="true"){$("#dev_addmore_builderpopup").removeClass("active");$("#developersearchresult > ul").css("display","none");}});dsefunction.searchFilter('LANDMARK',"landmarksearch","landmarksearchresult");$("#landmarksearch").off("focusout");$("#landmarksearch").on("focusout",function(){var dev_values=$("#landmarksearchhidden").val();if(globalIsMobileBrowser=="true"&&dev_values==""){return false;}
var dev_valuearr=dev_values.split(',');var mobilelihtmls="";var devarr=[];$.each(dev_valuearr,function(i,devval){if(devval.trim()!=""){$("input[landmarkname='"+devval.trim()+"']").prop("checked",true);if($("input[landmarkname='"+devval.trim()+"']").length<=0){var wf_locarr=window.filterdata['LANDMARK'].filter(function(wf_l){return wf_l.FilterName==devval.trim();});if(wf_locarr.length>0){var landmarkobj=wf_locarr[0];var lihtml='<li class="gblFltrChckBxLi">'+
'<label class="gblFltrChckBxLbl">'+
'<input applybtn="filtermore_applybtn" landmarkname="'+
devval.trim()+'" fiterlandmark="'+landmarkobj.FilterId+'" type="checkbox" '+
'class="optionInput tkBo gblFltrChckBxInpt fiterlandmark dev_landmarkcheckbox">'+
devval.trim()+'</label>'+
'</li>';$("ul#dev_landmark_checkboxes").append(lihtml);$("input[landmarkname='"+devval.trim()+"']").prop("checked",true);}}
if(globalIsMobileBrowser=="true"){var devnamearr=window.filterdata.LANDMARK.filter(function(dev,i){return dev.FilterName==devval.trim();});var devid=0;var devkey="";var isalreadyadded=false;if(devnamearr.length>0){devid=devnamearr[0]["FilterId"];devkey=devnamearr[0]["FilterKey"];if(devarr.indexOf(devid)!=-1){isalreadyadded=true;}else{devarr.push(devid);}}
if(devid!=""&&isalreadyadded==false){var inputclassname="fiterlandmark";var mobilelihtml='<li class="gblMblFltrCrdLi selected">'+
'<span class="gblMblFltrCrdChp">'+devval.trim()+
'<em class="icon-close gblMblFltrCrdCls" textname="'+devval.trim()+'"></em></span>'+
'<input checked="checked" style="display:none;" landmarkname="'+devval.trim()+'" '+inputclassname+'="'+devid+'" type="checkbox"'+
'class="tkBo gblFltrChckBxInpt '+inputclassname+'">'+
'</li>';mobilelihtmls=mobilelihtmls+mobilelihtml;}}}});$("#dev_mobile_landmark").html(mobilelihtmls);$("#dev_mobile_landmark > li > span > em.gblMblFltrCrdCls").off("click");$("#dev_mobile_landmark > li > span > em.gblMblFltrCrdCls").on("click",function(){var textname=$(this).attr("textname");var textarr=$("#landmarksearchhidden").val().split(",");var newtextarr=[];$.each(textarr,function(i,textobj){if(textobj.trim()!=textname.trim()){newtextarr.push(textobj);}});$("#landmarksearchhidden").val(newtextarr.join(', '));$(this).closest("li").remove();});$(this).val('');$(".filtermore_applybtn").removeAttr("style");if(globalIsMobileBrowser=="true"){$("#dev_addmore_landmarkpopup").removeClass("active");$("#landmarksearchresult > ul").css("display","none");}
$("input.dev_landmarkcheckbox").off("click");$("input.dev_landmarkcheckbox").on("click",function(){dsefunction.searchfiltercheckboxchange($(this),"landmarksearchhidden","landmarkname");});});dsefunction.searchFilter('ZONE',"zonesearch","zonesearchresult");$("#zonesearch").off("focusout");$("#zonesearch").on("focusout",function(){var zone_values=$("#zonesearchhidden").val();if(globalIsMobileBrowser=="true"&&zone_values==""){return false;}
var zone_valuearr=zone_values.split('||');console.log(zone_valuearr);var mobilelihtmls="";var locarr=[];$.each(zone_valuearr,function(i,zoneval){if(zoneval.trim()!=""){$("input[zonename='"+zoneval.trim()+"']").prop("checked",true);if(globalIsMobileBrowser=="true"){var locnamearr=window.filterdata.LOCATION.filter(function(loc,i){return loc.FilterName==zoneval.trim();});var locid=0;var lockey="";var isalreadyadded=false;if(locnamearr.length>0){locid=locnamearr[0]["FilterId"];lockey=locnamearr[0]["FilterKey"];if(locarr.indexOf(locid)!=-1){isalreadyadded=true;}else{locarr.push(locid);}}
if(locid>0&&isalreadyadded==false){var inputclassname="filterlocation";if(lockey=="SUB_LOCATION"){inputclassname="filtersublocation";}
var mobilelihtml='<li class="gblMblFltrCrdLi selected">'+
'<span class="gblMblFltrCrdChp">'+zoneval.trim()+
'<em class="icon-close gblMblFltrCrdCls" textname="'+zoneval.trim()+'"></em></span>'+
'<input checked="checked" style="display:none;" zonename="'+zoneval.trim()+'" '+inputclassname+'="'+locid+'" type="checkbox"'+
'class="tkBo gblFltrChckBxInpt '+inputclassname+'">'+
'</li>';mobilelihtmls=mobilelihtmls+mobilelihtml;}}}});$("#dev_mobile_locations").html(mobilelihtmls);$("#dev_mobile_locations > li > span > em.gblMblFltrCrdCls").off("click");$("#dev_mobile_locations > li > span > em.gblMblFltrCrdCls").on("click",function(){var textname=$(this).attr("textname");var textarr=$("#zonesearchhidden").val().split("||");var newtextarr=[];$.each(textarr,function(i,textobj){if(textobj.trim()!=textname.trim()){newtextarr.push(textobj);}});$("#zonesearchhidden").val(newtextarr.join('|| '));$(this).closest("li").remove();});$(this).val('');$("#zonesearchresult").siblings(".column").show();$(".filtermore_applybtn").removeAttr("style");if(globalIsMobileBrowser=="true"){$("#dev_addmore_locationpopup").removeClass("active");$("#zonesearchresult > ul").css("display","none");}});$(".dropdown.locality").off("focusout");$(".dropdown.locality").on("focusout",function(){$("#zonesearchresult > ul").css("display","none");});var os=navigator.userAgent;if(os.indexOf('Android')!=-1||os.indexOf("iPhone")!=-1||os.indexOf("BlackBerry")!=-1){$(".breadcrumbBox .more").css("right","8px");}else{$(".seoTable.activeleft").css("left","0");}
if($(".whiteBox.priceTrend").length>0){initializePriceTrend();}
$("#unitCatType ul li input[type=radio][name=unitcattype]").on('change',function(){let parentId=$(this).attr('filterunitcattype');$('#unitType').show();$('#unitType ul li').each(function(){var label=$(this).find('label');var checkbox=$(this).find('input');var span=$(this).find('span');var classUnitType=parentId==='1'?'DSE_NewProjects_D26':'DSE_NewProjects_D28';if(parseInt($(this).data('parent'))===parseInt(parentId)){$(this).show();if($(this).data('parent')=='1'){$(this).addClass(classUnitType);label.addClass(classUnitType);checkbox.addClass(classUnitType);span.addClass(classUnitType);}
else{$(this).addClass(classUnitType);label.addClass(classUnitType);checkbox.addClass(classUnitType);span.addClass(classUnitType);}}else{$(this).hide()
$(this).closest('li').removeClass('selected')
$(this).find('input[type=checkbox]').prop('checked',false)}});if(parentId=="2"){$(".toggleas").hide();}else{$(".toggleas").show();}});var globalIsMobileBrowser=$("#globalIsMobileBrowser").val();helperJS.initializeShortlist('');helperJS.initializeLazyLoad();var totalPages=parseInt($("#dev_numofpages").text());var cleanurl=$("#dev_cleanurl").text();var query=dsefunction.getUrlVars();var min_values=$("ul.budgetcontainer li.min_value");var max_values=$("ul.budgetcontainer li.max_value");var min_input=$("div.rangeBox .minBox input.min_input");var max_input=$("div.rangeBox .maxBox input.max_input");min_values.click(function(){var minValue=$(this).attr('value');var minValueText=$(this).attr('text');min_input.val(minValueText);min_input.attr("minval",minValue);disableDropDownRangeOptions(max_values,minValue);validateDropDownInputs();if($("#min_price").val()!=""||$("#max_price").val()!=""){$(".filterbudget_applybtn").removeAttr("style");}else{$(".filterbudget_applybtn").attr("display","none");}
$('#minBox').hide();$('#maxBox').show();});max_values.click(function(){var maxValue=$(this).attr('value');var maxValueText=$(this).attr('text');max_input.val(maxValueText);max_input.attr("maxval",maxValue);disableDropDownRangeOptionsForMin(min_values,maxValue);var isvalid=validateDropDownInputs();if($("#min_price").val()!=""||$("#max_price").val()!=""){$(".filterbudget_applybtn").removeAttr("style");}else{$(".filterbudget_applybtn").attr("display","none");}
$('#minBox').show();$('#maxBox').hide();if(isvalid==true){dsefunction.loadMoreAjaxData();}});min_input.on('input',function(){var minValue=min_input.val();disableDropDownRangeOptions(max_values,minValue);validateDropDownInputs();if($("#min_price").val()!=""&&$("#max_price").val()!=""){$(".filterbudget_applybtn").removeAttr("style");}else{$(".filterbudget_applybtn").attr("display","none");}});max_input.on('input',function(){var maxValue=max_input.val();disableDropDownRangeOptionsForMin(min_values,maxValue);if($("#min_price").val()!=""&&$("#max_price").val()!=""){$(".filterbudget_applybtn").removeAttr("style");}else{$(".filterbudget_applybtn").attr("display","none");}
validateDropDownInputs();});function disableDropDownRangeOptions(max_values,minValue){if(max_values){max_values.each(function(){var maxValue=$(this).attr("value");if(maxValue!=0){if(parseInt(maxValue)<=parseInt(minValue)){$(this).hide();}else{$(this).show();}}});}}
function disableDropDownRangeOptionsForMin(min_values,maxValue){if(min_values){min_values.each(function(){var minValue=$(this).attr("value");if(minValue!=0){if(parseInt(minValue)>=parseInt(maxValue)){$(this).hide();}else{$(this).show();}}});}}
function validateDropDownInputs(){var minValue=parseInt(min_input.val());var maxValue=parseInt(max_input.val());if(maxValue>0&&minValue>0&&maxValue<minValue){min_input.addClass('inputError');max_input.addClass('inputError');return false;}else{min_input.removeClass('inputError');max_input.removeClass('inputError');return true;}}
$(".dseSearch ul.checkBox li input[type='checkbox']").off("click");$(".dseSearch ul.checkBox li input[type='checkbox']").on("click",function(){var checbboxchekedsize=$(this).closest("ul").find("li input[type='checkbox']:checked").length;var applybtnclass=$(this).attr("applybtn");if(checbboxchekedsize>0){$("."+applybtnclass).removeAttr("style");}else{}});$(".dseSearch .labelBox input[type='checkbox']").off("click");$(".dseSearch .labelBox input[type='checkbox']").on("click",function(){var checbboxchekedsize=$(this).closest(".labelBox").find("input[type='checkbox']:checked").length;var applybtnclass=$(this).attr("applybtn");if(checbboxchekedsize>0){$("."+applybtnclass).removeAttr("style");}else{}});if(globalIsMobileBrowser=="true"){$(".sortByBox .shortBy").off("click");$(".sortByBox .shortBy,.sortByPopup .gblOrflw,.sortByHeading em").on("click",function(){$(".gblPpup.sortByPopup").toggleClass("active");});}
$("ul.dev_sortby li").off("click");$("ul.dev_sortby li").on("click",function(){var sortkey=$(this).attr("sortkey");var cleanurl=$("#dev_cleanurl").text();var redirecturl="/search?sortkey="+sortkey+"&cleanurl="+cleanurl;if(cleanurl.indexOf("/search")!=-1&&cleanurl.indexOf("/cleanurl=")==-1){redirecturl="/search?sortkey="+sortkey;var query1={};var cleanurlarr=cleanurl.split("?");var paramarr=cleanurlarr[1].split("&");$.each(paramarr,function(i,param){var parr=param.split("=");if(parr[0]!="sortkey"&&parr[0]!="page"){query1[parr[0]]=parr[1];redirecturl=redirecturl+"&"+parr[0]+"="+parr[1];}});}
window.location.href=redirecturl;});$("ul.dev_sortby li").each(function(){$(this).removeClass("active");let sortKey=$(this).attr('sortkey');if(query.sortkey){if(query.sortkey.includes('%20'))query.sortkey=query.sortkey.replace('%20',' ');if(sortKey==query.sortkey)$(this).addClass("active");}else{$(this).attr('sortkey')=='DSE_KEY_1'?$(this).addClass("active"):'';}});$("li.filterprojecttags").off("click");$("li.filterprojecttags").on("click",function(){$("li.filterprojecttags").removeClass("active");$(this).addClass("active");dsefunction.loadMoreAjaxData()});var searchlabels="";var isbhkfilter=false;var isunitcatfilter=false;var isunitpricefilter=false;if(globalIsMobileBrowser=="true"){$(".filter_mobile").off("click");$(".filter_mobile").on("click",function(){var isselected=$(this).hasClass("selected");if(isselected==true){$(this).find("input[type='checkbox']").prop("checked",false);$(this).removeClass("selected");}else{$(this).find("input[type='checkbox']").prop("checked",true);$(this).addClass("selected");}});}
var totalfilterscount=0;let chipsArray=[];let chipLabels="";if(window.location.href.indexOf("/search")!=-1&&window.location.href.indexOf("cleanurl=")==-1){var query=dsefunction.getUrlVars();if(query.cityid!=undefined){var cityname=$("ul#dev_changecity li.filtercity[filtercityid = '"+query.cityid+"']").text();$("#dev_city").text(cityname);}
if(query.q!=undefined&&query.q!=""){$('#searchtext').val(decodeURI(query.q))}
$('body').on('focus','#searchTextdseNp',function(){let $this=$(this);var searchTerm='';var cityIdG=query.cityid;$.getScript("/assets/lib/js/jquery-ui.js",function(){$this.autocomplete({appendTo:$("#searchKeyWordDropDown"),source:function(request,response){searchTerm=request.term;$.ajax({url:baseUrl+'autosuggest',dataType:"json",data:{cityId:[query.cityid],exclude:newMobileSearchProp.excludePrimary,searchtext:request.term},type:"GET",success:function(data){response(data);}});},autoFocus:true,focus:function(event,ui){$("#searchKeyWordDropDown").show();$("#searchKeyWordDropDown div").removeAttr("style");},minLength:2,select:function(event,ui){let dLayer_pagetype='';if(typeof(dataLayer)!="undefined"){for(let i=0;i<dataLayer.length;i++){if(dataLayer[i].PageType){dLayer_pagetype=dataLayer[i].PageType;break;}}}
if(_galaktic_search==true){let eventName={"keyword":searchTerm,"suggest":ui.item.suggestion,"type":"New Projects","city":cityIdG,"redirectUrl":ui.item.redirect_url,"pageType":dLayer_pagetype};_paq.push(['trackSiteSearch',JSON.stringify(eventName)]);eventName={"redirectUrl":ui.item.redirect_url,"type":"New Projects","pageType":dLayer_pagetype};setTimeout(()=>{_paq.push(['trackEvent','filter','apply',JSON.stringify(eventName)]);},100);$(this).val('');newMobileSearchProp.goToURL(ui.item.redirect_url);return false;}
if(ui.item.category=='PROJECT'){$(this).val('');let eventName={"keyword":searchTerm,"suggest":ui.item.searchtext,"type":"New Projects","city":cityIdG,"redirectUrl":window.location.origin+ui.item.url,"pageType":dLayer_pagetype};_paq.push(['trackSiteSearch',JSON.stringify(eventName)]);newMobileSearchProp.goToURL(ui.item.url);return false;}
let hidValue='';if(ui.item.category=='LANDMARK'){hidValue=ui.item.latitude+'||'+ui.item.longitude+'||'+(encodeURIComponent(ui.item.searchtext.split(',')[0]));}else{hidValue=ui.item.eid}
chip=$('<div/>',{class:"smChips",'data-city_id':ui.item.cityid.join(','),'data-id':ui.item.eid,'data-url':ui.item.url,'data-category':ui.item.category,text:ui.item.searchtext}).append($('<input/>',{name:newMobileSearchProp.getPrimaryType(ui.item.category),type:"hidden",value:hidValue}),$('<em/>',{class:"icon-close"}).on('click',function(){$(this).closest('.smChips').remove();newMobileSearchProp.excludePrimary.removeElement(ui.item.eid);if($('div.searchKeyWordUl div').hasClass('smChips')){$('#searchTextdseNp').attr('placeholder','Add More');$("#chipUl").css('display','');}else{$('#searchTextdseNp').attr('placeholder','Search by Project, Locality, Builder, Road or Landmark');$("#chipUl").css('display','none');}}));newMobileSearchProp.excludePrimary.push(ui.item.eid);$('.searchKeyWordUl').append(chip);if($('div.searchKeyWordUl div').hasClass('smChips')){$('#searchTextdseNp').attr('placeholder','Add More');$("#chipUl").css('display','');}
let eventName={"keyword":searchTerm,"suggest":ui.item.searchtext,"type":"New Projects","city":cityIdG,"redirectUrl":window.location.origin+ui.item.url,"pageType":dLayer_pagetype};_paq.push(['trackSiteSearch',JSON.stringify(eventName)]);$(this).val('');return false;}}).autocomplete("instance")._renderItem=function(div,item){if(item==undefined||item==""){return false;}
if(_galaktic_search==true){var label=item.label!=null?item.label:'';var lihtml=`<em class="icon-search Home_Search_L18"></em>`+item.suggestion+`<span class="Home_Search_L18" >`+label+'</span>';}else{lihtml=item.searchtext;if(item.sublocation!=""&&item.category!='MICROMARKET'){lihtml=lihtml;}else if(item.category=='MICROMARKET'){lihtml=lihtml+", "+item.cityname;}
if(item.category=='PROJECT'){lihtml='<div class="searchValueName"><div class="searchAbsBox"><em class="linkIcoGray"></em></div><span>'+lihtml+'</span></div>';lihtml=lihtml+'<div class="searchRelated">'+item.category+'</div>';}else{lihtml='<div class="searchValueName"><div class="searchAbsBox"><em class="searchIcoGray"></em></div><span>'+lihtml+'</span></div>';lihtml=lihtml+'<div class="searchRelated">'+item.category+'</div>';}
div.addClass("");return $('<div class="gblSearchAutoCompleteLi">').append(lihtml).appendTo(div);}}});});if(query.sizes!=undefined){var sizes=query.sizes.split(",");isbhkfilter=true;$.each(sizes,function(i,size){$("input[filterunitbhk = '"+size+"']").attr("checked","checked");$("input[filterunitbhk = '"+size+"']").closest("li.filter_mobile").addClass("selected");$("ul[bedroomcount='"+size+"']").addClass("bhkfiltered");var sizetext=sizes.slice(0,3)+" BHK";if(sizes.length>3){sizetext=sizes.slice(0,3)+" BHK ("+sizes.length+")";}
$("#filterunitbhk_span").text(sizetext);$("#filterunitbhk_btn").addClass("gblFltrSlctdVlue");});}else{$("#filterunitbhk_span").text("Bedrooms");$("#filterunitbhk_btn").removeClass("gblFltrSlctdVlue");}
$('#unitType ul li').hide();if(query.propertyTypeId!=undefined){$("input[filterunitcattype = '"+query.propertyTypeId+"']").attr("checked","checked");$('#unitType ul li[data-parent='+query.propertyTypeId+']').show();}else{$("#unitType ul li[data-parent='1']").show();}
var unitcatnames=[];if(query.unitCatIds!=undefined){var unitCatIds=query.unitCatIds.split(",");isunitcatfilter=true;$.each(unitCatIds,function(i,unitcatid){if(unitcatid>0){$("input[filterunittype = '"+unitcatid+"']").attr("checked","checked");$("input[filterunittype = '"+unitcatid+"']").closest("li.filter_mobile").addClass("selected");var unitcatname=$("input[filterunittype = '"+unitcatid+"']").attr("unittypename");if(unitcatname!=undefined){unitcatnames.push(unitcatname);$("ul[unitcatname='"+unitcatname+"']").addClass("unitcatfiltered");$("#filterunittype_btn").addClass("gblFltrSlctdVlue");}}});var unitcattext=unitcatnames.slice(0,1);if(unitcatnames.length>1){unitcattext=unitcatnames.slice(0,1)+" ("+unitcatnames.length+")";}
$("#filterunittype_btn").text(unitcattext);$("#filterunittype_btn").attr("title",unitcatnames.toString());}else{$("#filterunittype_btn").removeClass("gblFltrSlctdVlue");$("#filterunittype_btn").text("Property Type");}
if(query.status!=undefined){var status=query.status.split(",");var statusnames=[];$.each(status,function(i,s){$("input[filterprojectstatus = '"+s+"']").attr("checked","checked");$("input[filterprojectstatus = '"+s+"']").closest("li.filter_mobile").addClass("selected");statusnames.push($("input[filterprojectstatus = '"+s+"']").attr("statusname"));});$("#filterprojectstatus_btn").addClass("gblFltrSlctdVlue");var statustext=statusnames.slice(0,1);if(statusnames.length>1){statustext=statusnames.slice(0,1)+" ("+statusnames.length+")";}
$("#filterprojectstatus_btn").text(statustext);$("#filterprojectstatus_btn").attr("title",statusnames.toString());}else{$("#filterprojectstatus_btn").removeClass("gblFltrSlctdVlue");$("#filterprojectstatus_btn").text("Project Status");}
if(query.tags!=undefined){var tags=query.tags.split(",");$.each(tags,function(i,t){$("li[filterprojecttags = '"+t+"']").addClass("active");});}
window.filterlocation=[];var locationnames=[];var mobilelihtmlsforlocsubloc="";console.log(query.locationId);if(query.locationId!=undefined){var locationId=query.locationId.split(",");$.each(locationId,function(i,locid){var wf_locarr=window.filterdata['LOCATION'].filter(function(wf_loc){return wf_loc.FilterId==locid&&wf_loc.FilterKey=='LOCATION';});if(wf_locarr.length>0){var wf_zonename=wf_locarr[0]["FilterName"];$("input[filterlocation = '"+locid+"']").attr("checked","checked");locationnames.push(wf_zonename);if(globalIsMobileBrowser=="true"){if(searchlabels==""){searchlabels=searchlabels+"<div class='gblFltrMblSrchBdgUlVsblLi'>"+
"<span class='gblFltrMblSrchBdgUlVsblSpn'>"+wf_zonename+
"</span></div>";}else{totalfilterscount=totalfilterscount+1;}
var mobilelihtml='<li class="gblMblFltrCrdLi selected">'+
'<span class="gblMblFltrCrdChp">'+wf_zonename.trim()+
'<em class="icon-close gblMblFltrCrdCls" textname="'+wf_zonename.trim()+'"></em></span>'+
'<input checked="checked" style="display:none;" zonename="'+wf_zonename.trim()+'" filterlocation="'+locid+'" type="checkbox"'+
'class="tkBo gblFltrChckBxInpt filterlocation">'+
'</li>';mobilelihtmlsforlocsubloc=mobilelihtmlsforlocsubloc+mobilelihtml;wf_locarr.forEach(()=>{chipLabels=chipLabels+`<div class="smChips" data-city_id="${query.cityid}" data-id="${locid}" data-category="MICROMARKET">${wf_zonename}
							 	<input name="locationId" type="hidden" value="${locid}"><em class="icon-close"></em></div>`
chipsArray.push(chipLabels);})}else{}
window.filterlocation.push(locid);$("#filterlocation_btn").addClass("gblFltrSlctdVlue");}});var loctext=locationnames.slice(0,1);if(locationnames.length>1){loctext=locationnames.slice(0,1)+" ("+locationnames.length+")";}
$("#filterlocation_btn").text(loctext);$("#filterlocation_btn").attr("title",locationnames.toString());$("#zonesearchhidden").val(locationnames.join("|| "));$("#dev_mobile_locations").html(mobilelihtmlsforlocsubloc);$("#dev_mobile_locations > li > span > em.gblMblFltrCrdCls").off("click");$("#dev_mobile_locations > li > span > em.gblMblFltrCrdCls").on("click",function(){var textname=$(this).attr("textname");var textarr=$("#zonesearchhidden").val().split("||");var newtextarr=[];$.each(textarr,function(i,textobj){if(textobj.trim()!=textname.trim()){newtextarr.push(textobj);}});$("#zonesearchhidden").val(newtextarr.join('|| '));$(this).closest("li").remove();});dsefunction.doLocationSorting();}
window.filtersublocation=[];if(query.subLocationId!=undefined){var subLocationId=query.subLocationId.split(",");$.each(subLocationId,function(i,sublocid){var wf_sublocarr=window.filterdata['LOCATION'].filter(function(wf_loc){return wf_loc.FilterId==sublocid&&wf_loc.FilterKey=='SUB_LOCATION';});if(wf_sublocarr.length>0){$("input[filtersublocation = '"+sublocid+"']").attr("checked","checked");var wf_zonename=wf_sublocarr[0]["FilterName"];locationnames.push(wf_zonename);if(globalIsMobileBrowser=="true"){if(searchlabels==""){searchlabels=searchlabels+"<div class='gblFltrMblSrchBdgUlVsblLi'>"+
"<span class='gblFltrMblSrchBdgUlVsblSpn'>"+wf_zonename+
"</span></div>";}else{totalfilterscount=totalfilterscount+1;}
var mobilelihtml='<li class="gblMblFltrCrdLi selected">'+
'<span class="gblMblFltrCrdChp">'+wf_zonename.trim()+
'<em class="icon-close gblMblFltrCrdCls" textname="'+wf_zonename.trim()+'"></em></span>'+
'<input checked="checked" style="display:none;" zonename="'+wf_zonename.trim()+'" filtersublocation="'+sublocid+'" type="checkbox"'+
'class="tkBo gblFltrChckBxInpt filtersublocation">'+
'</li>';mobilelihtmlsforlocsubloc=mobilelihtmlsforlocsubloc+mobilelihtml;wf_sublocarr.forEach(()=>{chipLabels=chipLabels+`<div class="smChips" data-city_id="${query.cityid}" data-id="${sublocid}" data-category="LOCALITY">${wf_zonename.trim()}<input name="subLocationId" type="hidden" value="${sublocid}"><em class="icon-close"></em></div>`
chipsArray.push(chipLabels);})}else{}
window.filtersublocation.push(sublocid);$("#filterlocation_btn").addClass("gblFltrSlctdVlue");}});dsefunction.doLocationSorting();var loctext=locationnames.slice(0,1);if(locationnames.length>1){loctext=locationnames.slice(0,1)+" ("+locationnames.length+")";}
$("#filterlocation_btn").text(loctext);$("#filterlocation_btn").attr("title",locationnames.toString());$("#zonesearchhidden").val(locationnames.join("|| "));$("#dev_mobile_locations").html(mobilelihtmlsforlocsubloc);$("#dev_mobile_locations > li > span > em.gblMblFltrCrdCls").off("click");$("#dev_mobile_locations > li > span > em.gblMblFltrCrdCls").on("click",function(){var textname=$(this).attr("textname");var textarr=$("#zonesearchhidden").val().split("||");var newtextarr=[];$.each(textarr,function(i,textobj){if(textobj.trim()!=textname.trim()){newtextarr.push(textobj);}});$("#zonesearchhidden").val(newtextarr.join('|| '));$(this).closest("li").remove();});}
if(query.subLocationId==undefined&&query.locationId==undefined){$("#filterlocation_btn").removeClass("gblFltrSlctdVlue");$("#filterlocation_btn").text("Location");}
window.filterroad=[];var morenames=[];var roadnames=[];if(query.roadIds!=undefined){var mobilelihtmlsforroad="";var roadIds=query.roadIds.split(",");$.each(roadIds,function(i,roadid){var wf_roadarr=window.filterdata['ROAD'].filter(function(wf_road){return wf_road.FilterId==roadid;});if(wf_roadarr.length>0){$("input[filterroad = '"+roadid+"']").attr("checked","checked");var wf_roadname=wf_roadarr[0]["FilterName"];morenames.push(wf_roadname);roadnames.push(wf_roadname);if(globalIsMobileBrowser=="true"){if(searchlabels==""){searchlabels=searchlabels+"<div class='gblFltrMblSrchBdgUlVsblLi'>"+
"<span class='gblFltrMblSrchBdgUlVsblSpn'>"+wf_roadname+
"</span></div>";}else{totalfilterscount=totalfilterscount+1;}
var mobilelihtml='<li class="gblMblFltrCrdLi selected">'+
'<span class="gblMblFltrCrdChp">'+wf_roadname.trim()+
'<em class="icon-close gblMblFltrCrdCls" textname="'+wf_roadname.trim()+'"></em></span>'+
'<input checked="checked" style="display:none;" roadname="'+wf_roadname.trim()+'" filterroad="'+roadid+'" type="checkbox"'+
'class="tkBo gblFltrChckBxInpt filterroad">'+
'</li>';mobilelihtmlsforroad=mobilelihtmlsforroad+mobilelihtml;wf_roadarr.forEach(()=>{chipLabels=chipLabels+`<div class="smChips" data-city_id="${query.cityid}" data-id="${roadid}" data-category="ROAD">${wf_roadname.trim()}
							 	<input name="roadIds" type="hidden" value="${roadid}"><em class="icon-close"></em></div>`
chipsArray.push(chipLabels);})}else{}
window.filterroad.push(roadid);$("#filtermore_btn").addClass("gblFltrSlctdVlue");}});var moretext=morenames.slice(0,1);if(morenames.length>1){moretext=morenames.slice(0,1)+" ("+morenames.length+")";}
$("#filtermore_btn").text(moretext);$("#filtermore_btn").attr("title",morenames.toString());$("#roadsearchhidden").val(roadnames.join(", "));$("#dev_mobile_road").html(mobilelihtmlsforroad);$("#dev_mobile_road > li > span > em.gblMblFltrCrdCls").off("click");$("#dev_mobile_road > li > span > em.gblMblFltrCrdCls").on("click",function(){var textname=$(this).attr("textname");var textarr=$("#roadsearchhidden").val().split(",");var newtextarr=[];$.each(textarr,function(i,textobj){if(textobj.trim()!=textname.trim()){newtextarr.push(textobj);}});$("#roadsearchhidden").val(newtextarr.join(', '));$(this).closest("li").remove();});dsefunction.doRoadSorting();}
window.fiterbuilder=[];var buildernames=[];if(query.developerId!=undefined){var mobilelihtmlsforbuilder="";var developerId=query.developerId.split(",");$.each(developerId,function(i,devid){var wf_devarr=window.filterdata['BUILDER'].filter(function(wf_dev){return wf_dev.FilterId==devid;});if(wf_devarr.length>0){$("input[fiterbuilder = '"+devid+"']").attr("checked","checked");var wf_devname=wf_devarr[0]["FilterName"];morenames.push(wf_devname);buildernames.push(wf_devname);if(globalIsMobileBrowser=="true"){if(searchlabels==""){searchlabels=searchlabels+"<div class='gblFltrMblSrchBdgUlVsblLi'>"+
"<span class='gblFltrMblSrchBdgUlVsblSpn'>"+wf_devname+
"</span></div>";}else{totalfilterscount=totalfilterscount+1;}
var mobilelihtml='<li class="gblMblFltrCrdLi selected">'+
'<span class="gblMblFltrCrdChp">'+wf_devname.trim()+
'<em class="icon-close gblMblFltrCrdCls" textname="'+wf_devname.trim()+'"></em></span>'+
'<input checked="checked" style="display:none;" buildername="'+wf_devname.trim()+'" fiterbuilder="'+devid+'" type="checkbox"'+
'class="tkBo gblFltrChckBxInpt fiterbuilder">'+
'</li>';mobilelihtmlsforbuilder=mobilelihtmlsforbuilder+mobilelihtml;wf_devarr.forEach(()=>{chipLabels=chipLabels+`<div class="smChips" data-city_id="${query.cityid}" data-id="${devid}" data-category="BUILDER">${wf_devname.trim()}
								<input name="developerId" type="hidden" value="${devid}"><em class="icon-close"></em></div>`
chipsArray.push(chipLabels);})}else{}
window.fiterbuilder.push(devid);$("#filterbuilder_btn").addClass("gblFltrSlctdVlue");}});var moretext=morenames.slice(0,1);if(morenames.length>1){moretext=morenames.slice(0,1)+" ("+morenames.length+")";}
$("#filterbuilder_btn").text(moretext);$("#filterbuilder_btn").attr("title",morenames.toString());$("#developersearchhidden").val(buildernames.join(", "));$("#dev_mobile_builder").html(mobilelihtmlsforbuilder);$("#dev_mobile_builder > li > span > em.gblMblFltrCrdCls").off("click");$("#dev_mobile_builder > li > span > em.gblMblFltrCrdCls").on("click",function(){var textname=$(this).attr("textname");var textarr=$("#developersearchhidden").val().split(",");var newtextarr=[];$.each(textarr,function(i,textobj){if(textobj.trim()!=textname.trim()){newtextarr.push(textobj);}});$("#developersearchhidden").val(newtextarr.join(', '));$(this).closest("li").remove();});dsefunction.doBuilderSorting();}else{$("#filterbuilder_btn").text("Builder");$("#filterbuilder_btn").removeClass("gblFltrSlctdVlue");}
window.fiterlandmark=[];var landmarknames=[];if(query.landmarkId!=undefined){var mobilelihtmlsforlandmark="";var landmarkId=query.landmarkId.split(",");$.each(landmarkId,function(i,lid){var lidarr=lid.split("||");if(lidarr.length>2){var flid=lidarr[0]+'||'+lidarr[1];var wf_larr=window.filterdata['LANDMARK'].filter(function(wf_l){return wf_l.FilterId==flid;});if(wf_larr.length>0){$("input[fiterlandmark = '"+flid+"']").attr("checked","checked");if($("input[fiterlandmark = '"+flid+"']").closest("li").hasClass("dev_disnone")==true){$("input[fiterlandmark = '"+flid+"']").closest("li").css("display","block");}
var wf_lname=wf_larr[0]["FilterName"];morenames.push(wf_lname);landmarknames.push(wf_lname);if(globalIsMobileBrowser=="true"){if(searchlabels==""){searchlabels=searchlabels+"<div class='gblFltrMblSrchBdgUlVsblLi'>"+
"<span class='gblFltrMblSrchBdgUlVsblSpn'>"+wf_lname+
"</span></div>";}else{totalfilterscount=totalfilterscount+1;}
var mobilelihtml='<li class="gblMblFltrCrdLi selected">'+
'<span class="gblMblFltrCrdChp">'+wf_lname.trim()+
'<em class="icon-close gblMblFltrCrdCls" textname="'+wf_lname.trim()+'"></em></span>'+
'<input checked="checked" style="display:none;" landmarkname="'+wf_lname.trim()+'" fiterlandmark="'+flid+'" type="checkbox"'+
'class="tkBo gblFltrChckBxInpt fiterlandmark">'+
'</li>';mobilelihtmlsforlandmark=mobilelihtmlsforlandmark+mobilelihtml;chipLabels=chipLabels+`<div class="smChips" data-city_id="${query.cityid}" data-id="${landmarkId}" data-category="LANDMARK">${wf_lname.trim()}<input name="landmarkId" type="hidden" value="${landmarkId}"><em class="icon-close"></em></div>`
chipsArray.push(chipLabels);}else{}
window.fiterlandmark.push(lid);$("#filtermore_btn").addClass("gblFltrSlctdVlue");}}});var moretext=morenames.slice(0,1);if(morenames.length>1){moretext=morenames.slice(0,1)+" ("+morenames.length+")";}
$("#filtermore_btn").text(moretext);$("#filtermore_btn").attr("title",morenames.toString());$("#landmarksearchhidden").val(landmarknames.join(", "));$("#dev_mobile_landmark").html(mobilelihtmlsforlandmark);$("#dev_mobile_landmark > li > span > em.gblMblFltrCrdCls").off("click");$("#dev_mobile_landmark > li > span > em.gblMblFltrCrdCls").on("click",function(){var textname=$(this).attr("textname");var textarr=$("#landmarksearchhidden").val().split(",");var newtextarr=[];$.each(textarr,function(i,textobj){if(textobj.trim()!=textname.trim()){newtextarr.push(textobj);}});$("#landmarksearchhidden").val(newtextarr.join(', '));$(this).closest("li").remove();});dsefunction.doLandmarkSorting();}
if((query.landmarkId==undefined)&&(query.roadIds==undefined)){$("#filtermore_btn").text("More");$("#filtermore_btn").removeClass("gblFltrSlctdVlue");}
if(query.additionalRooms!=undefined){var additionalRooms=query.additionalRooms.split(",");$.each(additionalRooms,function(i,addroomid){$("input[filterunitspaces = '"+addroomid+"']").attr("checked","checked");$("input[filterunitspaces = '"+addroomid+"']").closest("li.filter_mobile").addClass("selected");unitcatnames.push($("input[filterunitspaces = '"+addroomid+"']").attr("spacename"));$("#filterunittype_btn").addClass("gblFltrSlctdVlue");});var unitcattext=unitcatnames.slice(0,1);if(unitcatnames.length>1){unitcattext=unitcatnames.slice(0,1)+" ("+unitcatnames.length+")";}
$("#filterunittype_btn").text(unitcattext);$("#filterunittype_btn").attr("title",unitcatnames.toString());}
if(query.budget!=undefined){isunitpricefilter=true;var minbudgetval=query.budget.split("_")[0];var maxbudgetval=query.budget.split("_")[1];$("#min_price").val($("ul.budgetcontainer li[value = '"+minbudgetval+"']").attr("text"));$("#max_price").val($("ul.budgetcontainer li[value = '"+maxbudgetval+"']").attr("text"));$("#min_price").attr("minval",minbudgetval);$("#max_price").attr("maxval",maxbudgetval);$("#dev_mobile_min_budget").val(minbudgetval);$("#dev_mobile_max_budget").val(maxbudgetval);var budgetcontainermaxtext=$("ul.budgetcontainer li[value = '"+maxbudgetval+"']").attr("text");if(globalIsMobileBrowser=="true"){budgetcontainermaxtext=$("#dev_mobile_max_budget option[value = '"+maxbudgetval+"']").attr("text");}
if(budgetcontainermaxtext==undefined){var maxbudgetpricetext=dsefunction.priceText(parseInt(maxbudgetval));var maxbudgetpriceval=dsefunction.formatPrice(parseInt(maxbudgetval),maxbudgetpricetext);if(!isNaN(maxbudgetpriceval)){$("#filterbudget_btn").text($("ul.budgetcontainer li[value = '"+minbudgetval+"']").attr("text")+" to "+maxbudgetpriceval+" "+maxbudgetpricetext);$("#filterbudget_btn").attr("title",$("ul.budgetcontainer li[value = '"+minbudgetval+"']").attr("text")+" to "+maxbudgetpriceval+" "+maxbudgetpricetext);$("#filterbudget_btn").addClass("gblFltrSlctdVlue");}
else{$("#filterbudget_btn").text($("ul.budgetcontainer li[value = '"+minbudgetval+"']").attr("text")+" onwards ");$("#filterbudget_btn").attr("title",$("ul.budgetcontainer li[value = '"+minbudgetval+"']").attr("text")+" onwards ");$("#filterbudget_btn").addClass("gblFltrSlctdVlue");}}else{if(!isNaN(maxbudgetpriceval)){$("#filterbudget_btn").text($("ul.budgetcontainer li[value = '"+minbudgetval+"']").attr("text")+" to "+$("ul.budgetcontainer li[value = '"+maxbudgetval+"']").attr("text"));$("#filterbudget_btn").attr("title",$("ul.budgetcontainer li[value = '"+minbudgetval+"']").attr("text")+" to "+$("ul.budgetcontainer li[value = '"+maxbudgetval+"']").attr("text"));$("#filterbudget_btn").addClass("gblFltrSlctdVlue");}
else{if(maxbudgetval>minbudgetval&&minbudgetval!='0'){$("#filterbudget_btn").text($("ul.budgetcontainer li[value = '"+minbudgetval+"']").attr("text")
+" to "+$("ul.budgetcontainer li[value = '"+maxbudgetval+"']").attr("text"));$("#filterbudget_btn").attr("title",$("ul.budgetcontainer li[value = '"+minbudgetval+"']").attr("text")
+" to "+$("ul.budgetcontainer li[value = '"+maxbudgetval+"']").attr("text"));$("#filterbudget_btn").addClass("gblFltrSlctdVlue");}
else{$("#filterbudget_btn").text("upto "+$("ul.budgetcontainer li[value = '"+maxbudgetval+"']").attr("text"));$("#filterbudget_btn").attr("title","upto "+$("ul.budgetcontainer li[value = '"+maxbudgetval+"']").attr("text"));$("#filterbudget_btn").addClass("gblFltrSlctdVlue");}}}
$(".dev_units").each(function(i,unitul){var unitlowcost=$(unitul).attr("unitlowcost");if(parseInt(unitlowcost)>=parseInt(minbudgetval)&&parseInt(unitlowcost)<=parseInt(maxbudgetval)){$(this).addClass("unitpricefiltered");}});}else{$("#filterbudget_btn").text("Budget");$("#filterbudget_btn").removeClass("gblFltrSlctdVlue");}}else{var filters_desc=$("#dev_filters_desc").val();var filters_desc_arr=filters_desc.split("||");var c_locationnames=[];var mobilelihtmlsforlocsubloc="";$.each(filters_desc_arr,function(i,fdesc){var fdescarr=fdesc.split(":");var fkey=fdescarr[0];var fname=fdescarr[1];var fval=fdescarr[2];if(fkey=="UNIT_TYPE"){isunitcatfilter=true;var unitcattypeid=$("input[filterunittype = '"+fval+"']").closest("li").attr("data-parent");$("input[filterunitcattype = '"+unitcattypeid+"']").prop('checked',true);$("input[filterunittype = '"+fval+"']").closest("li.filter_mobile").addClass("selected");$("input[filterunitcattype = '"+unitcattypeid+"']").change();$("input[filterunittype = '"+fval+"']").attr("checked","checked");$("ul[unitcatname='"+fname+"']").addClass("unitcatfiltered");$("#filterunittype_btn").addClass("gblFltrSlctdVlue");$("#filterunittype_btn").text(fname);$("#filterunittype_btn").attr("title",fname);}
if(fkey=="PRICE"){isunitpricefilter=true;$("#min_price").val(fname.split("to")[0]);$("#max_price").val(fname.split("to")[1]);$("#min_price").attr("minval",fval.split("_")[0]);$("#max_price").attr("maxval",fval.split("_")[1]);$("#dev_mobile_min_budget").val(fval.split("_")[0]);$("#dev_mobile_max_budget").val(fval.split("_")[1]);$("#filterbudget_btn").text(fname);$("#filterbudget_btn").attr("title",fname);$("#filterbudget_btn").addClass("gblFltrSlctdVlue");$(".dev_units").each(function(i,unitul){var unitlowcost=$(unitul).attr("unitlowcost");if(parseInt(unitlowcost)>=parseInt(fval.split("_")[0])&&parseInt(unitlowcost)<=parseInt(fval.split("_")[1])){$(this).addClass("unitpricefiltered");}});}
if(fkey=="UNIT_BHK"){isbhkfilter=true;$("input[filterunitbhk = '"+fval+"']").attr("checked","checked");$("input[filterunitbhk = '"+fval+"']").closest("li.filter_mobile").addClass("selected");$("ul[bedroomcount='"+fval+"']").addClass("bhkfiltered");$("#filterunitbhk_span").text(fval+" BHK");$("#filterunitbhk_btn").addClass("gblFltrSlctdVlue");}
window.filtersublocation=[];if(fkey=="SUB_LOCATION"){$("input[filtersublocation = '"+fval+"']").attr("checked","checked");if(globalIsMobileBrowser=="true"){if(searchlabels==""){searchlabels=searchlabels+"<div class='gblFltrMblSrchBdgUlVsblLi'>"+
"<span class='gblFltrMblSrchBdgUlVsblSpn'>"+fname+
"</span></div>";}else{totalfilterscount=totalfilterscount+1;}
chipLabels=chipLabels+`<div class="smChips" data-city_id="${$('#dev_city').attr('cityid')}" data-id="${fval}" data-category="LOCALITY">${fname.trim()}<input name="subLocationId" type="hidden" value="${fval}"><em class="icon-close"></em></div>`
chipsArray.push(chipLabels)
var mobilelihtml='<li class="gblMblFltrCrdLi selected">'+
'<span class="gblMblFltrCrdChp">'+fname+
'<em class="icon-close gblMblFltrCrdCls" textname="'+fname+'"></em></span>'+
'<input checked="checked" style="display:none;" zonename="'+fname+'" filtersublocation="'+fval+'" type="checkbox"'+
'class="tkBo gblFltrChckBxInpt filtersublocation">'+
'</li>';mobilelihtmlsforlocsubloc=mobilelihtmlsforlocsubloc+mobilelihtml;}else{}
window.filtersublocation.push(fval);$("#filterlocation_btn").addClass("gblFltrSlctdVlue");c_locationnames.push(fname);$("#zonesearchhidden").val(c_locationnames.join("|| "));$("#dev_mobile_locations").html(mobilelihtmlsforlocsubloc);$("#dev_mobile_locations > li > span > em.gblMblFltrCrdCls").off("click");$("#dev_mobile_locations > li > span > em.gblMblFltrCrdCls").on("click",function(){var textname=$(this).attr("textname");var textarr=$("#zonesearchhidden").val().split("||");var newtextarr=[];$.each(textarr,function(i,textobj){if(textobj.trim()!=textname.trim()){newtextarr.push(textobj);}});$("#zonesearchhidden").val(newtextarr.join('|| '));$(this).closest("li").remove();});dsefunction.doLocationSorting();}
window.filterlocation=[];if(fkey=="LOCATION"){if(filters_desc.indexOf("SUB_LOCATION:")==-1){$("input[filterlocation = '"+fval+"']").attr("checked","checked");c_locationnames.push(fname);}
if(globalIsMobileBrowser=="true"){if(searchlabels==""){searchlabels=searchlabels+"<div class='gblFltrMblSrchBdgUlVsblLi'>"+
"<span class='gblFltrMblSrchBdgUlVsblSpn'>"+fname+
"</span></div>";}else{totalfilterscount=totalfilterscount+1;}
if(filters_desc.indexOf("SUB_LOCATION:")==-1){var mobilelihtml='<li class="gblMblFltrCrdLi selected">'+
'<span class="gblMblFltrCrdChp">'+fname+
'<em class="icon-close gblMblFltrCrdCls" textname="'+fname+'"></em></span>'+
'<input checked="checked" style="display:none;" zonename="'+fname+'" filterlocation="'+fval+'" type="checkbox"'+
'class="tkBo gblFltrChckBxInpt filterlocation">'+
'</li>';mobilelihtmlsforlocsubloc=mobilelihtmlsforlocsubloc+mobilelihtml;}
chipLabels=chipLabels+`<div class="smChips" data-city_id="${query.cityid}" data-id="${fval}" data-category="MICROMARKET">${fname.trim()}<input name="subLocationId" type="hidden" value="${fval}"><em class="icon-close"></em></div>`
chipsArray.push(chipLabels)}else{}
window.filterlocation.push(fval);$("#filterlocation_btn").addClass("gblFltrSlctdVlue");$("#zonesearchhidden").val(c_locationnames.join("|| "));$("#dev_mobile_locations").html(mobilelihtmlsforlocsubloc);$("#dev_mobile_locations > li > span > em.gblMblFltrCrdCls").off("click");$("#dev_mobile_locations > li > span > em.gblMblFltrCrdCls").on("click",function(){var textname=$(this).attr("textname");var textarr=$("#zonesearchhidden").val().split("||");var newtextarr=[];$.each(textarr,function(i,textobj){if(textobj.trim()!=textname.trim()){newtextarr.push(textobj);}});$("#zonesearchhidden").val(newtextarr.join('|| '));$(this).closest("li").remove();});dsefunction.doLocationSorting();}
if(c_locationnames.length>0){var loctext=c_locationnames.slice(0,1);if(c_locationnames.length>1){loctext=c_locationnames.slice(0,1)+" ("+c_locationnames.length+")";}
$("#filterlocation_btn").text(loctext);$("#filterlocation_btn").attr("title",c_locationnames.toString());}
window.filterroad=[];var c_morenames=[];if(fkey=="ROAD"){var mobilelihtmlsforroad="";$("input[filterroad = '"+fval+"']").attr("checked","checked");if(globalIsMobileBrowser=="true"){if(searchlabels==""){searchlabels=searchlabels+"<div class='gblFltrMblSrchBdgUlVsblLi'>"+
"<span class='gblFltrMblSrchBdgUlVsblSpn'>"+fname+
"</span></div>";}else{totalfilterscount=totalfilterscount+1;}
var mobilelihtml='<li class="gblMblFltrCrdLi selected">'+
'<span class="gblMblFltrCrdChp">'+fname.trim()+
'<em class="icon-close gblMblFltrCrdCls" textname="'+fname.trim()+'"></em></span>'+
'<input checked="checked" style="display:none;" roadname="'+fname.trim()+'" filterroad="'+fval+'" type="checkbox"'+
'class="tkBo gblFltrChckBxInpt filterroad">'+
'</li>';mobilelihtmlsforroad=mobilelihtmlsforroad+mobilelihtml;chipLabels=chipLabels+`<div class="smChips" data-city_id="${query.cityid}" data-id="${fval}" data-category="ROAD">${fname.trim()}<input name="roadIds" type="hidden" value="${fval}"><em class="icon-close"></em></div>`
chipsArray.push(chipLabels)}else{}
window.filterroad.push(fval);$("#filtermore_btn").addClass("gblFltrSlctdVlue");c_morenames.push(fname);$("#roadsearchhidden").val(fname+", ");$("#dev_mobile_road").html(mobilelihtmlsforroad);$("#dev_mobile_road > li > span > em.gblMblFltrCrdCls").off("click");$("#dev_mobile_road > li > span > em.gblMblFltrCrdCls").on("click",function(){var textname=$(this).attr("textname");var textarr=$("#roadsearchhidden").val().split(",");var newtextarr=[];$.each(textarr,function(i,textobj){if(textobj.trim()!=textname.trim()){newtextarr.push(textobj);}});$("#roadsearchhidden").val(newtextarr.join(', '));$(this).closest("li").remove();});}
if(fkey=="PROJECT_STATUS"){$("input[filterprojectstatus = '"+fval+"']").attr("checked","checked");$("input[filterprojectstatus = '"+fval+"']").closest("li.filter_mobile").addClass("selected");$("#filterprojectstatus_btn").addClass("gblFltrSlctdVlue");$("#filterprojectstatus_btn").text(fname);}
window.fiterbuilder=[];if(fkey=="BUILDER"){var mobilelihtmlsforbuilder="";$("input[fiterbuilder = '"+fval+"']").attr("checked","checked");if(globalIsMobileBrowser=="true"){if(searchlabels==""){searchlabels=searchlabels+"<div class='gblFltrMblSrchBdgUlVsblLi'>"+
"<span class='gblFltrMblSrchBdgUlVsblSpn'>"+fname+
"</span></div>";}else{totalfilterscount=totalfilterscount+1;}
var mobilelihtml='<li class="gblMblFltrCrdLi selected">'+
'<span class="gblMblFltrCrdChp">'+fname.trim()+
'<em class="icon-close gblMblFltrCrdCls" textname="'+fname.trim()+'"></em></span>'+
'<input checked="checked" style="display:none;" buildername="'+fname.trim()+'" fiterbuilder="'+fval+'" type="checkbox"'+
'class="tkBo gblFltrChckBxInpt fiterbuilder">'+
'</li>';mobilelihtmlsforbuilder=mobilelihtmlsforbuilder+mobilelihtml;chipLabels=chipLabels+`<div class="smChips" data-city_id="${query.cityid}" data-id="${fval}" data-category="DEVELOPER">${fname.trim()}<input name="developerId" type="hidden" value="${fval}"><em class="icon-close"></em></div>`
chipsArray.push(chipLabels)}else{}
window.fiterbuilder.push(fval);$("#filtermore_btn").addClass("gblFltrSlctdVlue");c_morenames.push(fname);$("#developersearchhidden").val(fname+", ");$("#dev_mobile_builder").html(mobilelihtmlsforbuilder);$("#dev_mobile_builder > li > span > em.gblMblFltrCrdCls").off("click");$("#dev_mobile_builder > li > span > em.gblMblFltrCrdCls").on("click",function(){var textname=$(this).attr("textname");var textarr=$("#developersearchhidden").val().split(",");var newtextarr=[];$.each(textarr,function(i,textobj){if(textobj.trim()!=textname.trim()){newtextarr.push(textobj);}});$("#developersearchhidden").val(newtextarr.join(', '));$(this).closest("li").remove();});}
if(c_morenames.length>0){var moretext=c_morenames.slice(0,1);if(c_morenames.length>1){moretext=c_morenames.slice(0,1)+" ("+c_morenames.length+")";}
$("#filtermore_btn").text(moretext);$("#filtermore_btn").attr("title",c_morenames.toString());}});$('body').on('focus','#searchTextdseNp',function(){let $this=$(this);var searchTerm='';var cityIdG=query.cityid;$.getScript("/assets/lib/js/jquery-ui.js",function(){$this.autocomplete({appendTo:$("#searchKeyWordDropDown"),source:function(request,response){searchTerm=request.term;$.ajax({url:baseUrl+'autosuggest',dataType:"json",data:{cityId:[$('#dev_city').attr('cityid')],exclude:newMobileSearchProp.excludePrimary,searchtext:request.term},type:"GET",success:function(data){response(data);}});},autoFocus:true,focus:function(event,ui){$("#searchKeyWordDropDown").show();$("#searchKeyWordDropDown ul").removeAttr("style");},minLength:2,select:function(event,ui){let dLayer_pagetype='';if(typeof(dataLayer)!="undefined"){for(let i=0;i<dataLayer.length;i++){if(dataLayer[i].PageType){dLayer_pagetype=dataLayer[i].PageType;break;}}}
if(_galaktic_search==true){let eventName={"keyword":searchTerm,"suggest":ui.item.suggestion,"type":"New Projects","city":cityIdG,"redirectUrl":ui.item.redirect_url,"pageType":dLayer_pagetype};_paq.push(['trackSiteSearch',JSON.stringify(eventName)]);eventName={"redirectUrl":ui.item.redirect_url,"type":"New Projects","pageType":dLayer_pagetype};setTimeout(()=>{_paq.push(['trackEvent','filter','apply',JSON.stringify(eventName)]);},100);$(this).val('');newMobileSearchProp.goToURL(ui.item.redirect_url);return false;}
if(ui.item.category=='PROJECT'){$(this).val('');let eventName={"keyword":searchTerm,"suggest":ui.item.searchtext,"type":"New Projects","city":cityIdG,"redirectUrl":window.location.origin+ui.item.url,"pageType":dLayer_pagetype};_paq.push(['trackSiteSearch',JSON.stringify(eventName)]);newMobileSearchProp.goToURL(ui.item.url);return false;}
let hidValue='';if(ui.item.category=='LANDMARK'){hidValue=ui.item.latitude+'||'+ui.item.longitude+'||'+(encodeURIComponent(ui.item.searchtext.split(',')[0]));}else{hidValue=ui.item.eid}
chip=$('<div/>',{class:"smChips",'data-city_id':ui.item.cityid.join(','),'data-id':ui.item.eid,'data-url':ui.item.url,'data-category':ui.item.category,text:ui.item.searchtext}).append($('<input/>',{name:newMobileSearchProp.getPrimaryType(ui.item.category),type:"hidden",value:hidValue}),$('<em/>',{class:"icon-close"}).on('click',function(){$(this).closest('.smChips').remove();newMobileSearchProp.excludePrimary.removeElement(ui.item.eid);if($('div.searchKeyWordUl div').hasClass('smChips')){$('#searchTextdseNp').attr('placeholder','Add More');}else{$('#searchTextdseNp').attr('placeholder','Search by Project, Locality, Builder, Road or Landmark');}}));newMobileSearchProp.excludePrimary.push(ui.item.eid);$('.searchKeyWordUl').append(chip);if($('div.searchKeyWordUl div').hasClass('smChips')){$('#searchTextdseNp').attr('placeholder','Add More');}
let eventName={"keyword":searchTerm,"suggest":ui.item.searchtext,"type":"New Projects","city":cityIdG,"redirectUrl":window.location.origin+ui.item.url,"pageType":dLayer_pagetype};_paq.push(['trackSiteSearch',JSON.stringify(eventName)]);$(this).val('');return false;}}).autocomplete("instance")._renderItem=function(div,item){if(item==undefined||item==""){return false;}
if(_galaktic_search==true){var label=item.label!=null?item.label:'';var lihtml=`<em class="icon-search Home_Search_L18"></em>`+item.suggestion+`<span class="Home_Search_L18" >`+label+'</span>';}else{lihtml=item.searchtext;if(item.sublocation!=""&&item.category!='MICROMARKET'){lihtml=lihtml;}else if(item.category=='MICROMARKET'){lihtml=lihtml+", "+item.cityname;}
if(item.category=='PROJECT'){lihtml='<div class="searchValueName"><div class="searchAbsBox"><em class="linkIcoGray"></em></div><span>'+lihtml+'</span></div>';lihtml=lihtml+'<div class="searchRelated">'+item.category+'</div>';}else{lihtml='<div class="searchValueName"><div class="searchAbsBox"><em class="searchIcoGray"></em></div><span>'+lihtml+'</span></div>';lihtml=lihtml+'<div class="searchRelated">'+item.category+'</div>';}
div.addClass("");return $('<div class="gblSearchAutoCompleteLi">').append(lihtml).appendTo(div);}}});});}
if(searchlabels!=""){if(globalIsMobileBrowser=="true"){$("#dev_searchlabel").html(searchlabels);$("#dev_searchlabel").addClass("active");if($('#dev_searchlabel').hasClass('active'))$('#searchtext').attr('placeholder','Add More')
chipsArray.forEach(c=>{$('#chipUl').html(c);})
if(totalfilterscount>0){$("#dev_totalfilterscountli").removeAttr("style");$(".gblFltrMblSrchBdgUlVsblValue").text("+"+totalfilterscount);}
$("#dev_searchlabel,.gblFltrMblSrchBdgUlVsblValue").off("click");$("#dev_searchlabel,.gblFltrMblSrchBdgUlVsblValue").on("click",function(){$(".gblMblFltrPopup,body").addClass("active");});}
if(isunitcatfilter==true||isbhkfilter==true||isunitpricefilter==true){if(isunitcatfilter==true&&isbhkfilter==true&&isunitpricefilter==true){$(".dev_units").not(".dev_units.bhkfiltered.unitcatfiltered.unitpricefiltered").remove();$(".dev_units").removeAttr("style");}
if(isunitcatfilter==false&&isbhkfilter==false&&isunitpricefilter==true){$(".dev_units").not(".dev_units.unitpricefiltered").remove();$(".dev_units").removeAttr("style");}
if(isunitcatfilter==true&&isunitpricefilter==true){$(".dev_units").not(".dev_units.unitcatfiltered.unitpricefiltered").remove();$(".dev_units").removeAttr("style");}
if(isbhkfilter==true&&isunitpricefilter==true){$(".dev_units").not(".dev_units.bhkfiltered.unitpricefiltered").remove();$(".dev_units").removeAttr("style");}
if(isunitcatfilter==true&&isbhkfilter==true){$(".dev_units").not(".dev_units.bhkfiltered.unitcatfiltered").remove();$(".dev_units").removeAttr("style");}
if(isunitcatfilter==true&&isbhkfilter==false){$(".dev_units").not(".dev_units.unitcatfiltered").remove();$(".dev_units").removeAttr("style");}
if(isunitcatfilter==false&&isbhkfilter==true){$(".dev_units").not(".dev_units.bhkfiltered").remove();$(".dev_units").removeAttr("style");}}else{$(".dev_units").removeAttr("style");}
$("em.checkboxkey").off("click");$("em.checkboxkey").on("click",function(){$('#loaderBox').show();var checkboxkey=$(this).attr("checkboxkey");var checkboxid=$(this).attr("checkboxid");if(checkboxkey=="value"){$("#min_price,#max_price").val('');$("#min_price").removeAttr("minval");$("#max_price").removeAttr("maxval");}else{if(checkboxkey=="filterprojecttags"){$("li["+checkboxkey+" = '"+checkboxid+"']").removeClass("active");}else{$("input["+checkboxkey+" = '"+checkboxid+"']").removeAttr("checked");}
if(window[checkboxkey]!=undefined&&window[checkboxkey].length>0){window[checkboxkey]=window[checkboxkey].filter(function(wcid){return wcid!=checkboxid;});}}
setTimeout(function(){dsefunction.loadData();});});}else{$("#dev_chipscount_container").remove();$(".dev_units").removeAttr("style");}
$('#chipUl .smChips em').on('click',function(){$(this).closest('div').remove()
if($('#chipUl div').hasClass('smChips')){$('#searchTextdseNp').attr('placeholder','Add More')
$('#chipUl').css('display','')}else{$('#searchTextdseNp').attr('placeholder','Search using Project Name, Builder, Locality, Landmark or Road')
$('#chipUl').css('display','none')}})
$('.changedLink, .gblFilterHeaderHeading strong').on('click',function(){$('.gblHalfPopup.npDSEfilterBy').addClass('active');})
$('.gblfilterByInnerBox .gblOverlay').on('click',function(){$('.gblHalfPopup.npDSEfilterBy').removeClass('active')})
if($('#chipUl div').hasClass('smChips')){$('#searchTextdseNp').attr('placeholder','Add More')
$('#chipUl').css('display','')}
$('.gblSearchesInputIcoClear em.clear').on('click',function(){$('#searchTextdseNp').val('');})
$("em.toggleBadge,#dev_resetbtn").off("click");$("em.toggleBadge,#dev_resetbtn ,#selfFilter").on("click",function(){var cityid=query.cityid;if($("#dev_city").attr("cityid")!=""){cityid=$("#dev_city").attr("cityid");}
var url="/search?cityid="+cityid;window.location.href=url;});homeJS.getAndSetCity({id:$("#dev_city").attr("cityid"),name:$("#dev_city").text()});$("ul#dev_changecity li.filtercity").off("click");$("ul#dev_changecity li.filtercity").on("click",function(){$('#loaderBox').show();$(this).closest('.dropdown-menu').siblings('.dropdown-toggle').text($(this).text());$(this).closest('.dropdown-menu').hide();if($(this).attr("filtercityid")>0){window.location.href="/property-in-"+$(this).text().trim().replace(/\W+/g,'-').toLowerCase();}else{window.location.href="/search";}});$(".tileBox .btnBox .btn-primary").on("click",async function(){if($(".popupForm").find("form").length>0){$("form#ClientInfoForm_dsepopup input#projectName").val($(this).attr("prjname"));$("form#ClientInfoForm_dsepopup input#DotcomProjectId").val($(this).attr("prjid"));$(".popupForm,.overLayBox,body").addClass("active");$('.formBox input.name').focus();return false;}
$('#loaderBox').show();var projectName=$(this).attr("prjname");var DotcomProjectId=$(this).attr("prjid");await $.ajax({async:true,dataType:"html",contentType:"application/json",success:function(data,textStatus){$(".popupForm").html(data);setTimeout(()=>{initializeContactForm_popup();$(".icon-close").on("click",function(){$(".popupForm,.overLayBox,body,#pdCalculate").removeClass("active");});$("form#ClientInfoForm_dsepopup input#projectName").val(projectName);$("form#ClientInfoForm_dsepopup input#DotcomProjectId").val(DotcomProjectId);if($("form#ClientInfoForm_dsepopup select#ddlCountryCode").attr("data-value")!=undefined&&$("form#ClientInfoForm_dsepopup select#ddlCountryCode").attr("data-value")!=""&&$("form#ClientInfoForm_dsepopup select#ddlCountryCode").attr("data-value")!=null){var countrycodeval=$("form#ClientInfoForm_dsepopup select#ddlCountryCode").attr("data-value");$("form#ClientInfoForm_dsepopup select#ddlCountryCode").val(countrycodeval);}
$(".popupForm,.overLayBox,body").addClass("active");$('.formBox input.name').focus();})
helperJS.initializeLazyLoad();},error:function(error){console.log(error);},type:"POST",url:"/getcontactform"});$('#loaderBox').hide();});$('#searchtext').on("keyup",function(event){if(event.keyCode===13){event.preventDefault();let url=dsefunction.getFilters();let dLayer_pagetype='';if(typeof(dataLayer)!="undefined"){for(let i=0;i<dataLayer.length;i++){if(dataLayer[i].PageType){dLayer_pagetype=dataLayer[i].PageType;break;}}}
let event_data=new URL(url,baseurl).searchParams;let eventName={"keyword":event_data.get('q'),"type":"New Projects","city":event_data.get('cityid'),"redirectUrl":baseurl+url,'pageType':dLayer_pagetype};_paq.push(['trackSiteSearch',JSON.stringify(eventName)]);eventName={"redirectUrl":baseurl+url,"type":"New Projects",'pageType':dLayer_pagetype};setTimeout(()=>{_paq.push(['trackEvent','filter','apply',JSON.stringify(eventName)]);},100);window.location.href=url;}});if(globalIsMobileBrowser=="true"){$("button.dev_applyfiters , .gblFltrSrchBxInptEm , .gblFltrMblSrchBxInptEm").off("click");$("button.dev_applyfiters , .gblFltrSrchBxInptEm , .gblFltrMblSrchBxInptEm").on("click",function(){dsefunction.loadData();});}else{$(".dseSearch ul.checkBox li input[type='checkbox']").off("click");$(".dseSearch ul.checkBox li input[type='checkbox']").on("click",function(){dsefunction.loadMoreAjaxData()});}
$(".dev_clearfilters").off("click");$(".dev_clearfilters").on("click",function(){var checkboxclassnames=$(this).attr("checkboxclassnames").split(",");$.each(checkboxclassnames,function(i,checkbox){$("."+checkbox).prop("checked",false);});dsefunction.loadMoreAjaxData();});$('.dev_clearAllfilters').on('click',function(){var cityname=homeJS.getCity().name;window.location='/property-in-'+cityname.replace(/\W+/g,'-').toLowerCase();})
$(".dev_clearfilters_budget").off("click");$(".dev_clearfilters_budget").on("click",function(){$("#min_price").val('');$("#min_price").attr("minval",0);$("#max_price").val('');$("#max_price").attr("maxval",0);dsefunction.loadMoreAjaxData();});},init:function(from){var globalIsMobileBrowser=$("#globalIsMobileBrowser").val();var cityid=$("#dev_city").attr("cityid");if(globalIsMobileBrowser=="true"&&window.location.href.indexOf("/search")!=-1&&from==undefined){var ispopuploaded=$(".gblMblFltr.gblMblFltrPopup").length>0;if(ispopuploaded==false){$.ajax({async:true,dataType:"html",data:{cityId:cityid},success:function(data,textStatus){$("#dev_mobile_filters_popup").html(data);$("#dev_addmore_locationbtn").click(function(){$("#dev_addmore_locationpopup").toggleClass("active");});$("#dev_addmore_roadbtn").click(function(){$("#dev_addmore_roadpopup").toggleClass("active");});$("#dev_addmore_builderbtn").click(function(){$("#dev_addmore_builderpopup").toggleClass("active");});$("#dev_addmore_landmarkbtn").click(function(){$("#dev_addmore_landmarkpopup").toggleClass("active");});$(".gblMblFltrMoreBtn").off("click");$(".gblMblFltrMoreBtn").on("click",function(){$(".gblMblFltrMore").toggleClass("active");$(".gblMblFltrBdy").animate({scrollTop:$(document).height()},1500);});$(".gblFltrClose").off("click");$(".gblFltrClose").on("click",function(){$(".gblMblFltrPopup,body").toggleClass("active");});dsefunction.dseinit("filterpopup");},error:function(error){console.log(error);},type:"POST",url:"/getdsefilterpopup"});}else{dsefunction.dseinit(from);}}else{if(globalIsMobileBrowser=="true"){dsefunction.dseinit(from);}else{if(window.filterdata==undefined){$.get(window.baseurl+"getdsefilterdata/"+cityid,function(data){window.filterdata=data;dsefunction.dseinit(from);});}else{dsefunction.dseinit(from);}}}},getFilters:function(){var globalIsMobileBrowser=$("#globalIsMobileBrowser").val();var filtermoreloaded=false;if($("#dev_more_filters_data").find("div.moreBox").length>0){filtermoreloaded=true;}
if(globalIsMobileBrowser=="true"){filtermoreloaded=true;}
var cityid=$("#dev_city").attr("cityid");var url="/search?cityid="+cityid;if($('#searchtext').val().trim()){url+='&q='+$('#searchtext').val().trim();}
var sizes=[];$("input.filterunitbhk").each(function(){if($(this).is(':checked')){sizes.push($(this).attr("filterunitbhk"));}});if(sizes.length>0){url=url+"&sizes="+sizes.toString();}
if($('input.filterunitcattype:checked').length){url+="&propertyTypeId="+$('input.filterunitcattype:checked').attr('filterunitcattype');}
var unitCatIds=[];$("input.filterunittype").each(function(){if($(this).is(':checked')){unitCatIds.push($(this).attr("filterunittype"));}});if(unitCatIds.length>0){url=url+"&unitCatIds="+unitCatIds.toString()}
var status=[];$("input.filterprojectstatus").each(function(){if($(this).is(':checked')){status.push($(this).attr("filterprojectstatus"));}});if(status.length>0){url=url+"&status="+status;}
var locationId=[];$('.searchKeyWordUl .smChips').each(function(){if($(this).data('category')=='MICROMARKET'){var locid=$(this).data('id');if(locationId.length==0){locationId.push(locid)}else{if(locationId.find(e=>e!=locid)){locationId.push(locid)}}}});$("input.filterlocation").each(function(){if($(this).is(':checked')){var flid=$(this).attr("filterlocation");locationId.push(flid);}});window.filterlocation=locationId;if(window.filterlocation!=undefined&&window.filterlocation.length>0){url=url+"&locationId="+window.filterlocation;}
var subLocationId=[];$('.searchKeyWordUl .smChips').each(function(){if($(this).data('category')=='LOCALITY'){var subLocid=$(this).data('id');if(subLocationId.length==0){subLocationId.push(subLocid);}else{if(subLocationId.find(e=>e!=subLocid)){subLocationId.push(subLocid)}}}});$("input.filtersublocation").each(function(){if($(this).is(':checked')){subLocationId.push($(this).attr("filtersublocation"));}});window.filtersublocation=subLocationId;if(window.filtersublocation!=undefined&&window.filtersublocation.length>0){url=url+"&subLocationId="+window.filtersublocation;}
if(filtermoreloaded==true){var landmarkId=[];$('.searchKeyWordUl .smChips').each(function(){if($(this).data('category')=='LANDMARK'){var lid=$(this).find('input[name="landmarkId"]').val();if(landmarkId.length==0){landmarkId.push(lid)}else{if(landmarkId.find(e=>e!=lid)){landmarkId.push(lid)}}}});$("input.fiterlandmark").each(function(){if($(this).is(":checked")){landmarkId.push($(this).attr("fiterlandmark")+'||'+$(this).attr("landmarkname"));}});window.fiterlandmark=landmarkId;}
if(window.fiterlandmark!=undefined&&window.fiterlandmark.length>0){url=url+"&landmarkId="+window.fiterlandmark;}
if(filtermoreloaded==true){var roadIds=[];$('.searchKeyWordUl .smChips').each(function(){if($(this).data('category')=='ROAD'){var rId=$(this).data('id');if(roadIds.length==0){roadIds.push(rId)}else{if(roadIds.find(e=>e!=rId)){roadIds.push(rId)}}}});$("input.filterroad").each(function(){if($(this).is(':checked')){roadIds.push($(this).attr("filterroad"));}});window.filterroad=roadIds;}
if(window.filterroad!=undefined&&window.filterroad.length>0){url=url+"&roadIds="+window.filterroad;}
var developerId=[];$('.searchKeyWordUl .smChips').each(function(){if($(this).data('category')=='BUILDER'){var builderid=$(this).data('id');if(developerId.length==0){developerId.push(builderid)}else{if(developerId.find(e=>e!=builderid)){developerId.push(builderid)}}}});$("input.fiterbuilder").each(function(){if($(this).is(':checked')){developerId.push($(this).attr("fiterbuilder"));}});window.fiterbuilder=developerId;if(window.fiterbuilder!=undefined&&window.fiterbuilder.length>0){url=url+"&developerId="+window.fiterbuilder;}
var additionalRooms=[];$("input.filterunitspaces").each(function(){if($(this).is(":checked")){additionalRooms.push($(this).attr("filterunitspaces"));}});if(additionalRooms.length>0){url=url+"&additionalRooms="+additionalRooms;}
if(globalIsMobileBrowser=="true"){var minval=$("#dev_mobile_min_budget").val();var maxval=$("#dev_mobile_max_budget").val();if(minval=="0"&&maxval=="0"){}else{if(minval!=undefined&&minval!=""&&maxval!=""&&maxval!=undefined){url=url+"&budget="+minval+"_"+maxval;}
if(minval!=undefined&&minval!=""&&(maxval==undefined||maxval=="")){url=url+"&budget="+minval;}}}else{if($("#min_price").attr("minval")=="0"&&$("#max_price").attr("maxval")=="0"){}else{if($("#min_price").attr("minval")!=undefined&&$("#min_price").attr("minval")!=""&&$("#max_price").attr("maxval")!=""&&$("#max_price").attr("maxval")!=undefined){url=url+"&budget="+$("#min_price").attr("minval")+"_"+$("#max_price").attr("maxval");}
if($("#min_price").attr("minval")!=undefined&&$("#min_price").attr("minval")!=""&&($("#max_price").attr("maxval")==undefined||$("#max_price").attr("maxval")=="")){url=url+"&budget="+$("#min_price").attr("minval");}}}
var tags=[];$("li.filterprojecttags").each(function(){if($(this).hasClass("active")==true){tags.push($(this).attr("filterprojecttags"));}});if(tags.length>0){url=url+"&tags="+tags;}
if($('.dseBox').hasClass('tileWithMap')){url=url+"&map=1";}
return url;},getUrlVars:function(){var vars=[],hash;var hashes=window.location.href.slice(window.location.href.indexOf('?')+1).split('&');for(var i=0;i<hashes.length;i++)
{hash=hashes[i].split('=');vars.push(hash[0]);vars[hash[0]]=hash[1];}
return vars;},getUrlFromVars:function(url){var vars={},hash;var hashes=url.slice(url.indexOf('?')+1).split('&');for(var i=0;i<hashes.length;i++)
{hash=hashes[i].split('=');vars[hash[0]]=hash[1];}
return vars;},RemoveParameterFromUrl:function(url,parameter){return url.replace(new RegExp('[?&]'+parameter+'=[^&#]*(#.*)?$'),'$1').replace(new RegExp('([?&])'+parameter+'=[^&]*&'),'$1');},searchFilter:function(key,id,resultid){if($("#"+id).length<=0){return;}
function split(val){return val.split(/,\s*/);}
function extractLast(term){return split(term).pop();}
function bindAutoComplete(ele,options){var text=$("#"+id+"hidden").val();text=text==null||text==undefined?"":text;console.log($(ele).autocomplete(options).autocomplete("instance"));$(ele).autocomplete(options).autocomplete("instance")._renderItem=function(ul,item){$(ul).addClass("checkBox");$(ul).css("height","auto");var checked=(text.indexOf(item.label+', ')>-1?'checked':'');var checkboxstyle="height: 17px;padding: 0;line-height: inherit;border: 1px solid #ddd;border-radius: 3px;"
var globalIsMobileBrowser=$("#globalIsMobileBrowser").val();if(globalIsMobileBrowser=="true"){return $("<li class='gblFltrChckBxLi' style='padding: 0px;'></li>").data("item.autocomplete",item).append('<label class="gblFltrChckBxLbl">'+item.label+'</label>').appendTo(ul);}else{return $("<li class='gblFltrChckBxLi' style='padding: 0px;'></li>").data("item.autocomplete",item).append('<label class="gblFltrChckBxLbl"><input style="'+checkboxstyle+'" class="optionInput tkBo gblFltrChckBxInpt" type="checkbox"'+checked+'/>'+item.label+'</label>').appendTo(ul);}};}
var $this;var cityid=$("#dev_city").attr("cityid");var multiSelectOptions={appendTo:$("#"+resultid),source:function(request,response){$.ajax({url:'searchfilterautosuggest',dataType:"json",data:{cityId:cityid,searchtext:request.term,searchkey:key},type:"GET",success:function(data){if(data!=undefined&&data.length!=undefined&&data.length>=10){data=data.filter(function(df,di){return di<=8;});}
if($("#"+id).val()==""){$("#"+resultid).siblings(".column").show();}else{$("#"+resultid).siblings(".column").hide();}
response($.map(data,function(item){return{label:item.FilterName}}));}});},focus:function(){return false;},select:function(event,ui){console.log(event);event.preventDefault();var terms=split($("#"+id+"hidden").val());if(terms[terms.length-1]==""){terms.pop();}
terms.push(ui.item.value);terms.push("");if(key=="ZONE"){$("#"+id).val(terms.join("|| "));}else{$("#"+id).val(terms.join(", "));}
$("#"+id+"hidden").val($("#"+id).val());$("#"+id).focusout();if(key=="ZONE"){dsefunction.doLocationSorting();dsefunction.loadMoreAjaxData();}
if(key=="LANDMARK"){dsefunction.doLandmarkSorting();dsefunction.loadMoreAjaxData();}
if(key=="BUILDER"){dsefunction.doBuilderSorting();dsefunction.loadMoreAjaxData();}
if(key=="ROAD"){dsefunction.doRoadSorting();dsefunction.loadMoreAjaxData();}
return false;},open:function(){$("ul.ui-menu").width($(this).innerWidth());}};$("#"+id).on("keydown",function(event){if(event.keyCode===$.ui.keyCode.TAB&&$(this).autocomplete("instance").menu.active){event.preventDefault();}
bindAutoComplete($this,multiSelectOptions);setTimeout(function(){if($("#"+id).val()==""){$("#"+resultid).siblings(".column").show();}else{$("#"+resultid).siblings(".column").hide();}});}).on('focus',function(){$this=$("#"+id);var text=$this.val();bindAutoComplete($this,multiSelectOptions);$($this).autocomplete("search");setTimeout(function(){if($("#"+id).val()==""){$("#"+resultid).siblings(".column").show();}else{$("#"+resultid).siblings(".column").hide();}});});},selectFilter:function(id,searchval,key){function split(val){return val.split(/,\s*/);}
function extractLast(term){return split(term).pop();}
$("#"+id).val(searchval);var terms=split($("#"+id+"hidden").val());if(terms[terms.length-1]==""){terms.pop();}
terms.push(searchval);terms.push("");if(key=="ZONE"){$("#"+id).val(terms.join("|| "));}else{$("#"+id).val(terms.join(", "));}
$("#"+id+"hidden").val($("#"+id).val());$("#"+id).focusout();if(key=="ZONE"){dsefunction.doLocationSorting();}
if(key=="LANDMARK"){dsefunction.doLandmarkSorting();}
if(key=="BUILDER"){dsefunction.doBuilderSorting();}
if(key=="ROAD"){dsefunction.doRoadSorting();}
return false;},formatPrice:function(prcVal,chkDivision){var x=prcVal;var len=x.toString().length;if(len<6){x;}
if(chkDivision=='Cr'){x=x/Math.pow(10,7);x=Math.floor(x*100)/100;}else if(chkDivision=='L'){x=x/Math.pow(10,5);x=Math.floor(x*100)/100;}
return x;},priceText:function(prcVal){var x=prcVal;var len=x.toString().length;if(len<6){x="";}
else{if(len<=7){x="L";}else{if(prcVal<10000000){x="L";}else{x="Cr";}}}
return x;},loadData(){let url=dsefunction.getFilters();let dLayer_pagetype='';if(typeof(dataLayer)!="undefined"){for(let i=0;i<dataLayer.length;i++){if(dataLayer[i].PageType){dLayer_pagetype=dataLayer[i].PageType;break;}}}
let eventName={"redirectUrl":url,"type":"New Projects",'pageType':dLayer_pagetype};_paq.push(['trackEvent','filter','apply',JSON.stringify(eventName)]);window.location.href=url;},loadMoreAjaxData(){let url=dsefunction.getFilters();let dLayer_pagetype='';if(typeof(dataLayer)!="undefined"){for(let i=0;i<dataLayer.length;i++){if(dataLayer[i].PageType){dLayer_pagetype=dataLayer[i].PageType;break;}}}
let eventName={"redirectUrl":url,"type":"New Projects",'pageType':dLayer_pagetype};_paq.push(['trackEvent','filter','apply',JSON.stringify(eventName)]);dsefunction.loadMoreAjax(url);window.history.replaceState(null,"",url);}}