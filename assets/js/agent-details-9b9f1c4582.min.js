var onesAndTeens=["","one ","two ","three ","four ","five ","six ","seven ","eight ","nine ","ten ","eleven ","twelve ","thirteen ","fourteen ","fifteen ","sixteen ","seventeen ","eighteen ","nineteen "],tens=["","","twenty","thirty","forty","fifty","sixty","seventy","eighty","ninety"];const helperJS={setCookie:(t,e,n=24)=>{const i=new Date;i.setTime(i.getTime()+60*n*60*1e3),"object"==typeof e&&(e=JSON.stringify(e));const o=t+"="+e+";"+("expires="+i.toUTCString())+";path=/";document.cookie=o},getCookie:t=>{const e=document.cookie.split(";");let n=null;for(var i=0;i<e.length;i++){let o=e[i];if(o.split("=")[0].trim()==t){let t=o.split("=")[1].trim();try{try{n=JSON.parse(t)}catch(e){n=t}}catch{n=[]}break}}return n},setLocalItem:(t,e)=>{const n=JSON.stringify(e);localStorage.setItem(t,n)},getLocalItem:t=>{let e=localStorage.getItem(t);return e&&(e=JSON.parse(e)),e},setSessionItem:(t,e)=>{const n=JSON.stringify(e);sessionStorage.setItem(t,n)},getSessionItem:t=>{let e=sessionStorage.getItem(t);return e&&(e=JSON.parse(e)),e},ajaxGetData:async t=>new Promise(function(e,n){var i={url:t,method:"GET",success:function(t){e(t)},failure:function(t){console.log("failure",t),n(t)},error:function(t){console.log("error",t),n(t)}};$.ajax(i)}),bindCompare:()=>{let t=helperJS.getCookie("selected_fav_tab").type||"PROJECT",e=helperJS.getCookie("checkedFavs")||[],n=helperJS.getCookie("rental_checkedFavs")||[],i=helperJS.getCookie("resale_checkedFavs")||[];"RENTAL"==t&&n.length>1||"RESALE"==t&&i.length>1||"PROJECT"==t&&e.length>1?($("#shortlist-compare").removeAttr("disabled"),$("#shortlist-error").hide()):($("#shortlist-compare").attr("disabled","disabled"),$("#shortlist-error").hide())},addCheckedShortlist:(t,e)=>{checkedFavs=helperJS.getCookie(e+"_checkedFavs")||[],""==e&&(checkedFavs=helperJS.getCookie("checkedFavs")||[]);let n=-1;for(let e=0;e<checkedFavs.length;e++)checkedFavs[e]==t&&(n=e);n<0&&checkedFavs.push(t),""==e?helperJS.setCookie("checkedFavs",checkedFavs):helperJS.setCookie(e+"_checkedFavs",checkedFavs),helperJS.addShortListInUserDB(t,e)},addShortListInUserDB:(t,e)=>{var n="new";""!=e&&(n=e,"resale"==e.toLowerCase()&&(n="sale"),"rental"==e.toLowerCase()&&(n="rent")),$.ajax({type:"POST",url:"/user/shortlist/add",dataType:"json",data:{type:n,projectId:t},success:function(t){console.log(t)},failure:function(t){console.log(`error: ${t}`)}})},removeCheckedShortlist:(t,e)=>{if(""==e){let e=helperJS.getCookie("checkedFavs")||[],n=-1;for(let i=0;i<e.length;i++)e[i]==t&&(n=i);n>-1&&e.splice(n,1),helperJS.setCookie("checkedFavs",e)}else{let n=helperJS.getCookie(e+"_checkedFavs")||[],i=-1;for(let e=0;e<n.length;e++)n[e]==t&&(i=e);i>-1&&n.splice(i,1),helperJS.setCookie(e+"_checkedFavs",n)}helperJS.removeShortListInUserDB(t,e)},removeShortListInUserDB:(t,e)=>{var n="new";""!=e&&(n=e,"resale"==e.toLowerCase()&&(n="sale"),"rental"==e.toLowerCase()&&(n="rent")),$.ajax({type:"POST",url:"/user/shortlist/delete",dataType:"json",data:{type:n,projectId:t},success:function(t){console.log(t)},failure:function(t){console.log(`error: ${t}`)}})},addOrRemoveFav:(t,e,n,i)=>{if(""==n&&""==i){let i=helperJS.getCookie("favs")||[],o=-1;for(let n=0;n<i.length;n++)i[n].projectId==t&&i[n].unitId==e&&(o=n);let r="";if("undefined"!=typeof dataLayer)for(let t=0;t<dataLayer.length;t++)if(dataLayer[t].PageType){r=dataLayer[t].PageType;break}let a={projectId:t,type:"New Projects",pageType:r};o>-1?(i.splice(o,1),helperJS.removeShortListInUserDB(t,n),_paq.push(["trackEvent","shortlist","remove",JSON.stringify(a)])):(i.push({projectId:t,unitId:e}),helperJS.addCheckedShortlist(t,n,"add"),_paq.push(["trackEvent","shortlist","add",JSON.stringify(a)])),helperJS.setCookie("favs",i)}else{let e=helperJS.getCookie(n+"_favs")||[],o=-1;for(let n=0;n<e.length;n++)e[n].propertyid==t&&(o=n);let r="";if("undefined"!=typeof dataLayer)for(let t=0;t<dataLayer.length;t++)if(dataLayer[t].PageType){r=dataLayer[t].PageType;break}let a={propertyId:t,type:"resale"==n?"Resale":"Rental",agentName:$("#prop_"+t+" .infoBox strong span ").html(),agentId:$("#prop_"+t).attr("data-user"),pageType:r};o>-1?(e.splice(o,1),helperJS.removeShortListInUserDB(t,n),_paq.push(["trackEvent","shortlist","remove",JSON.stringify(a)])):(e.push(i),helperJS.addCheckedShortlist(t,n,""),_paq.push(["trackEvent","shortlist","add",JSON.stringify(a)])),helperJS.setCookie(n+"_favs",e)}},removeFavByProjectId:(t,e)=>{if(""==e){let e=(helperJS.getCookie("favs")||[]).filter(e=>e.projectId!=t);helperJS.setCookie("favs",e)}else{let n=(helperJS.getCookie(e+"_favs")||[]).filter(e=>e.propertyid!=t);helperJS.setCookie(e+"_favs",n)}},bindShortlistWindow:()=>{var t=(Math.floor(1e4*Math.random())+1e4).toString().substring(1);let e=baseUrl+"shortlist/"+t;var n=$("header").attr("page");null!=n&&null!=n&&""!=n&&("DSE"!=n&&"DSE-SEARCH"!=n&&"LISTING"!=n&&"AZURO_LISTING"!=n||(e=baseUrl+"shortlistDSE/"+t)),helperJS.ajaxGetData(e).then(function(t){let e=helperJS.getCookie("favs")||[],n=helperJS.getCookie("resale_favs")||[],i=helperJS.getCookie("rental_favs")||[],o=(helperJS.getCookie("selected_fav_tab").type,e.length+n.length+i.length);o>0?$("header .topNav ul li#Favorite_Icon em").addClass("active"):$("header .topNav ul li#Favorite_Icon em").removeClass("active"),$("#favnumber").length>0&&(o>0?$("#favnumber").show().html(o):$("#favnumber").hide()),$("#favnumber").length>0&&(o>0?($(".countNum").html(o),screen.width<800&&$(".countNum").show()):$(".countNum").hide()),$("#shortlist-error").hide(),$("#projectTiles").html(t),$("#shotlistPopup .projectcheckboxes").click(function(){$(this);let t=$(this).data("projectid");this.checked?helperJS.addCheckedShortlist(t,""):helperJS.removeCheckedShortlist(t,""),helperJS.bindCompare()}),$("#shotlistPopup .resalecheckboxes").click(function(){$(this);let t=$(this).data("projectid");this.checked?helperJS.addCheckedShortlist(t,"resale"):helperJS.removeCheckedShortlist(t,"resale"),helperJS.bindCompare()}),$("#shotlistPopup .rentalcheckboxes").click(function(){$(this);let t=$(this).data("projectid");this.checked?helperJS.addCheckedShortlist(t,"rental"):helperJS.removeCheckedShortlist(t,"rental"),helperJS.bindCompare()}),$("#shotlistPopup .deleteItem em").click(function(){let t=$(this).data("projectid"),e="";e=void 0!==$(this).data("type")?$(this).data("type"):"",$(this).parents(".projectTile").remove(),helperJS.removeFavByProjectId(t,e),helperJS.removeCheckedShortlist(t,e),helperJS.bindShortlistWindow()});let r=helperJS.getCookie("checkedFavs")||[],a=$("#shotlistPopup .projectcheckboxes");a.removeAttr("checked"),$.each(a,function(t,e){$projectCheckbox=$(e);let n=$projectCheckbox.data("projectid");for(let t=0;t<r.length;t++)n==r[t]&&$projectCheckbox.attr("checked","checked")});let s=helperJS.getCookie("resale_checkedFavs")||[],l=$("#shotlistPopup .resalecheckboxes");l.removeAttr("checked"),$.each(l,function(t,e){$resaleCheckbox=$(e);let n=$resaleCheckbox.data("projectid");for(let t=0;t<s.length;t++)n==s[t]&&$resaleCheckbox.attr("checked","checked")});let c=helperJS.getCookie("rental_checkedFavs")||[],u=$("#shotlistPopup .rentalcheckboxes");u.removeAttr("checked"),$.each(u,function(t,e){$rentalCheckbox=$(e);let n=$rentalCheckbox.data("projectid");for(let t=0;t<c.length;t++)n==c[t]&&$rentalCheckbox.attr("checked","checked")}),helperJS.bindShortlistColors(),helperJS.bindRentalResaleShortlistColors(),helperJS.bindCompare()})},bindShortlistColors:()=>{let t=$(".shortlistcontainerlink"),e=helperJS.getCookie("favs");t.removeClass("active"),$.each(t,(t,n)=>{$shortlistIcon=$(n);let i=$shortlistIcon.data("projectid"),o=$shortlistIcon.data("unitid")||0;if(e)for(let t=0;t<e.length;t++)i==e[t].projectId&&o==e[t].unitId&&$shortlistIcon.addClass("active")})},bindRentalResaleShortlistColors:()=>{let t=$(".shortlistcontainerlink1"),e=helperJS.getCookie("rental_favs"),n=helperJS.getCookie("resale_favs");t.removeClass("active"),$.each(t,(t,n)=>{$shortlistIcon=$(n);let i=$shortlistIcon.data("propertyid");if(e)for(let t=0;t<e.length;t++)i==e[t].propertyid&&$shortlistIcon.addClass("active")}),$.each(t,(t,e)=>{$shortlistIcon=$(e);let i=$shortlistIcon.data("propertyid");if(n)for(let t=0;t<n.length;t++)i==n[t].propertyid&&$shortlistIcon.addClass("active")})},bindResaleShortlistColors:()=>{let t=$(".shortlistcontainerlink1"),e=helperJS.getCookie("resale_favs");t.removeClass("active"),$.each(t,(t,n)=>{$shortlistIcon=$(n);let i=$shortlistIcon.data("propertyid");if(e)for(let t=0;t<e.length;t++)i==e[t].propertyid&&$shortlistIcon.addClass("active")})},bindRentalShortlistColors:()=>{let t=$(".shortlistcontainerlink1"),e=helperJS.getCookie("rental_favs");t.removeClass("active"),$.each(t,(t,n)=>{$shortlistIcon=$(n);let i=$shortlistIcon.data("propertyid");if(e)for(let t=0;t<e.length;t++)i==e[t].propertyid&&$shortlistIcon.addClass("active")})},initializeInputs:()=>{let t=helperJS.getCookie("favs")||[],e=helperJS.getCookie("resale_favs")||[],n=helperJS.getCookie("rental_favs")||[],i=t.length+e.length+n.length;$("#favnumber").length>0&&(i>0?$("#favnumber").show().html(i):$("#favnumber").hide()),$("#favnumber").length>0&&(i>0?($(".countNum").html(i),screen.width<800&&$(".countNum").show()):$(".countNum").hide()),helperJS.bindShortlistWindow();let o="";$("#shotlistPopup").hover(function(){o&&(clearTimeout(o),o="")},function(){o=setTimeout(function(){$("#shotlistPopup").removeClass("active")},2e3)}),$(".shortlistcontainerlink").off("click"),$(".shortlistcontainerlink").on("click",function(t){helperJS.setCookie("notification",1),helperJS.setCookie("selected_fav_tab",{type:"PROJECT"}),helperJS.initializeShortlisting(),o&&(clearTimeout(o),o="");let e=$(this).data("projectid"),n=$(this).data("unitid")||0,i=helperJS.getCookie("checkedFavs")||[],r=[];i.length>0&&(r=i.filter(t=>e!=t)),helperJS.isMobileBrowser()&&(i.length==r.length?($(".Shorttlis").show(),setTimeout(function(){$(".Shorttlis").hide()},2e3)):($(".Shorttlis1").show(),setTimeout(function(){$(".Shorttlis1").hide()},2e3))),helperJS.setCookie("checkedFavs",r),helperJS.addOrRemoveFav(e,n,"",""),helperJS.bindShortlistWindow(),helperJS.bindShortlistColors(),helperJS.isMobileBrowser()||($("#shotlistPopup").addClass("active"),o=setTimeout(function(){$("#shotlistPopup").removeClass("active")},2e3)),$(".shortlistDiv").addClass("shake-horizontal"),setTimeout(function(){$(".shortlistDiv").removeClass("shake-horizontal")},300),$(this).toggleClass("active"),helperJS.bindCompare(),helperJS.isMobileBrowser()&&$("#Favorite_Icon").click(),t.stopPropagation()}),$(".sortList").on("click",function(){helperJS.setCookie("notification",0)}),$(".shortlistheader .icon-close").on("click",function(){helperJS.getNotified()}),$(".shortlistcontainerlink1").off("click"),$(".shortlistcontainerlink1").on("click",function(t){t.preventDefault(),t.stopPropagation(),helperJS.setCookie("notification",1),o&&(clearTimeout(o),o="");let e=$(this).data("propertyid"),n={},i=$(this).data("price"),r=$(this).data("name"),a=$(this).data("locality"),s=$(this).data("propertyid"),l=$(this).data("image");null!=l&&null!=l&&-1!=l.indexOf("?")&&(l=l.split("?")[0]);let c,u,h=$(this).data("type");$(this).data("url");n={price:i,name:r,locality:a,propertyid:s,image:l,type:h};let d=[];"resale"==h?(c=helperJS.getCookie("resale_checkedFavs")||[]).length>0&&(d=c.filter(t=>s!=t),helperJS.setCookie("resale_checkedFavs",d)):(u=helperJS.getCookie("rental_checkedFavs")||[]).length>0&&(d=u.filter(t=>s!=t),helperJS.setCookie("rental_checkedFavs",d)),helperJS.isMobileBrowser()&&(("resale"==h?c.length==d.length:u.length==d.length)?($(".Shorttlis").show(),setTimeout(function(){$(".Shorttlis").hide()},2e3)):($(".Shorttlis1").show(),setTimeout(function(){$(".Shorttlis1").hide()},2e3))),helperJS.addOrRemoveFav(e,0,h,n),helperJS.bindShortlistWindow(),"resale"==h?(helperJS.setCookie("selected_fav_tab",{type:"RESALE"}),helperJS.bindResaleShortlistColors(),helperJS.initializeShortlisting()):(helperJS.setCookie("selected_fav_tab",{type:"RENTAL"}),helperJS.bindRentalShortlistColors(),helperJS.initializeShortlisting()),helperJS.isMobileBrowser()||($("#shotlistPopup").addClass("active"),o=setTimeout(function(){$("#shotlistPopup").removeClass("active")},2e3)),$(".shortlistDiv").addClass("shake-horizontal"),setTimeout(function(){$(".shortlistDiv").removeClass("shake-horizontal")},300),$(this).toggleClass("active"),helperJS.bindCompare(),helperJS.isMobileBrowser()&&$("#Favorite_Icon").click(),t.stopPropagation(),t.preventDefault()}),$("#resale_shortlist_tab").off("click"),$("#resale_shortlist_tab").on("click",function(){helperJS.setCookie("selected_fav_tab",{type:"RESALE"}),$("#project_shortlist_tab").removeClass("active"),$("#rental_shortlist_tab").removeClass("active"),$("#resale_shortlist_tab").addClass("active"),$('div[id^="shortlistProject"]').hide(),$('div[id^="shortlistRental"]').hide(),$('div[id^="shortlistResale"]').show(),helperJS.initializeShortlisting()}),$("#rental_shortlist_tab").off("click"),$("#rental_shortlist_tab").on("click",function(){helperJS.setCookie("selected_fav_tab",{type:"RENTAL"}),$("#project_shortlist_tab").removeClass("active"),$("#rental_shortlist_tab").addClass("active"),$("#resale_shortlist_tab").removeClass("active"),$('div[id^="shortlistProject"]').hide(),$('div[id^="shortlistRental"]').show(),$('div[id^="shortlistResale"]').hide(),helperJS.initializeShortlisting()}),$("#project_shortlist_tab").off("click"),$("#project_shortlist_tab").on("click",function(){helperJS.setCookie("selected_fav_tab",{type:"PROJECT"}),$("#project_shortlist_tab").addClass("active"),$("#rental_shortlist_tab").removeClass("active"),$("#resale_shortlist_tab").removeClass("active"),$('div[id^="shortlistProject"').show(),$('div[id^="shortlistRental"').hide(),$('div[id^="shortlistResale"').hide(),helperJS.initializeShortlisting()}),$("#shortlist-compare").click(function(){let t=helperJS.getCookie("selected_fav_tab").type||"PROJECT";if("RESALE"==t){let t=helperJS.getCookie("resale_checkedFavs")||[];if(t.length>4)$("#shortlist-error").show().html("Maximum 4 properties can be compared at one go."),$("#shortlist-compare").removeAttr("disabled");else{let e=baseUrl+`resale/compare/${t[0]}/`;t.length>1&&(e=e+t[1]+"/"),t.length>2&&(e=e+t[2]+"/"),t.length>3&&(e+=t[3]),$("#shortlist-compare").attr("disabled","disabled").data("href",e),$("#shortlist-error").hide(),window.location=e}}else if("RENTAL"==t){let t=helperJS.getCookie("rental_checkedFavs")||[];if(t.length>4)$("#shortlist-error").show().html("Maximum 4 properties can be compared at one go."),$("#shortlist-compare").removeAttr("disabled");else{let e=baseUrl+`rental/compare/${t[0]}/`;t.length>1&&(e=e+t[1]+"/"),t.length>2&&(e=e+t[2]+"/"),t.length>3&&(e+=t[3]),$("#shortlist-compare").attr("disabled","disabled").data("href",e),$("#shortlist-error").hide(),window.location=e}}else{let t=helperJS.getCookie("checkedFavs")||[];if(t.length>4)$("#shortlist-error").show().html("Maximum 4 projects can be compared at one go."),$("#shortlist-compare").removeAttr("disabled");else{let e=baseUrl+`compare/${t[0]}/`;t.length>1&&(e=e+t[1]+"/"),t.length>2&&(e=e+t[2]+"/"),t.length>3&&(e+=t[3]),$("#shortlist-compare").attr("disabled","disabled").data("href",e),$("#shortlist-error").hide(),window.location=e}}})},hideOrShowTabs:()=>{let t="PROJECT";null==helperJS.getCookie("selected_fav_tab")?(helperJS.setCookie("selected_fav_tab",{type:"PROJECT"}),$('div[id^="shortlistProject"]').show(),$('div[id^="shortlistResale"]').hide(),$('div[id^="shortlistRental"]').hide(),$("#project_shortlist_tab").addClass("active"),$("#rental_shortlist_tab").removeClass("active"),$("#resale_shortlist_tab").removeClass("active")):"RESALE"==(t=helperJS.getCookie("selected_fav_tab").type)?($('div[id^="shortlistProject"]').hide(),$('div[id^="shortlistResale"]').show(),$('div[id^="shortlistRental"]').hide(),$("#project_shortlist_tab").removeClass("active"),$("#rental_shortlist_tab").removeClass("active"),$("#resale_shortlist_tab").addClass("active")):"RENTAL"==t?($('div[id^="shortlistProject"]').hide(),$('div[id^="shortlistResale"]').hide(),$('div[id^="shortlistRental"]').show(),$("#project_shortlist_tab").removeClass("active"),$("#rental_shortlist_tab").addClass("active"),$("#resale_shortlist_tab").removeClass("active")):($('div[id^="shortlistProject"]').show(),$('div[id^="shortlistResale"]').hide(),$('div[id^="shortlistRental"]').hide(),$("#project_shortlist_tab").addClass("active"),$("#rental_shortlist_tab").removeClass("active"),$("#resale_shortlist_tab").removeClass("active"))},getNotified:()=>{1==helperJS.getCookie("notification")?screen.width<800&&$(".notification").show():screen.width<800&&$(".notification").hide()},initializeShortlist:()=>{helperJS.getNotified(),helperJS.hideOrShowTabs(),helperJS.initializeInputs(),$(".shortlistDiv").off("click"),$(document).on("click",".shortlistDiv",function(){$(".shotlistPopup").hasClass("active")?$(".shotlistPopup").removeClass("active"):$(".shotlistPopup").addClass("active"),helperJS.bindShortlistWindow()}),$(".shotlistPopup .projectTiles .shortlistheader em,.bannerBox,.cityContainer,.ourToolsBox").on("click",function(){$(".shotlistPopup,body,header .navToggle #nav-toggle, header nav, .navOverlay").removeClass("active")})},initializeShortlisting:()=>{helperJS.getNotified(),helperJS.hideOrShowTabs(),helperJS.initializeInputs()},isMobileBrowser:()=>{var t=!1;return function(e){(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4)))&&(t=!0)}(navigator.userAgent||navigator.vendor||window.opera),t},goToURL:(t,e)=>(e?1==(e=e.split("/")).length&&"_blank"==e[0]?window.open(t,e):$(document).width()<=800&&"_self"==e[1]?window.location.href=t:window.open(t,e):window.location.href=t,!1),initializeLazyLoad:()=>{const t=new IntersectionObserver((t,e)=>{t.forEach(t=>{if(t.isIntersecting){const e=t.target;e.src.replace(baseUrl,"")!=encodeURI(e.dataset.src?e.dataset.src.replace(baseUrl,""):"")&&(e.src=e.dataset.src)}})});document.querySelectorAll("img.lazy").forEach(e=>{t.observe(e)})},ucfirst:t=>0==t?"":t.charAt(0).toUpperCase()+t.slice(1),reportListing:function(t,e){let n=t.serializeArray(),i=t.children("input#propertyId").attr("data-propertyid"),o=(n=n.map(t=>t.value))[2]+"-"+n[3],r=n[4];if(""==n[0])return t.children("span#error").show(),t.children("span#error").html("Please select a reason"),!1;if("others"==n[0]&&""==n[1])return t.children("span#error").show(),t.children("span#error").html("Please provide a reason."),!1;{t.children("span#error").hide();let a=n[0];"others"==a&&(a=n[1]),$.ajax({type:"POST",url:"/"+e+"/reportListing",dataType:"json",data:{remarks:a,propertyId:i,customerPhoneNumber:o,customerEmail:r,source:"DOTCOM"},success:function(e){if(!e.status)return console.log("error from api..."),!1;t.removeClass("active"),$(".thankYouReport").addClass("active"),$("form#reportListingForm .input-group-mobile").hide(),$("form#reportListingForm .input-group-email").hide()},failure:function(t){console.log(`error: ${t}`)}})}},restrictAlphabets:t=>{var e=t.which||t.keycode;return e>=48&&e<=57||8==e||e>=35&&e<=40||46==e},convertAmountToWord:(t,e)=>{e=e||!1;var n=t;isNaN(t)&&(n=t.replace(/\s/g,""));var i=Math.round(n).toString().length;return i<6?n.toString().replace(/(\d)(?=(\d\d)+\d(?!\d))/g,"$1,"):(i<=7?(n/=Math.pow(10,5),n=e?Math.round(n):Math.floor(100*n)/100,n+=" Lac"):(n/=Math.pow(10,7),n=e?Math.round(n):Math.floor(100*n)/100,n+=" Cr."),n.toString())},convertWordToAmount:t=>((t=t.replace("₹","")).indexOf(",")>=0?t=t.replace(/\,/g,""):t.indexOf(" Lac")>=0?t=1e5*t.replace(" Lac",""):t.indexOf(" Cr.")>=0&&(t=1e7*t.replace(" Cr.","")),t),indiaNumberWordFormat:t=>{if((t=t.toString()).length>9)return"max limit reached";if(n=("000000000"+t).substr(-9).match(/^(\d{2})(\d{2})(\d{2})(\d{1})(\d{2})$/),n){var e="";return e+=0!=n[1]?(onesAndTeens[Number(n[1])]||tens[n[1][0]]+" "+onesAndTeens[n[1][1]])+"crore ":"",e+=0!=n[2]?(onesAndTeens[Number(n[2])]||tens[n[2][0]]+" "+onesAndTeens[n[2][1]])+"lakh ":"",e+=0!=n[3]?(onesAndTeens[Number(n[3])]||tens[n[3][0]]+" "+onesAndTeens[n[3][1]])+"thousand ":"",e+=0!=n[4]?(onesAndTeens[Number(n[4])]||tens[n[4][0]]+" "+onesAndTeens[n[4][1]])+"hundred ":"",e+=0!=n[5]?(""!=e?"and ":"")+(onesAndTeens[Number(n[5])]||tens[n[5][0]]+" "+onesAndTeens[n[5][1]]):""}},changeNumberFormat(t,e,n){const i=e||2,o=t/1e5;let r;function a(t){return+t.toLocaleString(void 0,{minimumFractionDigits:i,maximumFractionDigits:i})}if(o>=1&&o<=99){r=`${a(o)} L`}else if(o>=100){const t=a(o/100);r=`${t>=1e5?changeNumberFormat(t,e,!0):t} Cr`}else r=a(+t);return r},internationalNumberWordFormat:t=>{let e=["thousand","million",""],n="";t=("000000000"+t.toString()).substr(-9).match(/.{3}/g);for(var i=0;i<e.length;i++){var o=t[i],r="";r+=""!=n?" "+e[e.length-1-i]+" ":"",r+=0!=o[0]?onesAndTeens[Number(o[0])]+"hundred ":"",n+=r+=0!=(o=o.substr(1))?(""!=r?"and ":"")+(onesAndTeens[Number(o)]||tens[o[0]]+" "+onesAndTeens[o[1]]):""}return n.replace(/ +/g," ").replace(/ $/,"")},indiaNumberFormat:t=>t.toString().replace(/(\d)(?=(\d\d)+\d(?!\d))/g,"$1,"),internationalNumberFormat:t=>t.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,"),alertBox(t,e){$(".alertMsg.active").remove(),$("body").append($("<div/>",{class:"alertMsg "+t+" active"}).append($("<div/>",{class:"iconBox"}).append($("<span/>").append($("<img/>",{class:"img-responsive",src:"/assets/images/alert/"+t+".svg"}))),$("<div/>",{class:"msgBody"}).append($("<em/>",{class:"icon-close"}).on("click",function(){$(this).closest(".alertMsg").remove()}),$("<strong/>",{text:t}),$("<p/>",{text:e}))).delay(1e4).queue(function(){$(this).remove()}))},generateRandomString:t=>{t=t||5;let e="";const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=n.length;for(var o=0;o<t;o++)e+=n.charAt(Math.floor(Math.random()*i));return e},convertWordToFullText:(t,e="in")=>{switch(t=t.toString().replace(/,/g,""),e.toLowerCase()){case"in":return helperJS.indiaNumberWordFormat(t);case"uae":default:return helperJS.internationalNumberWordFormat(t)}},numberFormat:(t,e="in")=>{switch(t=t.toString().replace(/,/g,""),e.toLowerCase()){case"in":return helperJS.indiaNumberFormat(t);case"uae":default:return helperJS.internationalNumberFormat(t)}},pushUserHistory:()=>{$(".UMHeader .col.col1 span").text(document.title);let t=helperJS.getCookie("userHistory");if(t||(t=[]),t.length>=1&&t[t.length-1].url==location.href)return!1;t.length>=20&&(t=t.splice(t.length-19)),t.push({title:document.title,url:location.href}),helperJS.setCookie("userHistory",t)},initUserHistoryBack:()=>{let t=helperJS.getCookie("userHistory");$(".UMHeader .col.col1 .back-btn").on("click",function(){if($("#loaderBox").show(),!t||1===t.length)return void(window.location.href=_BASE_URL);t.pop();let e=t.pop();helperJS.setCookie("userHistory",t),window.location.href=e.url})},firepixel_detail:(t,e)=>{if(1==isfirepixel){ta("send","lead"),gtag_report_conversion(window.location.href);var n=0;t.apiResp&&t.apiResp[0]&&parseInt(t.apiResp[0].leadId)&&(n=parseInt(t.apiResp[0].leadId)),n>0&&fbq("track","Lead"),_tfa.push({notify:"event",name:"lead",id:1125593}),$("#dev_taboola_lead_noscript").html(taboolanoscript),$.getScript("/assets/lib/js/colombiapixel.js",function(){$("#dev_colombia_lead_noscript").html(colombianoscript)}),window.dotq=window.dotq||[],window.dotq.push({projectId:"10000",properties:{pixelId:"10066198",qstrings:{et:"custom",ec:"SQY_YahooG_Sec_Leads",ea:"Yahoo_Lead"}}})}}};var pluginfn={init:function(t,e){$.getScript("/assets/lib/js/moment.min.js",function(){$.getScript("/assets/lib/js/moment-range.js",function(){$.getScript("/assets/lib/js/lodash.min.js",function(){var n=pluginfn.getDates(1,10),i=pluginfn.getTimeSlots("10:00","19:00",30),o="",r="";$.each(n,function(t,e){var n="";0==t&&(n="active"),o=o+'<div class="item"><div class="list '+n+'" value="'+e.sd+'" shortDate="'+e.shortDate+'">'+e.dayDisplay+"<span>"+e.dateDisplay+"</span></div></div>"}),$.each(i,function(t,e){var n="";0==t&&(n="active"),r=r+'<div class="item"><div class="list '+n+'" value="'+e.sd+'">'+e.timeSlot+"<span>"+e.timePeriod+"</span></div></div>"}),$("#"+t+" #dateSlider").html(o),$("#"+t+" #timeSlider").html(r),$("#"+t+" #scheduleMeeting").click(function(){$(this).is(":checked")?($("#"+t+" .formSlider").show(),"function"==typeof owlCarousel?$("#"+t+" #dateSlider,#"+t+" #timeSlider").owlCarousel({loop:!1,margin:0,nav:!0,dots:!1,responsive:{0:{items:5},600:{items:5},1025:{items:6}}}):(pluginfn.loadcssfile("/assets/lib/css/owl.carousel.min.css"),pluginfn.loadcssfile("/assets/lib/css/owl.theme.default.min.css"),$.getScript("/assets/lib/js/owl.carousel.min.js",function(){$("#"+t+" #dateSlider,#"+t+" #timeSlider").owlCarousel({loop:!1,margin:0,nav:!0,dots:!1,responsive:{0:{items:5},600:{items:5},1025:{items:6}}})}))):$("#"+t+" .formSlider").hide()}),1==e&&($("#"+t+" .formSlider").show(),"function"==typeof owlCarousel?$("#"+t+" #dateSlider,#"+t+" #timeSlider").owlCarousel({loop:!1,margin:0,nav:!0,dots:!1,responsive:{0:{items:5},600:{items:5},1025:{items:6}}}):(pluginfn.loadcssfile("/assets/lib/css/owl.carousel.min.css"),pluginfn.loadcssfile("/assets/lib/css/owl.theme.default.min.css"),$.getScript("/assets/lib/js/owl.carousel.min.js",function(){$("#"+t+" #dateSlider,#"+t+" #timeSlider").owlCarousel({loop:!1,margin:0,nav:!0,dots:!1,responsive:{0:{items:5},600:{items:5},1025:{items:6}}})}))),$("#"+t+" #dateSlider").find("div.list").off("click"),$("#"+t+" #dateSlider").find("div.list").on("click",function(){$("#"+t+" #dateSlider").find("div.list").removeClass("active"),$(this).addClass("active"),pluginfn.setActivityTime(t)}),$("#"+t+" #timeSlider").find("div.list").off("click"),$("#"+t+" #timeSlider").find("div.list").on("click",function(){$("#"+t+" #timeSlider").find("div.list").removeClass("active"),$(this).addClass("active"),pluginfn.setActivityTime(t)}),pluginfn.setActivityTime(t)})})})},loadcssfile:function(t){var e=document.getElementsByTagName("HEAD")[0],n=document.createElement("link");n.rel="stylesheet",n.type="text/css",n.href=t,e.appendChild(n)},setActivityTime:function(t){if($("#"+t+" #dateSlider").find("div.list.active").length>0&&$("#"+t+" #timeSlider").find("div.list.active").length>0){var e=$("#"+t+" #dateSlider").find("div.list.active").attr("value"),n=$("#"+t+" #timeSlider").find("div.list.active").attr("value"),i=moment(e+" "+n,"YYYY-MM-DD HH:mm").utc().format("YYYY-MM-DD HH:mm:ss");$("#"+t+" #ActivityTime").val(i)}else $("#"+t+" #ActivityTime").val("")},getTimeSlots:function(t,e,n){var i=moment(t,"HH:mm"),o=moment(e,"HH:mm");o.isBefore(i)&&o.add(1,"day");for(var r=[];i<=o;){var a=moment(i);r.push({sd:a.format("HH:mm"),timeSlot:a.format("hh:mm"),timePeriod:a.format("A")}),i.add(n,"minutes")}r[0].sd;return r},getDates:function(t,e){var n=moment(),i=moment(n).add(1,"days"),o=_.range(t,t+e),r=[];_.map(o,function(t,e){var o=moment(n).add(t,"days"),a="";a=o.format("DD MMM YYYY")===n.format("DD MMM YYYY")?"Today, ":o.format("DD MMM YYYY")===i.format("DD MMM YYYY")?"Tomorrow, ":"",r.push({sd:o.format("YYYY-MM-DD"),dateDisplay:o.format("DD"),dayDisplay:o.format("ddd").toUpperCase(),shortDate:a+o.format("DD MMM")}),0===e&&$("#dev_today").text(r[0].shortDate)});return r}};const initializeChatForm=function(t,e){initializeCityAutocompleteComboBox("ClientChatForm","ddlLocation","ddlLocation_div"),""==$("#ClientChatForm #ddlLocation").html()&&"function"==typeof getLmsCountryLocation&&getLmsCountryLocation(),$("#ClientChatForm #ddlCountryCode").change(function(){onChangeLmsCountryCode(this,"ddlLocation","ClientChatForm")}),$("#ClientChatForm #mobile,#ClientCallForm #mobile").on("input",function(t){this.value=this.value.replace(/[^0-9]/g,"")}),$("form#ClientChatForm,form#ClientCallForm").on("submit",function(n){var i=$(this);"ClientChatForm"==$(i).attr("id")?($(".showProfile.desktopcase").find("#saleloadertext").text("Please wait, Connecting to Sales executive"),$(".bottomCTA .showProfile").find("#saleloadertext").text("Please wait, Connecting to Sales executive")):($(".showProfile.desktopcase").find("#saleloadertext").text("Please wait, We are setting up your meeting"),$(".bottomCTA .showProfile").find("#saleloadertext").text("Please wait, We are setting up your meeting")),$(i).find("#dev_errormsg").css("display","none"),$(".bottomCTA .callFlexBox,.flexFormBox").css("display","none"),$(".bottomCTA .showProfile").addClass("profileBox"),$(".bottomCTA .showProfile").addClass("active"),$(".bottomCTA em").addClass("profileCase"),$(".bottomCTA .showProfile.profileBox .pic .lds-ring").css("display","inline-block"),$(".bottomCTA .showProfile").find("#salescontactnolink").css("display","none"),$(".bottomCTA .showProfile").find("#salescontactnoerror").css("display","none"),$(".bottomCTA .showProfile").find("#saleloadertext").css("display","block"),$(".bottomCTA .showProfile").find("#salespic").attr("src",_CDN_IMAGES_URL+"ui-assets/images/profilePic.png"),$(".bottomCTA .showProfile").find("#salepersonname").text(""),$(".bottomCTA .showProfile").find("#saleslocation").text(""),$(".bottomCTA .showProfile").find("#salescontactno").text(""),$(i).css("display","none"),$(".showProfile.desktopcase").css("display","inline"),n.preventDefault();var o={};$(this).serializeArray().map(function(t){o[t.name]=t.value});let r="";if("undefined"!=typeof dataLayer)for(let t=0;t<dataLayer.length;t++)if(dataLayer[t].PageType){r=dataLayer[t].PageType;break}let a={mobile:o.mobile,city:o.location,pageType:r};_paq.push(["trackEvent","product","enquired",JSON.stringify(a)]),$.ajax({type:"post",url:"/thank-you-chat",data:$(this).serialize(),success:function(n){var o=$(i).find("#CommunicationMode").attr("value"),r=$(i).find("#pageCategory").attr("value");if(n.beatsContactId>0){(window.dataLayer||[]).push({CPageType:r});var a={contactId:n.beatsContactId,CommunicationMode:o},s={async:!0,crossDomain:!0,url:t,method:"POST",headers:{API_KEY:e,"Content-Type":"application/json"},data:JSON.stringify(a)};$.ajax(s).done(function(t){var e;if($(".bottomCTA .showProfile.profileBox .pic .lds-ring").css("display","none"),$(".bottomCTA .showProfile").find("#saleloadertext").css("display","none"),""==t.SalesPersonContact)$(i).find("#mobile").val(""),window.location.href="https://m.squareyards.com/"+t.Identifier;else if($(i).find("#mobile").val(""),null!=t.SalesPersonName&&""!=t.SalesPersonName&&$(".bottomCTA .showProfile").find("#salepersonname").text(t.SalesPersonName),null!=t.SalesPersonProfilePic&&""!=t.SalesPersonProfilePic&&$(".bottomCTA .showProfile").find("#salespic").attr("src",t.SalesPersonProfilePic),null!=t.SalesPersonLocation&&""!=t.SalesPersonLocation&&$(".bottomCTA .showProfile").find("#saleslocation").text(t.SalesPersonLocation),null!=t.SalesPersonCountryCode&&""!=t.SalesPersonCountryCode?(e=t.SalesPersonCountryCode+t.SalesPersonContact,$(".bottomCTA .showProfile").find("#salescontactno").text("+"+t.SalesPersonCountryCode+"-"+t.SalesPersonContact)):(e=$(i).find("#ddlCountryCode").attr("value")+t.SalesPersonContact,$(".bottomCTA .showProfile").find("#salescontactno").text(t.SalesPersonContact)),"Whatsapp"==o)if(null!=t.SalesPersonName&&""!=t.SalesPersonName){var n="Hi "+t.SalesPersonName+",%0A%0AI got connected to you on Squareyards.com.%0A%0ALook forward to your assistance in my home search and ownership journey. Please get back to me so we can take this ahead. Thanks.";window.location.href="https://api.whatsapp.com/send?phone="+e+"&text="+n+"&source=&data="}else window.location.href="https://m.squareyards.com/"+t.Identifier;else window.location.href="https://m.squareyards.com/"+t.Identifier}).fail(function(t,e){})}else $(i).removeAttr("style"),$(".showProfile.desktopcase").css("display","none"),$(".bottomCTA .callFlexBox,.flexFormBox").css("display","inherit"),$(".bottomCTA .showProfile").removeClass("profileBox"),$(".bottomCTA .showProfile").removeClass("active"),$(".bottomCTA em").removeClass("profileCase"),$(i).find("#dev_errormsg").text("Error! Invalid Number"),$(i).find("#dev_errormsg").css("display","inline"),setTimeout(function(){$(i).find("#dev_errormsg").css("display","none"),$(i).find("#mobile").val("")},3e3)}})})},BindProfileMenuData=function(t,e){if(1==t.status&&null!=t.data&&null!=t.data.menuItems){var n="",i=!1;if($.each(t.data.menuItems,function(t,e){"Logout"==e.name?i=e:n=n+"<li><a href='"+e.url+"'>"+e.name+"</a></li>"}),$("#dev_pwa_menuitems").html(n),1==t.data.authenticate){if($("#dev_pwa_signup").html("<strong>Hi, "+t.data.name+"</strong> <span>"+t.data.email+"</span> <span>"+t.data.mobile+"</span>"),0!=i){var o="<a href='"+i.url+"'>Logout</a>";$("#dev_pwa_logout").html(o),$("#dev_pwa_logout").css("display","block")}$("#dev_pwa_signup").css("display","block")}else{var r="<strong>Welcome</strong> <span>You can access your personal portal here</span><div class='btnBox'><a class='btn btn-signup' href='"+e+"user/login'>Signup</a><a class='btn btn-login'  href='"+e+"user/login'>Login</a></div>";$("#dev_pwa_signin").html(r),$("#dev_pwa_signin").css("display","block")}}},initializeCityAutocompleteComboBox=function(t,e,n){$.getScript("/assets/lib/js/jquery-ui.js",function(){$.widget("custom.combobox",{_create:function(){this.wrapper=$("<span>").addClass("custom-combobox").insertAfter(this.element),this.element.hide(),this._createAutocomplete(),this._createShowAllButton();var n=!1;$("#"+t+" #dev_drodownarrow").hover(function(){0==n&&null!=$("#"+t+" #"+e).val()&&""!=$("#"+t+" #"+e).val()&&($("#"+t+" #dev_inputelement").attr("placeholder",$("#"+t+" #"+e).val()),n=!0),1==n&&(null==$("#"+t+" #dev_inputelement").val()||""==$("#"+t+" #dev_inputelement").val()?$("#"+t+" #dev_inputelement").val($("#"+t+" #dev_inputelement").attr("placeholder")):($("#"+t+" #dev_inputelement").val(""),n=!1))})},_createAutocomplete:function(){var i=this.element.children(":selected"),o=i.val()?i.text():"";this.input=$("<input id='dev_inputelement' required>").appendTo(this.wrapper).val(o).attr("title","").addClass("custom-combobox-input ui-widget ui-widget-content ui-state-default ui-corner-left dev_inputelement").autocomplete({delay:0,minLength:0,source:$.proxy(this,"_source"),appendTo:$("#"+t+" #"+n)}).tooltip({classes:{"ui-tooltip":"ui-state-highlight"}}),this._on(this.input,{autocompleteselect:function(n,i){i.item.option.selected=!0,this._trigger("select",n,{item:i.item.option}),$("#"+t+" #dev_inputelement").attr("placeholder",$("#"+t+" #"+e).val())},autocompletechange:"_removeIfInvalid"}),$("#"+t+" #"+n).find("ul").addClass("drop-downcity")},_createShowAllButton:function(){var t=this.input,e=!1;$("<a id='dev_drodownarrow'>").attr("tabIndex",-1).appendTo(this.wrapper).button({icons:{primary:"ui-icon-triangle-1-s"},text:!1}).removeClass("ui-corner-all").addClass("custom-combobox-toggle ui-corner-right").on("mousedown",function(){e=t.autocomplete("widget").is(":visible")}).on("click",function(){t.trigger("focus"),e||t.autocomplete("search","")})},_source:function(t,e){var n=new RegExp($.ui.autocomplete.escapeRegex(t.term),"i"),i=[];e(this.element.children("option").map(function(){var e=$(this).text();if(-1==i.indexOf(e)&&(i.push(e),this.value&&(!t.term||n.test(e))))return{label:e,value:e,option:this}}))},_removeIfInvalid:function(t,e){if(!e.item){var n=this.input.val().toLowerCase(),i=!1;this.element.children("option").each(function(){if($(this).text().toLowerCase()===n)return this.selected=i=!0,!1}),i||(this.input.val(""),this.element.val(""),this.input.autocomplete("instance").term="")}},_destroy:function(){this.wrapper.remove(),this.element.show()}}),$("#"+t+" #"+e).combobox()})},global_time_remaining=t=>{let e=Date.parse(t)-Date.now(),n=Math.floor(e/1e3%60),i=Math.floor(e/1e3/60%60),o=Math.floor(e/36e5%24);return{total:e,days:Math.floor(e/864e5),hours:o,minutes:i,seconds:n}},numberWithCommas=t=>t.toString().split(".")[0].length>3?t.toString().substring(0,t.toString().split(".")[0].length-3).replace(/\B(?=(\d{2})+(?!\d))/g,",")+","+t.toString().substring(t.toString().split(".")[0].length-3):t.toString();var globaltimeinterval;const global_run_clock=(t,e)=>{console.log(globaltimeinterval),globaltimeinterval&&(console.log("clearing interval"),clearInterval(globaltimeinterval)),e=new Date(Date.now()+60*e*1e3);let n=$("#"+t+" #countDownTimer_contactform");const i=()=>{let t=global_time_remaining(e);n.html(t.minutes.toString().padStart(2,0)+":"+t.seconds.toString().padStart(2,0)),t.total<=0&&(n.html("Expired"),clearInterval(globaltimeinterval))};i(),globaltimeinterval=setInterval(i,1e3)};let building_id;const global_submitContactForm=function(t,e,n,i,o,r,a,s){$("#"+e).off("submit"),$("#"+e).on("submit",function(r){r.preventDefault(),globalsendOtp(t,e,n,i,s,o)}),$("#"+i+" ul.fillOtp input").on("input",function(t){if(this.value=this.value.replace(/[^0-9]/g,""),""!=this.value){var e=$(this).attr("next");$("#"+i+" input[devid="+e+"]").focus()}}),$("#"+i+" ul.fillOtp input").keydown(function(){var t=event.keyCode||event.charCode;if(8==t||46==t){var e=$(this).attr("prev");setTimeout(function(){$("#"+i+" input[devid="+e+"]").focus()})}}),$("#"+n).on("submit",function(r){r.preventDefault();var a=$("#"+n).find("input[name='countryCode']").val(),l=$("#"+n).find("input[name='mobile']").val();$("#"+e).find("input[name='countryCode']").val(a),$("#"+e).find("input[name='mobile']").val(l),globalsendOtp(t,e,n,i),1==s&&($("#"+e).addClass("active"),$("#"+i).addClass("active"),$("#"+n).removeClass("active"),$("#"+o).removeClass("active"))}),$("#"+i+" span.resend").off("click"),$("#"+i+" span.resend").on("click",function(){globalsendOtp(t,e,n,i)}),$("#"+i+" #confirmOtp_contactform").off("click"),$("#"+i+" #confirmOtp_contactform").on("click",function(){let l=$("#"+i).serializeArray(),c="";l.filter(t=>{c+=t.value}),(c.length=4)&&globalconfirmOtp(c,t,e,n,i,o,r,a,s,building_id)}),$("#"+i+" #changeNumber_contactform").off("click"),$("#"+i+" #changeNumber_contactform").on("click",function(){$("#"+t).addClass("active"),$("#"+t).addClass("changenumber"),1==s&&($("#"+e).addClass("active"),$("#"+i).removeClass("active"),$("#"+n).addClass("active"),$("#"+o).removeClass("active"))})},globalconfirmOtp=(t,e,n,i,o,r,a,s,l,c)=>{$("#loaderBox").show(),$("#"+o+" .otpError").html("");var u=$("#"+n+" input[name='mobile']").val(),h=$("#"+n+" select[name='countryCode']").val(),d=$("#"+n+" input[name='name']").val(),p=$("#"+n+" input[name='email']").val(),f=$("#"+n+" select[name='location']").val(),m=$("#"+n).find('input[name="DotcomProjectId"]').val(),g=$('input[name="type"]').val();var v=JSON.stringify(function(t){var e="{";for(var n in t){var i=t[n];e+='"'+i.name+'":"'+i.value+'",'}var o=e.length-1;return e=e.substr(0,o),e+="}",console.log("_string: ",e),JSON.parse(e)}($("#"+n).serializeArray()));console.log(v),$.ajax({type:"POST",url:"/lead/globalverifyotp",data:{mobile:u,countryCode:h,otp:t,formdata:v,buildingId:c,type:g},success:function(t){if(t.redirectUrl){let a="";if("undefined"!=typeof dataLayer)for(let t=0;t<dataLayer.length;t++)if(dataLayer[t].PageType){a=dataLayer[t].PageType;break}let c={name:d,emailId:p,mobile:t.encr,city:f,type:"",projectId:m,pageType:a};void 0!==s&&""!=s&&(c.type="AGENT_DSE"==s?"Agents":"SALE_DSE"==s?"Resale":"RENT_DSE"==s?"Rental":"New Projects"),propAmcData=t.propamcdata,beatsresponse=t.beatsapires,null!=beatsresponse.length&&0==beatsresponse.length?($("#"+o+" .otpError").html("something went wrong"),$("#loaderBox").hide()):void 0!==beatsresponse.Status&&1==beatsresponse.Status?(afterglobalVerification(h,u,beatsresponse,s,e,n,i,o,r,t.redirectUrl,l,propAmcData,g),c.name&&c.emailId&&c.mobile&&_paq.push(["trackEvent","product","enquired",JSON.stringify(c)])):(void 0!==beatsresponse.ErrorMessage&&null!=beatsresponse.ErrorMessage&&null!=beatsresponse.ErrorMessage&&""!=beatsresponse.ErrorMessage?$("#"+o+" .otpError").html(beatsresponse.ErrorMessage):$("#"+o+" .otpError").html("something went wrong"),$("#loaderBox").hide())}else $("#"+o+" .otpError").html("something went wrong"),$("#loaderBox").hide()},error:function(t,e){$("#"+o+" .otpError").html("something went wrong"),$("#loaderBox").hide()}})},getglobalAgentPopupHtml=(t,e,n,i)=>{if(null!=t.SalesPersonName&&null!=t.SalesPersonContact&&""!=t.SalesPersonName&&""!=t.SalesPersonContact){var o='<div class="agentModalBox active"><div class="agentModalBody"><div class="closeAgentModalPopup"><em class="icon-close"></em></div><div class="figureBox"><picture>';return o=null!=t.SalesPersonProfilePic&&""!=t.SalesPersonProfilePic?o+'<img itemprop="image" class="img-responsive" src="'+t.SalesPersonProfilePic+'" alt="'+(void 0!==t.SalesPersonName?t.SalesPersonName:"N/A")+'">':o+'<span class="clr clr31">'+(void 0!==t.SalesPersonName?t.SalesPersonName.charAt(0).toUpperCase():"N/A")+"</span>",o=(o+="</picture></div>")+'<strong class="name">'+(void 0!==t.SalesPersonName?t.SalesPersonName:"N/A")+'</strong><span class="phone">'+t.SalesPersonCountryCode+"-"+t.SalesPersonContact+'</span><ul class="leadBtnBox"><li><a class="in-call" href="tel:'+t.SalesPersonCountryCode+t.SalesPersonContact+'"><em class="icon-phone-o"></em>Call Now</a></li><li><a class="in-whatsapp" href="'+n+'"><em class="icon-whatsapp"></em>WhatsApp</a></li></ul>',e&&(o=o+'<div class="btnBox"><a href="'+e+'" class="btn btn-primary">Take to My Personal Profile <em class="icon-angle-right"></em></a></div>'),o+="</div></div>"}o='<div class="agentModalBox active"><div class="agentModalBody"><div class="closeAgentModalPopup"><em class="icon-close"></em></div><div class=""></div><span class="phone" style="white-space: normal !important;">'+i+"</span>";return e&&(o=o+'<div class="btnBox"><a href="'+e+'" class="btn btn-primary">Take to My Personal Profile <em class="icon-angle-right"></em></a></div>'),o+="</div></div>"},getglobalAgentPopupHtmlForDSE=(t,e,n,i)=>{if(null!=t.SalesPersonName&&null!=t.SalesPersonContact&&""!=t.SalesPersonName&&""!=t.SalesPersonContact){var o='<div class="ldBx"><div class="ldBxClsBtn"><em class="icon-close"></em></div><div class="ldBdy"><div class="ldBxfigureBox">';return o=(o=null!=t.SalesPersonProfilePic&&""!=t.SalesPersonProfilePic?o+'<img itemprop="image" class="img-responsive" src="'+t.SalesPersonProfilePic+'" alt="'+(void 0!==t.SalesPersonName?t.SalesPersonName:"N/A")+'">':o+'<span class="clr clr31">'+(void 0!==t.SalesPersonName?t.SalesPersonName.charAt(0).toUpperCase():"N/A")+"</span>")+'</div><strong class="ldBxAgntName">'+(void 0!==t.SalesPersonName?t.SalesPersonName:"N/A")+'</strong><span class="ldBxAgntPhone">'+t.SalesPersonCountryCode+"-"+t.SalesPersonContact+'</span><ul class="ldBxAgntLdBxBtnBox"><li><a class="in-call" href="tel:'+t.SalesPersonCountryCode+t.SalesPersonContact+'"><em class="icon-phone-o"></em>Call Now</a></li><li><a class="in-whatsapp" href="'+n+'"><em class="icon-whatsapp"></em>WhatsApp</a></li></ul></div>',e&&(o=o+'<a href="'+e+'" class="btn btn-primary ldBtnPrmry">Take to My Personal Profile <em class="icon-angle-right"></em></a>'),o+="</div><div class='gblOrflw'></div>"}return o=(o='<div class="ldBx"><div class="ldBxClsBtn"><em class="icon-close"></em></div><div class="ldBdy">')+"<p>"+i+"</p></div>",e&&(o=o+'<a href="'+e+'" class="btn btn-primary ldBtnPrmry">Take to My Personal Profile <em class="icon-angle-right"></em></a>'),o+="</div><div class='gblOrflw'></div>"},afterglobalVerification=(t,e,n,i,o,r,a,s,l,c,u,h,d)=>{if((window.dataLayer||[]).push({CPageType:i}),globaltimeinterval&&clearInterval(globaltimeinterval),$("#"+s).removeClass("active"),$("#"+o).removeClass("active"),$(".overLayBox,body").addClass("active"),1==u&&($("#"+r).addClass("active"),$("#"+s).removeClass("active"),$("#"+a).removeClass("active"),$("#"+l).removeClass("active")),"PROJECT-FACTSHEET"==i)$.ajax({type:"POST",url:"/client-doc-list",data:{projectId:$("#hd_pid").val()},success:function(t){if(console.log(t),1==t.status&&null!=t.data){var e=t.data.filter(function(t){return 4==t.Id});if(e.length>0&&null!=e[0].Documents&&e[0].Documents.length>0){var n=e[0].Documents[0].Url;window.open(n,"_blank")}}$("#dev_popupform_factsheet,div.overLayBox,body").removeClass("active")},error:function(t,e){$("#"+s+" .otpError").html("something went wrong"),$("#loaderBox").hide()}});else if("PROPAMC"==i||"propamcProject"==i)h.success?("propamcProject"==d&&($(".gblPpup.transactionLogin").removeClass("active"),$(".gblPpup.transactionLogin .formBox").removeClass("active"),$(".transactionLoginBox").hide(),$(".overLayBox").removeClass("active")),renderTransactionData(h.data,d)):renderTransactionData(h.data={},d),isMobileBrowser&&$(".position-sticky").removeClass("active");else if("COMPARE"==i){let t=$("#ClientInfoForm");if("disabled"==t.find("button").attr("disabled"))return $("#loaderBox").hide(),!1;if(t.find("button").attr("disabled","disabled"),"pdfSubmit"!=t.data("action"))return $("#loaderBox").hide(),!0;let e=t.closest("form").serializeArray(),n={};e.forEach(t=>{n[t.name]=t.value});n.email,n.name;let i=[];$(".grid.available").each(function(){i.push($(this).data("id"))});let o=`/compare-pdf?projectIds=${i.join(",")}`;$.ajax({url:o,dataType:"json",type:"GET",async:!1,contentType:"application/json; charset=utf-8",success:function(t){if(t.STATUS){t.DATA.url,t.DATA.data;window.open(t.DATA.url,"_blank"),$("#dev_popupform_compare,div.overLayBox,body").removeClass("active")}else helperJS.alertBox("error",t.MESSAGE)}})}else if(null!=n.SalesPersonName&&null!=n.SalesPersonContact&&""!=n.SalesPersonName&&""!=n.SalesPersonContact){var p="Hi "+n.SalesPersonName+",%0A%0AI got connected to you on Squareyards.com.%0A%0ALook forward to your assistance in my home search and ownership journey. Please get back to me so we can take this ahead. Thanks.",f="https://api.whatsapp.com/send?phone="+n.SalesPersonCountryCode+n.SalesPersonContact+"&text="+p+"&source=&data=",m="";m=1==u?getglobalAgentPopupHtmlForDSE(n,c,f):getglobalAgentPopupHtml(n,c,f),$("#"+l).html(m),$("body").on("click","div.closeAgentModalPopup",function(){$("div.agentModalBox").removeClass("active"),$("div.overLayBox,body").removeClass("active")}),1==u?($("#"+l).addClass("active"),$(".gblPpup .gblOrflw, .ldBxClsBtn").off("click"),$(".gblPpup .gblOrflw, .ldBxClsBtn").on("click",function(){$(".gblPpup, body").removeClass("active"),$("#"+r).removeClass("active")}),-1==r.indexOf("_dsepopup")&&$("#"+r).removeClass("active")):$("#"+o).parent(".popupForm.active").removeClass("active")}else{var g="Thank You For Showing Interest, We'll Assign One Of Our Property Expert and Get Back to You Shortly.";m="";m=1==u?getglobalAgentPopupHtmlForDSE(n,c,f,g):getglobalAgentPopupHtml(n,c,f,g),$("#"+l).html(m),$("body").on("click","div.closeAgentModalPopup",function(){$("div.agentModalBox").removeClass("active"),$("div.overLayBox,body").removeClass("active")}),1==u?($("#"+l).addClass("active"),-1==r.indexOf("_dsepopup")&&$("#"+r).removeClass("active"),$(".gblPpup .gblOrflw, .ldBxClsBtn").off("click"),$(".gblPpup .gblOrflw, .ldBxClsBtn").on("click",function(){$(".gblPpup, body").removeClass("active"),$("#"+r).removeClass("active")})):$("#"+o).parent(".popupForm.active").removeClass("active")}$("#"+r)[0].reset();let v=$("#"+r+" input#dev_inputelement").attr("placeholder");$("#ddlLocation").val(v),$("#"+s)[0].reset(),$("#"+a)[0].reset(),$("body").removeClass("active"),1==isfirepixel&&(ta("send","lead"),gtag_report_conversion(window.location.href),fbq("track","Lead"),_tfa.push({notify:"event",name:"lead",id:1125593}),$("#dev_taboola_lead_noscript").html(taboolanoscript),$.getScript("/assets/lib/js/colombiapixel.js",function(){$("#dev_colombia_lead_noscript").html(colombianoscript)}),window.dotq=window.dotq||[],window.dotq.push({projectId:"10000",properties:{pixelId:"10066198",qstrings:{et:"custom",ec:"SQY_YahooG_Sec_Leads",ea:"Yahoo_Lead"}}})),$("#loaderBox").hide()},renderTransactionData=(t,e)=>{if(t&&Object.keys(t).length>0){$(".priceHistory.empty").hide();let n="",i="",o="",r="",a=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],s="";s="lease"==e?"Transaction_3":"sale"==e?"Transaction_5":"gv"==e?"Transaction_10":"propamcProject"==e?"":"Transaction_9";let l='<div class="priceTime">';t.sale.length>0?(t.sale.forEach((t,e)=>{let i="",o="";0==e?(o=" first",i=`<div class="unlock ${s}"><img class="${s}" src="/assets/images/lock.svg"><span class="${s}">Verify to Unlock</span></div>`):9==e?(o=" last",i='<div class="unlock"><img src="/assets/images/lock.svg"></div>'):(o="",i='<div class="unlock"><img src="/assets/images/lock.svg"></div>');let r=helperJS.changeNumberFormat(t.value),l=numberWithCommas(t.rate_per_sft);0==r&&0==l||(i=""),n=n+'<div id="sale" style="display: none;" class="priceDetails'+o+'"><div class="datelisting"><p class="price">'+a[t.month-1]+" , "+t.year+'</p>\n<p class="priceId">Floor '+t.floor+" , Unit "+t.unit_no+'</p></div><div class="priceListing"><p class="priceList">Registered '+t.transaction_type+'</p><p class="priceValue"><span class="valueIn">Area(Sqft)</span>\n<span class="option ">'+t.area+'</span></p><p class="priceValue"><span class="valueIn">Value</span>\n<span class="option '+(0==r?"blur":"")+'"><span>&#8377;</span>'+r+'</span></p><p class="priceValue"><span class="valueIn">Rate/Sqft</span>\n<span class="option '+(0==l?"blur":"")+'">'+l+"</span></p>"+i+"</div></div>"}),l+=n):l+=n='<div id="saleEmpty" style="display: none;" class="priceTime"><div class="priceHistory empty"><img src="/assets/images/historyEmpty.png" class="img-responsive"><h2>No Transaction History Found</h2></div></div>',t.lease.length>0?(t.lease.forEach((t,e)=>{let n="",o="";0==e?(o=" first",n=`<div class="unlock ${s}"><img class="${s}" src="/assets/images/lock.svg"><span class="${s}">Verify to Unlock</span></div>`):9==e?(o=" last",n='<div class="unlock"><img src="/assets/images/lock.svg"></div>'):(o="",n='<div class="unlock"><img src="/assets/images/lock.svg"></div>');let r=numberWithCommas(t.value),l=numberWithCommas(t.rate_per_sft);0==r&&0==l||(n=""),i=i+'<div id="lease" style="display: none;" class="priceDetails'+o+'"><div class="datelisting"><p class="price">'+a[t.month-1]+" , "+t.year+'</p>\n<p class="priceId">Floor '+t.floor+" , Unit "+t.unit_no+'</p></div><div class="priceListing"><p class="priceList">Registered '+t.transaction_type+'</p><p class="priceValue"><span class="valueIn">Area(Sqft)</span>\n<span class="option ">'+t.area+'</span></p><p class="priceValue"><span class="valueIn">Value</span>\n<span class="option '+(0==r?"blur":"")+'"><span>&#8377;</span>'+r+'</span></p><p class="priceValue"><span class="valueIn">Rate/Sqft</span>\n<span class="option '+(0==l?"blur":"")+'">'+l+"</span></p>"+n+"</div></div>"}),l+=i):l+=i='<div id="leaseEmpty" style="display: none;" class="priceTime"><div class="priceHistory empty"><img src="/assets/images/historyEmpty.png" class="img-responsive"><h2>No Transaction History Found</h2></div></div>',t.mortgage.length>0?(t.mortgage.forEach((t,e)=>{let n="",i="";0==e?(i=" first",n=`<div class="unlock ${s}"><img class="${s}" src="/assets/images/lock.svg"><span class="${s}">Verify to Unlock</span></div>`):9==e?(i=" last",n='<div class="unlock"><img src="/assets/images/lock.svg"></div>'):(i="",n='<div class="unlock"><img src="/assets/images/lock.svg"></div>');let r=helperJS.changeNumberFormat(t.value);0!=r&&(n=""),o=o+'<div id="mortgage" style="display: none;" class="priceDetails'+i+'"><div class="datelisting"><p class="price">'+a[t.month-1]+" , "+t.year+'</p>\n<p class="priceId">Floor '+t.floor+" , Unit "+t.unit_no+'</p></div><div class="priceListing bank-rgi"><p class="priceList">Registered '+t.transaction_type+'</p><p class="priceValue"><span class="valueIn">Area(Sqft)</span>\n<span class="option ">'+t.area+'</span></p><p class="priceValue"><span class="valueIn">Value</span>\n<span class="option '+(0==r?"blur":"")+'"><span>&#8377;</span>'+r+'</span></p><p class="priceValue"><span class="valueIn">Lender </span>\n<span class="option bank-name'+(0==t.first_party?"blur":"")+'">'+(""==t.first_party?"-":t.first_party)+"</span></p>"+n+"</div></div>"}),l+=o):l+=o='<div id="mortageEmpty" style="display: none;"class="priceTime"><div class="priceHistory empty"><img src="/assets/images/historyEmpty.png" class="img-responsive"><h2>No Transaction History Found</h2></div></div>',Object.keys(t.gv).length>0&&t.gv.residential.length>0?(t.gv.residential.forEach((t,e)=>{let n="",i="";0==e?(i=" first",n=`<div class="unlock ${s}"><img class="${s}" src="/assets/images/lock.svg"><span class="${s}">Verify to Unlock</span></div>`):9==e?(i=" last",n='<div class="unlock"><img src="/assets/images/lock.svg"></div>'):(i="",n='<div class="unlock"><img src="/assets/images/lock.svg"></div>');let o=numberWithCommas(t.value);0!=o&&(n=""),r=r+'<div id="gv" style="display: none;" class="priceDetails'+i+'"><div class="datelisting"><p class="price">'+t.year+'</p>\n</div><div class="priceListing govtValue"><p class="priceList">Government Value </p>\n<p class="priceValue"><span class="valueIn">Value/Sq.Ft</span>\n<span class="option '+(0==o?"blur":"")+'"><span>&#8377;</span>'+o+"</span></p>"+n+"</div></div>"}),l+=r):l+=r='<div id="gvEmpty" style="display: none;" class="priceTime"><div class="priceHistory empty"><img src="/assets/images/historyEmpty.png" class="img-responsive"><h2>No Transaction History Found</h2></div></div>',""!=l&&$(".priceHistory").html(l),"sale"==e?$("#sale,#saleEmpty").show():"lease"==e?$("#lease,#leaseEmpty").show():"gv"==e?$("#gv,#gvEmpty").show():"propamcProject"==e?($("#sale,#saleEmpty").show(),$(".priceTabfilter #sale").addClass("active"),$(".priceTabfilter #lease").removeClass("active"),$(".priceTabfilter #gv").removeClass("active"),$(".priceTabfilter #mortgage").removeClass("active")):$("#mortgage,#mortageEmpty").show()}else{let t='<div class="priceTime"><div class="priceHistory empty"><img src="/assets/images/historyEmpty.png" class="img-responsive"><h2>No Transaction History Found</h2></div></div>';$(".priceHistory").html(t)}},globalsendOtp=(t,e,n,i,o,r)=>{$("#loaderBox").show();let a=[];$("#"+i+" .otpError").html("");var s=$("input[name='buildingId']").val();$("#"+e+" .sendotpError").html(""),a=$("#"+e).serializeArray(),null!=s&&a.push({name:"builderId",value:s});let l={};a.filter(t=>{l[t.name]=t.value}),$.ajax({type:"POST",url:"/resale/send-broker-detail-otp",data:l,success:function(a){if(a.status){let c;if($("#"+t).removeClass("changenumber"),$("#"+i+" #otpMobile_contactform").html("+"+l.countryCode+"-"+l.mobile),$("#"+t).removeClass("active").addClass("active"),1==o&&($("#"+e).addClass("active"),$("#"+i).addClass("active"),$("#"+n).removeClass("active"),$("#"+r).removeClass("active")),global_run_clock(i,15),$("#"+i+" span.resend").hide(),setTimeout(function(){$("#"+i+" span.resend").show()},12e4),c=$("#"+t),building_id=a.builderId,a.otp){var s=a.otp.toString().split("");4==s.length&&(c.find("input[name=otp_contactform\\[\\]]:eq(0)").val(s[0]),c.find("input[name=otp_contactform\\[\\]]:eq(1)").val(s[1]),c.find("input[name=otp_contactform\\[\\]]:eq(2)").val(s[2]),c.find("input[name=otp_contactform\\[\\]]:eq(3)").val(s[3]))}else c.find("input[name=otp_contactform\\[\\]]:eq(0)").val(""),c.find("input[name=otp_contactform\\[\\]]:eq(1)").val(""),c.find("input[name=otp_contactform\\[\\]]:eq(2)").val(""),c.find("input[name=otp_contactform\\[\\]]:eq(3)").val("")}else helperJS.alertBox("error",a.message);$("#loaderBox").hide()}})},checkPWALogin=function(t,e){$("header .topNav ul li.login").mouseover(function(){if($("#dev_pwa_menuitems li").length>0)return!1;var n={async:!0,crossDomain:!0,xhrFields:{withCredentials:!0},url:t,method:"GET",headers:{"Content-Type":"application/json"}};$.ajax(n).done(function(t){BindProfileMenuData(t,e)}).fail(function(t,e){console.log(t),console.log(e)})})};var globalfn={init:function(){if(isMobileBrowser()){if($("#myVideo").on("ended",function(){$(".bannerBox .videoBox .btnBox").addClass("active")}),$(".flexFormBox").length<=0)return"function"==typeof getLmsCountryLocation&&getLmsCountryLocation(),!1;$(".callFlexBox .icon-close").on("click",function(){$(".callFlexBox").addClass("hide")}),$("#flexWhatsapp").on("click",function(){if(chatBot.active){const t=helperJS.getCookie("_selcity");const e="Hi Square Yards"+(t&&null!=t.name?" "+t.name:"")+", help me get started!";window.open("https://api.whatsapp.com/send?phone="+chatBot.number+"&text="+e,"_blank")}else globalfn.loadctamobileform("flexWhatsapp")}),$("#flexMeeting").on("click",function(){globalfn.loadctamobileform("flexMeeting")}),$("#flexCallback").on("click",function(){globalfn.loadctamobileform("flexCallback")})}else{let t=0;$(window).resize(function(){$(window).height()<768?$("body").addClass("freePossition"):$("body").removeClass("freePossition")}),$("#myVideo").on("ended",function(){$(".bannerBox .videoBox .btnBox").addClass("active")}),$(window).scroll(function(){$(this).scrollTop()>20&&0==t&&$(".meriwalihomestoryVideo").length<=0&&($(".navPanel,.intercomCloseBtn").addClass("active"),$(".intercom").removeClass("active"),$(".intercom").click())}),$(".intercom").on("click",function(){if(t=1,$(".navPanel,.intercomCloseBtn").addClass("active"),$(".intercom").removeClass("active"),$(".formBox.intercomFormBox").find("div.whatsappOpenForm").length>0)return!1;$.ajax({async:!0,data:JSON.stringify({pageCategory1:$(".formBox.intercomFormBox").attr("pageCategory1"),pageCategory2:$(".formBox.intercomFormBox").attr("pageCategory2"),pageCategory3:$(".formBox.intercomFormBox").attr("pageCategory3")}),dataType:"html",contentType:"application/json",success:function(t,e){$(".formBox.intercomFormBox").html(t),pluginfn.init("ClientCallForm",!0),"function"==typeof initializeContactForm_desktop&&initializeContactForm_desktop(),initializeChatForm(_cappurl,_apikey)},error:function(t){console.log(t)},type:"POST",url:"/getctadesktopform"})}),$(".intercomCloseBtn").on("click",function(){t=1,$(".navPanel,.intercomCloseBtn,.intercomFormBox.active").removeClass("active"),$(".intercom").addClass("active")}),$(".navPanel .link1").on("click",function(){$(".navPanel,.whatsappOpenForm,.meetingOpenForm").removeClass("active"),$(".intercomFormBox,.callbackOpenForm").addClass("active")}),$(".navPanel .link2").on("click",function(){$(".navPanel,.whatsappOpenForm,.callbackOpenForm").removeClass("active"),$(".intercomFormBox,.meetingOpenForm").addClass("active"),$("#ClientCallForm_location").length>0&&googlePlacesAutocomplete.init("ClientCallForm_location")}),$(".navPanel .link3").on("click",function(){if(chatBot.active){const t=helperJS.getCookie("_selcity");const e="Hi Square Yards"+(t&&null!=t.name?" "+t.name:"")+", help me get started!";window.open("https://api.whatsapp.com/send?phone="+chatBot.number+"&text="+e,"_blank")}else $(".navPanel,.meetingOpenForm,.callbackOpenForm").removeClass("active"),$(".intercomFormBox,.whatsappOpenForm").addClass("active")})}$("#youtubePopupOpen").on("click",function(){$("#youtube").attr("src")||$("#youtube").attr("src",$(this).data("source")),$("#youtube")[0].src=$(this).data("source")+"?autoplay=1",$(".youtubePopUp").addClass("active")}),$(".youtubePopUp .youtubeVideo .close").on("click",function(){$(".youtubePopUp").removeClass("active"),$("#youtube")[0].src+="?autoplay=0"})},loadctamobileform:function(t){if($(".flexFormBox").find("div.whatsappForm").length>0)return globalfn.ctamobilecallbaack(t),!1;$.ajax({async:!0,data:JSON.stringify({pageCategory1:$(".flexFormBox").attr("pageCategory1"),pageCategory2:$(".flexFormBox").attr("pageCategory2"),pageCategory3:$(".flexFormBox").attr("pageCategory3")}),dataType:"html",contentType:"application/json",success:function(e,n){$(".flexFormBox").html(e),pluginfn.init("ClientCallForm",!0),globalfn.ctamobilecallbaack(t),"function"==typeof initializeContactForm_mobile&&initializeContactForm_mobile(),initializeChatForm(_cappurl,_apikey)},error:function(t){console.log(t)},type:"POST",url:"/getctamobileform"})},ctamobilecallbaack:function(t){"flexWhatsapp"==t&&($(".overlayCTA,.whatsappForm,.bottomCTA em.icon-close").addClass("active"),$(".bottomCTA").addClass("activeWhatsapp"),$(".meetingForm,.callbackForm").removeClass("active"),$("#flexMeeting,#flexCallback").addClass("disabled"),$("#flexWhatsapp").removeClass("disabled")),"flexMeeting"==t&&($(".overlayCTA,.meetingForm,.bottomCTA em.icon-close").addClass("active"),$(".bottomCTA").addClass("activeMeeting"),$(".whatsappForm,.callbackForm").removeClass("active"),$("#flexWhatsapp,#flexCallback").addClass("disabled"),$("#flexMeeting").removeClass("disabled"),$("#ClientCallForm_location").length>0&&googlePlacesAutocomplete.init("ClientCallForm_location")),"flexCallback"==t&&($(".overlayCTA,.callbackForm,.bottomCTA em.icon-close").addClass("active"),$(".bottomCTA").addClass("activeCallback"),$(".meetingForm,.whatsappForm").removeClass("active"),$("#flexWhatsapp,#flexMeeting").addClass("disabled"),$("#flexCallback").removeClass("disabled")),$(".bottomCTA em.icon-close").on("click",function(){$(".overlayCTA,.whatsappForm,.meetingForm,.callbackForm,.bottomCTA em.icon-close").removeClass("active"),$("#flexWhatsapp,#flexMeeting,#flexCallback").removeClass("disabled")}),$(".closePop em.icon-close").on("click",function(){$(".bottomCTA .callFlexBox,.flexFormBox").css("display","inherit"),$(".bottomCTA .showProfile").removeClass("profileBox"),$(".bottomCTA .showProfile").removeClass("active"),$(".bottomCTA em").removeClass("profileCase"),$(".bottomCTA .formBoxx form").removeAttr("style")})},searchfocus:!1,loadheadercitypopup:function(){if($("#dev_headeroverlay").off("click"),$("#dev_headeroverlay").on("click",function(){return $("#gblCityBox, .gblOverflow, #gblCityBtn").toggleClass("active"),$("#dev_headeroverlay").toggle(),!1}),$("#gblCityBox").length>0){if($("#gblCityBox, .gblOverflow, #gblCityBtn, #dev_headercitypopup_container").toggleClass("active"),$("#dev_headeroverlay").toggle(),$("li.headercityli").show(),1==$("#SearchMobile").hasClass("partialactive"))"new_project"==$("input[name='mobileSearchCityType']").val()?($("li.sec_cities").hide(),$("li.headercityli[connectid=0]").hide(),$("li.headercityli[dotcomCityId=0]").hide()):$("li.headercityli[connectid=0]").hide();return!1}$("em.icon-close.gblCtyBoHdrEm").off("click"),$("em.icon-close.gblCtyBoHdrEm").on("click",function(){$("#gblCityBox, .gblOverflow, #gblCityBtn, #dev_headercitypopup_container").removeClass("active")}),$.ajax({async:!0,dataType:"html",contentType:"application/json",data:JSON.stringify({page:$("header").attr("page"),currenturl:window.location.href}),success:function(t,e){$("#dev_headercitypopup_container").html(t),helperJS.initializeLazyLoad(),$.getScript("/assets/lib/js/jquery-ui.js",function(){$.getScript("/assets/js/header_city_popup.js",function(){($("#gblCityBox, .gblOverflow, #gblCityBtn, #dev_headercitypopup_container").addClass("active"),$("em.icon-close.gblCtyBoHdrEm").off("click"),$("em.icon-close.gblCtyBoHdrEm").on("click",function(){$("#gblCityBox, .gblOverflow, #gblCityBtn, #dev_headercitypopup_container").removeClass("active")}),$("#dev_headeroverlay").show(),$(".gblCityBox .gblCityBody .box .formRadioBox").off("click"),$(".gblCityBox .gblCityBody .box .formRadioBox").on("click",function(){var t=$(this).attr("redirecturl");null!=t&&null!=t&&""!=t&&(window.location.href=t)}),$("a.redirect_to").off("click"),$("a.redirect_to").on("click",function(){if(1==$("#SearchMobile").hasClass("partialactive")){$("#loaderBox").show();var t=$(this).attr("cityid"),e=$("input[name='mobileSearchCityType']").val();"new_project"!=e&&"homeInterior"!=e&&(t=$(this).closest("li").attr("connectid"));var n=$(this).attr("cityname");$("input[name='mobileSearchCityId']").val(t),$("input[name='mobileSearchCityName']").val(n),$("#gblCityBox , #dev_headercitypopup_container").removeClass("active"),$("#SearchMobile").removeClass("partialactive"),$("#SearchMobile").addClass("active"),$("#dev_headeroverlay").css("display","none"),newMobileSearchProp.showFilterPopup()}else{var i=$(this).attr("redirect_to");window.location.href=i}}),$("li.headercityli").show(),1==$("#SearchMobile").hasClass("partialactive"))&&("new_project"==$("input[name='mobileSearchCityType']").val()?($("li.sec_cities").hide(),$("li.headercityli[connectid=0]").hide(),$("li.headercityli[dotcomCityId=0]").hide()):$("li.headercityli[connectid=0]").hide());var t=helperJS.getCookie("_selcity");null!=t&&null!=t&&null!=t.name&&"dubai"==t.name.toLowerCase()&&$("#Emirates").click()})})},error:function(t){console.log(t)},type:"POST",url:"/getheadercitypopup"})},setUserHeaderMenu:function(){$.ajax({url:baseUrl+"user/session",method:"GET",success:function(t){console.log("render logedin user details"),$(".headerProfileBoxParent").html(t.header),helperJS.initializeLazyLoad()},error:function(){}})}};$(document).ready(function(){$("#conversionTab1").on("click",function(t){$(".conversionTab, .conversionLinkBox").removeClass("active"),$("#conversionTab1,#conversionLinkBox1").addClass("active"),t.stopPropagation()}),$("#conversionTab2").on("click",function(t){$(".conversionTab, .conversionLinkBox").removeClass("active"),$("#conversionTab2,#conversionLinkBox2").addClass("active"),t.stopPropagation()}),$("#conversionTab3").on("click",function(t){$(".conversionTab, .conversionLinkBox").removeClass("active"),$("#conversionTab3,#conversionLinkBox3").addClass("active"),t.stopPropagation()}),$("#conversionTab4").on("click",function(t){$(".conversionTab, .conversionLinkBox").removeClass("active"),$("#conversionTab4,#conversionLinkBox4").addClass("active"),t.stopPropagation()}),$("#conversionTab5").on("click",function(t){$(".conversionTab, .conversionLinkBox").removeClass("active"),$("#conversionTab5,#conversionLinkBox5").addClass("active"),t.stopPropagation()}),setTimeout(function(){if(0==$("#gblCityBtn").hasClass("dev_globalcountry")){var t=helperJS.getCookie("_selcity");if(null!=t&&t.id>0){let e=t.name.includes("-")?helperJS.ucfirst(t.name.split("-")[0])+" "+helperJS.ucfirst(t.name.split("-")[1]):helperJS.ucfirst(t.name);null!=e&&""!=e&&$("#gblCityBtn").text(e)}null!=t&&null!=t&&null!=t.country&&"UAE"==t.country&&$("#Global_Header_Homeloan a").attr("href","https://capital.squareyards.ae")}},2e3),$("#allCites").off("click"),$(document).on("click","#allCites",function(){$(".syAlCtyBx,.syLeftNav,body").addClass("active"),$("header .navToggle #nav-toggle,.navOverlay,header nav").removeClass("active")}),$(".syLeftNav .syNavBody ul li.next").on("click",function(){$(".syLeftNav .syNavSubBody").addClass("active")}),$(".syLeftNav .syNavBody .syHeading em").on("click",function(){$(".syAlCtyBx,.syLeftNav,body").removeClass("active")}),$(".syLeftNav .syNavSubBody .syHeading em").on("click",function(){$(".syLeftNav .syNavSubBody,.syLeftNav .syTab").removeClass("active")}),$(".syLeftNav .syOverlay").on("click",function(){$("body,.syLeftNav,.syLeftNav .syNavSubBody").removeClass("active")}),$(".syLeftNav .syNavBody ul li.mumbai").on("click",function(){$(".syLeftNav .syTab.mumbai").addClass("active")}),$(".syLeftNav .syNavBody ul li.noida").on("click",function(){$(".syLeftNav .syTab.noida").addClass("active")}),$(".syLeftNav .syNavBody ul li.gurgaon").on("click",function(){$(".syLeftNav .syTab.gurgaon").addClass("active")}),$(".syLeftNav .syNavBody ul li.pune").on("click",function(){$(".syLeftNav .syTab.pune").addClass("active")}),$(".syLeftNav .syNavBody ul li.bangalore").on("click",function(){$(".syLeftNav .syTab.bangalore").addClass("active")}),$(".syLeftNav .syNavBody ul li.hyderabad").on("click",function(){$(".syLeftNav .syTab.hyderabad").addClass("active")}),$(".syLeftNav .syNavBody ul li.kolkata").on("click",function(){$(".syLeftNav .syTab.kolkata").addClass("active")}),$(".syLeftNav .syNavBody ul li.chennai").on("click",function(){$(".syLeftNav .syTab.chennai").addClass("active")}),$(".syLeftNav .syNavBody ul li.lucknow").on("click",function(){$(".syLeftNav .syTab.lucknow").addClass("active")}),$(".syLeftNav .syNavBody ul li.vizag").on("click",function(){$(".syLeftNav .syTab.vizag").addClass("active")}),$(".syLeftNav .syNavBody ul li.jaipur").on("click",function(){$(".syLeftNav .syTab.jaipur").addClass("active")}),$(".syLeftNav .syNavBody ul li.vijayawada").on("click",function(){$(".syLeftNav .syTab.vijayawada").addClass("active")}),$(".syLeftNav .syNavBody ul li.ghaziabad").on("click",function(){$(".syLeftNav .syTab.ghaziabad").addClass("active")}),$(".syLeftNav .syNavBody ul li.faridabad").on("click",function(){$(".syLeftNav .syTab.faridabad").addClass("active")}),$(".syLeftNav .syNavBody ul li.dehradun").on("click",function(){$(".syLeftNav .syTab.dehradun").addClass("active")}),$(".syLeftNav .syNavBody ul li.bhopal").on("click",function(){$(".syLeftNav .syTab.bhopal").addClass("active")}),$(".syLeftNav .syNavBody ul li.goa").on("click",function(){$(".syLeftNav .syTab.goa").addClass("active")}),$(".syLeftNav .syNavBody ul li.patna").on("click",function(){$(".syLeftNav .syTab.patna").addClass("active")}),$(".syLeftNav .syNavBody ul li.guwahati").on("click",function(){$(".syLeftNav .syTab.guwahati").addClass("active")}),$(".syLeftNav .syNavBody ul li.bhubaneswar").on("click",function(){$(".syLeftNav .syTab.bhubaneswar").addClass("active")}),$(".syLeftNav .syNavBody ul li.rajkot").on("click",function(){$(".syLeftNav .syTab.rajkot").addClass("active")}),$(".syLeftNav .syNavBody ul li.allahabad").on("click",function(){$(".syLeftNav .syTab.allahabad").addClass("active")}),$(".syLeftNav .syNavBody ul li.agra").on("click",function(){$(".syLeftNav .syTab.agra").addClass("active")}),$(".syLeftNav .syNavBody ul li.chandigarh").on("click",function(){$(".syLeftNav .syTab.chandigarh").addClass("active")});var t=!1;$("#nav-toggle,.hdrNvTglBo").off("click"),$("#nav-toggle,.hdrNvTglBo").on("click",function(){if(isMobileBrowser()&&0==t){t=!0;var e=$("header").attr("page"),n={};"DSE"!=e&&"DSE-SEARCH"!=e&&"LISTING"!=e||(n={navsrc:"new-header"}),$.ajax({async:!0,data:JSON.stringify(n),dataType:"html",contentType:"application/json",success:function(t,e){$.ajax({async:!0,data:JSON.stringify({headerSrc:"outer"}),dataType:"html",contentType:"application/json",success:function(t,e){$("body").append(t),$.getScript("/assets/js/layout-header-nav.js",function(){windowloadfn.init()})},error:function(t){console.log(t)},type:"POST",url:"/getheadernavform"}),$("#dev_layout_header_nav").html(t),$(".navOverlay").toggleClass("active"),$(".hdrNav,.hdrNvTglSpn, body").toggleClass("active")},error:function(t){console.log(t)},complete:function(){},type:"POST",url:"/getnavpopup"})}else $(".navOverlay").toggleClass("active"),$(".hdrNav,.hdrNvTglSpn, body").toggleClass("active")});let e=$("div.loaderBox img");function n(){var t=navigator.userAgent.toLowerCase();return!!(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|ipad|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substr(0,4)))}e&&e.addClass("lazy"),$("header nav ul li.toolsBox small").on("click",function(){$("header nav ul li.toolsBox").toggleClass("active"),$("header nav ul li.solutionsBox").removeClass("active")}),$("header nav ul li.solutionsBox small").on("click",function(){$("header nav ul li.solutionsBox").toggleClass("active"),$("header nav ul li.toolsBox").removeClass("active")}),$("header nav ul li.more ul li#recentProjectlink").on("click",function(){$(".pannel#recentProjects, body").addClass("active"),$(".menuOverLayBox").addClass("active"),$("#nav-toggle,.cityContainer").removeClass("active")}),$(".floatTag").on("click",function(){$(".outerPannel").addClass("active"),$(".menuOverLayBox").addClass("active"),$(this).hide()}),$(".menuOverLayBox, .outerPannel .pannelHeader em, .pannel#recentProjects .pannelHeader em").on("mousedown",function(){$(".outerPannel, .pannel#recentProjects, header nav, small#nav-toggle, body").removeClass("active"),$(".menuOverLayBox").removeClass("active"),$(".floatTag").removeAttr("style")}),$("#profileBox").on("click",function(){$(".profileDropdown").addClass("active")}),$(".navOverlay").on("click",function(){$(".navOverlay,#nav-toggle, header nav, body,.profileDropdown").removeClass("active")}),$("body").on("click",".profileDropdown .profileHeading .close",function(){$(".profileDropdown").removeClass("active")}),$(".shortlistDiv").on("click",function(){$("header #nav-toggle,nav").removeClass("active")}),$("#blogSlider").length>0&&$("#blogSlider").owlCarousel({loop:!1,nav:!1,dots:!0,lazyLoad:!0,responsive:{0:{items:1},600:{items:2,margin:15},1000:{items:1}}}),$("#SearchParent .saerchFocus").on("focus",function(t){if(screen.width<800||1==n()){var e=$(this).attr("id");e={searchtext:"new_project",SaleSearchTxt:"resale",RentSearchTxt:"rental",agentSearchText:"agent",homeLoanSearchText:"homeLoan",homeInteriorSearchText:"homeInterior"}[e],t.preventDefault(),0==globalfn.searchfocus&&newMobileSearchProp.init(e)}}),$("#newProjectHomeMob ,#resaleHomeMob, #rentHomeMob , #agentHomeMob,#homeLoanHomeMob,#homeInteriorHomeMob,#dseagentNP,#dseagentSale,#dseagentRent,#dsenpSale,#dsenpRent,#dsenpAgent,#rrDSEnp,#rrDSEsale,#rrDSErent,#rrDSEagent").on("click",function(t){if(screen.width<800||1==n()){var e=$(this).attr("id");"dseagentNP"==e||"dseagentSale"==e||"dseagentRent"==e?(console.log("in if case"),$(".gblHalfPopup.agentDSEfilterBy").removeClass("active")):"dsenpSale"==e||"dsenpRent"==e||"dsenpAgent"==e?$(".gblHalfPopup.npDSEfilterBy").removeClass("active"):"rrDSEnp"!=e&&"rrDSEsale"!=e&&"rrDSErent"!=e&&"rrDSEagent"!=e||$(".gblHalfPopup.rrDSEfilterBy").removeClass("active");e={newProjectHomeMob:"new_project",resaleHomeMob:"resale",rentHomeMob:"rental",agentHomeMob:"agent",homeLoanHomeMob:"homeLoan",homeInteriorHomeMob:"homeInterior",dseagentNP:"new_project",dseagentSale:"resale",dseagentRent:"rental",dsenpSale:"resale",dsenpRent:"rental",dsenpAgent:"agent",rrDSEnp:"new_project",rrDSEsale:"resale",rrDSErent:"rental",rrDSEagent:"agent"}[e],t.preventDefault(),0==globalfn.searchfocus&&newMobileSearchProp.init(e)}}),$(".newMobileSearchBtn").on("click",function(t){t.preventDefault(),isMobileBrowser&&$("body").append($("<link/>",{href:"/assets/css/new_search_popup.css",rel:"preload",type:"text/css"}),$("<link/>",{href:"/assets/css/new_search_popup.css",rel:"stylesheet",type:"text/css",defer:""})),newMobileSearchProp.init()}),$("#gblCityBtn").off("click"),$("#gblCityBtn").on("click",function(t){t.stopPropagation(),isMobileBrowser&&$("body").append($("<link/>",{href:"/assets/css/header_city_popup.css",rel:"preload",type:"text/css"}),$("<link/>",{href:"/assets/css/header_city_popup.css",rel:"stylesheet",type:"text/css",defer:""})),globalfn.loadheadercitypopup()}),globalfn.init(),$(document).on("click",".changeArea",function(t){t.preventDefault(),t.stopPropagation(),$(".Area-menu").removeClass("active"),$(this).find(".Area-menu").addClass("active")}),$(document).on("click",function(t){var e=$(".changeArea");e===t.target||e.has(t.target).length||$(".Area-menu").removeClass("active")}),$(document).on("click",".Area-menu ul li",function(t){$(this).addClass("active");var e=$(this).data("value");$(this).closest("li.areaMain").find("span.changeArea").find("span.sqfitSelect").html(e),$(this).closest("ul.areaDetails").find("span.changeArea").find("span.sqfitSelect").html(e);var n=$(this).closest("li.areaMain").find("span.avArea").data("value")||$(this).closest("ul.areaDetails").find("span.avArea").data("value")||$(this).closest("div.sqfit").find("span.avArea").data("value"),i=0;if(n>0)switch(e){case"Sq.Ft":i=n,$(this).closest("li.areaMain").find("span.avArea").html(i),$(this).closest("ul.areaDetails").find("span.avArea").html(i),$(this).closest("div.sqfit").find("span.avArea").html(i);break;case"Sq.Yd.":i=(n/9).toFixed(2),$(this).closest("li.areaMain").find("span.avArea").html(i),$(this).closest("ul.areaDetails").find("span.avArea").html(i),$(this).closest("div.sqfit").find("span.avArea").html(i);break;case"Sq.Mt.":i=(n/10.7).toFixed(2),$(this).closest("li.areaMain").find("span.avArea").html(i),$(this).closest("ul.areaDetails").find("span.avArea").html(i),$(this).closest("div.sqfit").find("span.avArea").html(i);break;case"Acre":i=(n/43560).toFixed(2),$(this).closest("li.areaMain").find("span.avArea").html(i),$(this).closest("ul.areaDetails").find("span.avArea").html(i),$(this).closest("div.sqfit").find("span.avArea").html(i)}setTimeout(()=>{$(this).closest(".Area-menu").removeClass("active")},0)}),$(document).on("change",".areaDropdown",function(t){var e=$(this).find("#areaSelect option:selected").text();$(this).closest("li.areaMain").find("span.changeArea").find("span.sqfitSelect").html(e),$(this).closest("ul.areaDetails").find("span.changeArea").find("span.sqfitSelect").html(e);var n=$(this).closest("li.areaMain").find("span.avArea").data("value")||$(this).closest("ul.areaDetails").find("span.avArea").data("value")||$(this).closest("div.sqfit").find("span.avArea").data("value"),i=0;if(n>0)switch(e){case"Sq.Ft":i=n,$(this).closest("li.areaMain").find("span.avArea").html(i),$(this).closest("ul.areaDetails").find("span.avArea").html(i),$(this).closest("div.sqfit").find("span.avArea").html(i);break;case"Sq.Yd.":i=(n/9).toFixed(2),$(this).closest("li.areaMain").find("span.avArea").html(i),$(this).closest("ul.areaDetails").find("span.avArea").html(i),$(this).closest("div.sqfit").find("span.avArea").html(i);break;case"Sq.Mt.":i=(n/10.7).toFixed(2),$(this).closest("li.areaMain").find("span.avArea").html(i),$(this).closest("ul.areaDetails").find("span.avArea").html(i),$(this).closest("div.sqfit").find("span.avArea").html(i);break;case"Acre":i=(n/43560).toFixed(2),$(this).closest("li.areaMain").find("span.avArea").html(i),$(this).closest("ul.areaDetails").find("span.avArea").html(i),$(this).closest("div.sqfit").find("span.avArea").html(i)}}),$("body").on("click","ul.lgnDsktpDrpdwnUl li.userLogout",function(){_paq.push(["resetUserId"]),_paq.push(["appendToTrackingUrl","new_visit=1"]),_paq.push(["trackPageView"]),_paq.push(["appendToTrackingUrl",""]),window.location.href=baseUrl+"user/logout"}),globalfn.setUserHeaderMenu()}),$("header nav").hover(function(){$("#gblCityBox , #dev_headercitypopup_container").removeClass("active"),$("#dev_headeroverlay").css("display","none"),$(".header .gblCityDropdown .dropdown-toggle").removeClass("active")}),$(document).mouseup(function(t){var e=$(".profileDropdown");e.is(t.target)||0!==e.has(t.target).length||e.removeClass("active")});var listingfunction={init:function(){let t;var e=$("ul.budgetcontainer li.min_value"),n=$("ul.budgetcontainer li.max_value"),i=$("ul.areacontainer li.min_value"),o=$("ul.areacontainer li.max_value"),r=$(".dropdown.budget div.rangeBox .minBox input.min_input"),a=$(".dropdown.budget div.rangeBox .maxBox input.max_input"),s=$(".dropdown.extra div.rangeBox .minBox input.min_input"),l=$(".dropdown.extra div.rangeBox .maxBox input.max_input");function c(t,e){t&&t.each(function(){var t=$(this).attr("value");0!=t&&(parseInt(t)<=parseInt(e)?$(this).hide():$(this).show())})}function u(t,e){t&&t.each(function(){var t=$(this).attr("value");0!=t&&(parseInt(t)>=parseInt(e)?$(this).hide():$(this).show())})}e.click(function(){var t=$(this).attr("value"),e=$(this).attr("text");r.val(e),r.attr("minval",t),c(n,t),h(),""!=$("#min_price").val()||""!=$("#max_price").val()?$(".filterbudget_applybtn").removeAttr("style"):$(".filterbudget_applybtn").attr("display","none"),$("#minBox").hide(),$("#maxBox").show()}),i.click(function(){var t=$(this).attr("value"),e=$(this).attr("text");s.val(e),s.attr("minval",t),c(o,t),h(),""!=$("#min_area").val()&&""!=$("#max_area").val()?$(this).closest("div.dropdown-menu").find("div.btn-group").removeAttr("style"):$(this).closest("div.dropdown-menu").find("div.btn-group").attr("display","none")}),n.click(function(){var t=$(this).attr("value"),n=$(this).attr("text");a.val(n),a.attr("maxval",t),u(e,t),h(),""!=$("#min_price").val()||""!=$("#max_price").val()?$(".filterbudget_applybtn").removeAttr("style"):$(".filterbudget_applybtn").attr("display","none"),$("#minBox").show(),$("#maxBox").hide()}),o.on("click",function(){var t=$(this).attr("value"),e=$(this).attr("text");l.val(e),l.attr("maxval",t),u(i,t),h(),""!=$("#min_area").val()&&""!=$("#max_area").val()?$(this).closest("div.dropdown-menu").find("div.btn-group").removeAttr("style"):$(this).closest("div.dropdown-menu").find("div.btn-group").attr("display","none")}),r.on("input",function(){var t=r.val();c(n,t),h(),""!=$("#min_price").val()&&""!=$("#max_price").val()?$(".filterbudget_applybtn").removeAttr("style"):$(".filterbudget_applybtn").attr("display","none")}),s.on("input",function(){var t=s.val();c(i,t),h(),""!=$("#min_area").val()&&""!=$("#max_area").val()?$(".filterarea_applybtn").removeAttr("style"):$(".filterarea_applybtn").attr("display","none")}),a.on("input",function(){var t=a.val();u(e,t),""!=$("#min_price").val()&&""!=$("#max_price").val()?$(".filterbudget_applybtn").removeAttr("style"):$(".filterbudget_applybtn").attr("display","none"),h()}),l.on("input",function(){var t=l.val();u(o,t),""!=$("#min_area").val()&&""!=$("#max_area").val()?$(".filterarea_applybtn").removeAttr("style"):$(".filterarea_applybtn").attr("display","none"),h()});const h=()=>{var t=parseInt(r.val()),e=parseInt(a.val());return e>0&&t>0&&e<t?(r.addClass("inputError"),a.addClass("inputError"),!1):(r.removeClass("inputError"),a.removeClass("inputError"),!0)},d=t=>{t||(t=baseUrl+type+"/search"),Object.values(queryParams).length&&(t=t+"?"+Object.keys(queryParams).map(t=>queryParams[t]?t+"="+encodeURIComponent(queryParams[t]):"").join("&"));let e="";if("undefined"!=typeof dataLayer)for(let t=0;t<dataLayer.length;t++)if(dataLayer[t].PageType){e=dataLayer[t].PageType;break}let n={redirectUrl:t,type:"resale"==type?"Resale":"Rental",pageType:e};_paq.push(["trackEvent","filter","apply",JSON.stringify(n)]),location.href=t},p=()=>{queryParams.page=1;let t=[],e=[];$.each($("input[name='bedroom']:checked"),function(){t.push($(this).val())}),$.each($("input[name='locality']:checked"),function(){e.push($(this).val())}),queryParams.locationId=e.join(","),queryParams.bedrooms=t.join(","),queryParams.minPrice=$("input[name=min_price]").val(),queryParams.maxPrice=$("input[name=max_price]").val(),queryParams.minArea=$("input[name=min_area]").val(),queryParams.maxArea=$("input[name=max_area]").val();let n=[];$.each($("input[name='furnishing']:checked"),function(){n.push($(this).val())}),queryParams.furnishing=n.join(","),queryParams.buildingType=$("input[name=buildingType]:checked").val();let i=[];$.each($("li[data-parent="+queryParams.buildingType+"] input[name='propertyType']:checked"),function(){i.push($(this).val())}),queryParams.propertyType=i.join(",");let o=[];$.each($("input[name='listingType']:checked"),function(){o.push($(this).val())}),queryParams.listingType=o.join(","),Object.keys(queryParams).forEach(t=>!queryParams[t]&&delete queryParams[t]),d()},f=t=>{$("#loaderBox").show(),$("#"+t).find("#dev_errormsg").text(""),$("#"+t).find("#dev_errormsg").css("display","none");let e=$("#"+t).serializeArray(),n={};e.filter(t=>{n[t.name]=t.value}),$.ajax({type:"POST",url:"/"+type+"/send-broker-detail-otp",data:n,success:function(e){if(e.status){if(e.otp){var i=e.otp.toString().split("");4==i.length&&($("input[name=otp\\[\\]]:eq(0)").val(i[0]),$("input[name=otp\\[\\]]:eq(1)").val(i[1]),$("input[name=otp\\[\\]]:eq(2)").val(i[2]),$("input[name=otp\\[\\]]:eq(3)").val(i[3]))}$("#formid").attr("value",t),$("#otpMobile").html("+"+n.countryCode+"-"+n.mobile),$(".popupForm.agent").addClass("active"),$("#listingContactAgentForm").parent(".formBox").removeClass("active").addClass("active"),$(".popupForm .formBox").removeClass("changenumber"),"ListingChatForm"==t&&$(".whatsappLeadBox").removeClass("active"),v("countDownTimer",15,!0,"Expired"),$("form.otpBox span.resend").hide(),setTimeout(function(){$("form.otpBox span.resend").show()},12e4)}else helperJS.alertBox("error",e.message);$("#loaderBox").hide()}})},m=(t,e)=>{if(1==isfirepixel){ta("send","lead"),gtag_report_conversion(window.location.href);var n=0;t.apiResp&&t.apiResp[0]&&parseInt(t.apiResp[0].leadId)&&(n=parseInt(t.apiResp[0].leadId)),n>0&&fbq("track","Lead"),_tfa.push({notify:"event",name:"lead",id:1125593}),$("#dev_taboola_lead_noscript").html(taboolanoscript),$.getScript("/assets/lib/js/colombiapixel.js",function(){$("#dev_colombia_lead_noscript").html(colombianoscript)}),window.dotq=window.dotq||[],window.dotq.push({projectId:"10000",properties:{pixelId:"10066198",qstrings:{et:"custom",ec:"SQY_YahooG_Sec_Leads",ea:"Yahoo_Lead"}}})}},g=(e,n,i,o,r,a,s)=>{$("#loaderBox").show(),$(".otpError").html("");let l=$("#"+a).serializeArray(),c={mobile:e,otp:n,propertyId:i,user:o,userType:r};l.filter(t=>{c[t.name]=t.value}),$.ajax({type:"POST",url:"/"+type+"/verify-broker-detail-otp",data:c,withCredentials:!0,success:function(e){if(globalfn.setUserHeaderMenu(),e.status){let d="";if("undefined"!=typeof dataLayer)for(let t=0;t<dataLayer.length;t++)if(dataLayer[t].PageType){d=dataLayer[t].PageType;break}let p={name:c.name,emailId:c.email,mobile:c.mobile,city:c.location,type:"resale"==type?"Resale":"Rental",propertyId:i,agentId:c.user,agentName:$("#prop_"+c.propertyId+" .infoBox strong span ").html(),pageType:d};if(_paq.push(["trackEvent","product","enquired",JSON.stringify(p)]),dataLayer.push({CPageType:"LISTING"+type.toUpperCase()}),t&&clearInterval(t),$("#countDownTimer").html(e.message),"ListingChatForm"==a?_():y(),void 0!==e.data&&Object.keys(e.data).length){var n=e.data,o="Hi,";null!=n.agentName&&(o="Hi "+n.agentName+",");var r=o+"%0A%0AI am interested in your listing%0A- "+s+" on Square Yards.%0A%0AI look forward to your assistance in my home search. Please get in touch with me at "+c.countryCode+"-"+c.mobile+" to initiate the process.",l="https://api.whatsapp.com/send?phone="+n.agentMobileNo+"&text="+r+"&source=&data=";if("ListingChatForm"==a)m(e),window.location.href=l;else{var u='<div class="agentModalBox active"><div class="agentModalBody"><div class="closeAgentModalPopup"><em class="icon-close"></em></div><div class="figureBox"><picture>';u=null!=n.agentImage&&""!=n.agentImage?u+'<img itemprop="image" class="img-responsive" src="'+n.agentImage+'" alt="'+(void 0!==n.agentName?n.agentName:"N/A")+'">':u+'<span class="clr clr31">'+(void 0!==n.agentName?n.agentName.charAt(0).toUpperCase():"N/A")+"</span>",u+="</picture></div>",1==n.agentPremium&&(u+='<div class="tagBoxx agent"><em class="icon-crown"></em>Preferred Partner</div>'),u=u+'<strong class="name">'+(void 0!==n.agentName?n.agentName:"N/A")+'</strong><span class="phone">'+n.agentMobileNo+'</span><span class="mail">'+n.agentEmailId+'</span><ul class="leadBtnBox"><li><a class="in-call" href="tel:'+n.agentMobileNo+'"><em class="icon-phone-o"></em>Call Now</a></li><li><a class="in-whatsapp" href="'+l+'"><em class="icon-whatsapp"></em>WhatsApp</a></li></ul>',e.redirectUrl&&(u=u+'<div class="btnBox"><a href="'+e.redirectUrl+'" class="btn btn-primary">Take to My Personal Profile <em class="icon-angle-right"></em></a></div>'),u+="</div></div>",$("#dev_Modal_agentModalBox").html(u),$("body").on("click","div.closeAgentModalPopup",function(){$("div.agentModalBox").removeClass("active"),$("div.overLayBox").removeClass("active")});var h=0;e.apiResp&&e.apiResp[0]&&parseInt(e.apiResp[0].leadId)&&(h=parseInt(e.apiResp[0].leadId)),h>0&&($("#dev_Modal_agentModalBox .leadBtnBox li a").off("click"),$("#dev_Modal_agentModalBox .leadBtnBox li a").on("click",function(){var t=0;$(this).hasClass("in-whatsapp")&&(t=129),$(this).hasClass("in-call")&&(t=128),t>0&&$.ajax({url:"/user-activity-fetch",dataType:"json",data:{interactionType:t,leadId:h},type:"POST",success:function(t){}})}))}}else $("#dev_Modal_agentModalBox").html("");$("#"+a).closest(".formBox").find("#listingContactAgentForm")[0].reset(),$("#"+a).closest(".formBox").find("form.otpBox")[0].reset(),$("#"+a).closest(".formBox").find("#agentNumberChange")[0].reset(),m(e)}else $(".otpError").html(e.message);$("#loaderBox").hide()}})},v=(e,n,i,o="")=>{t&&clearInterval(t),n=new Date(Date.now()+60*n*1e3);let r=$("#"+e);const a=()=>{let e=(t=>{let e=Date.parse(t)-Date.now(),n=Math.floor(e/1e3%60),i=Math.floor(e/1e3/60%60),o=Math.floor(e/36e5%24);return{total:e,days:Math.floor(e/864e5),hours:o,minutes:i,seconds:n}})(n);r.html(e.minutes.toString().padStart(2,0)+":"+e.seconds.toString().padStart(2,0)),e.total<=0&&(i?r.html(o):r.hide(),clearInterval(t))};a(),t=setInterval(a,1e3)},y=()=>{$(".popupForm.agent,.overLayBox,body").removeClass("active"),$("#listingContactAgentForm").parent(".formBox").removeClass("active"),$("#formPropertyId").val(""),$("#formUserId").val(""),$("#formUserTypeId").val(""),$("#formPropertyLink").val(""),$("#formid").attr("value","")},_=()=>{$(".popupForm.agent,.whatsappLeadBox,.overLayBox,body").removeClass("active"),$("#listingContactAgentForm").parent(".formBox").removeClass("active"),$("#chatformPropertyId").val(""),$("#chatformUserId").val(""),$("#chatformUserTypeId").val(""),$("#chatformPropertyLink").val(""),$("#formid").attr("value","")};if($("body").on("click","div.closeAgentModalPopup",function(){$("div.agentModalBox").removeClass("active"),$("div.overLayBox").removeClass("active")}),$("body").on("click","#dev_searchlabel li em.icon-close",function(){$("#loaderBox").show();let t=$(this).closest("li"),e=t.data("type"),n=t.data("value");if("minPriceMaxPrice"==e)delete queryParams.minPrice,delete queryParams.maxPrice;else if("minAreaMaxArea"==e)delete queryParams.minArea,delete queryParams.maxArea;else{"location"==e&&(e="locationId");let t=""+queryParams[e],i=(t=t.split(",")).indexOf(""+n);t.splice(i,1),queryParams[e]=t.join(",")}d()}),$("#ddlCountryCodeListing").length>0&&(initializeCityAutocompleteComboBox("listingContactAgentForm","ddlLocationListing","ddlLocationListing_div"),onChangeLmsCountryCode($("#ddlCountryCodeListing"),"ddlLocationListing","listingContactAgentForm")),$("#ddlCountryCodeListing").change(function(){onChangeLmsCountryCode(this,"ddlLocationListing","listingContactAgentForm")}),$("#ddlCountryCodeListingChat").length>0&&(initializeCityAutocompleteComboBox("ListingChatForm","ddlLocationListingChat","ddlLocationListingChat_div"),onChangeLmsCountryCode($("#ddlCountryCodeListingChat"),"ddlLocationListingChat","ListingChatForm")),$("#ddlCountryCodeListingChat").change(function(){onChangeLmsCountryCode(this,"ddlLocationListingChat","ListingChatForm")}),$("#ddlCountryCodeContact").length>0&&(initializeCityAutocompleteComboBox("listingContactForm","ddlLocationContact","ddlLocationContact_div"),onChangeLmsCountryCode($("#ddlCountryCodeContact"),"ddlLocationContact","listingContactForm")),$("#ddlCountryCodeContact").change(function(){onChangeLmsCountryCode(this,"ddlLocationContact","listingContactForm")}),$(".dseSearch .filterBtn").on("click",function(){$(".dseSearch, body").addClass("active")}),$(".dseSearch .filterHeding em").on("click",function(){$(".dseSearch, body").removeClass("active")}),$(".contactAgentBtn").on("click",function(){((t,e,n,i,o,r)=>{$("#formPropertyId").val(t),$("#formUserId").val(e),$("#formUserTypeId").val(n),$("#formPropertyTitle").val(i),$("#formPropertyLink").val(o),$("#formlocation").val(r),$("#listingContactAgentForm button[type=submit]").text("Contact "+("Owner"==n?"Owner":"Agent")),"Owner"==n?$("#listingContactAgentForm h5").text("Contact The Property Owner"):$("#listingContactAgentForm h5").text("Contact Our Real Estate Experts"),$(".popupForm.agent,.overLayBox,body").addClass("active"),$(".formBox input.name").focus()})($(this).closest(".tileBox").data("id"),$(this).closest(".tileBox").data("user"),$(this).closest(".tileBox").data("userType"),$(this).closest(".tileBox").data("propertyTitle"),$(this).closest(".tileBox").data("propertylink"),$(this).closest(".tileBox").data("location"))}),$(".whatsAppBtn").on("click",function(){((t,e,n,i,o,r)=>{$("#chatformPropertyId").val(t),$("#chatformUserId").val(e),$("#chatformUserTypeId").val(n),$("#chatformPropertyTitle").val(i),$("#chatformPropertyLink").val(o),$("#chatformlocation").val(r),$(".whatsappLeadBox,.overLayBox,body").addClass("active")})($(this).closest(".tileBox").data("id"),$(this).closest(".tileBox").data("user"),$(this).closest(".tileBox").data("userType"),$(this).closest(".tileBox").data("propertyTitle"),$(this).closest(".tileBox").data("propertylink"),$(this).closest(".tileBox").data("location"))}),$(".icon-close").off("click"),$(".icon-close").on("click",function(){$(".popupForm, .overLayBox, body,.popupForm .formBox,.agentModalBox,.whatsappLeadBox,.dseSearch").removeClass("active")}),$("#listingContactAgentForm").on("submit",function(t){t.preventDefault(),"resale"==type.toLowerCase()?"owner"==t.target.userTypeId.value.toLowerCase()?$("#confirmOtp").addClass("DSE_Resale_L4").removeClass("DSE_Resale_L3"):$("#confirmOtp").addClass("DSE_Resale_L2").removeClass("DSE_Resale_L1"):"owner"==t.target.userTypeId.value.toLowerCase()?$("#confirmOtp").addClass("DSE_Rental_L4").removeClass("DSE_Rental_L3"):$("#confirmOtp").addClass("DSE_Rental_L2").removeClass("DSE_Rental_L1"),f("listingContactAgentForm")}),$("#ListingChatForm").on("submit",function(t){t.preventDefault(),"resale"==type.toLowerCase()?"owner"==t.target.chatformUserTypeId.defaultValue.toLowerCase()?$("#confirmOtp").addClass("DSE_Resale_L3").removeClass("DSE_Resale_L4"):$("#confirmOtp").addClass("DSE_Resale_L1").removeClass("DSE_Resale_L2"):"owner"==t.target.chatformUserTypeId.defaultValue.toLowerCase()?$("#confirmOtp").addClass("DSE_Rental_L3").removeClass("DSE_Rental_L4"):$("#confirmOtp").addClass("DSE_Rental_L1").removeClass("DSE_Rental_L2"),f("ListingChatForm")}),$("#changeNumber").off("click"),$("#changeNumber").on("click",function(){$(".popupForm .formBox").addClass("active"),$(".popupForm .formBox").addClass("changenumber")}),$("#agentNumberChange").on("submit",function(t){t.preventDefault();var e=$("#formid").attr("value"),n=$("#agentNumberChange").find("input[name='countryCode']").val(),i=$("#agentNumberChange").find("input[name='mobile']").val();$("#"+e).find("input[name='countryCode']").val(n),$("#"+e).find("input[name='mobile']").val(i),f(e)}),$("form.otpBox span.resend button").on("click",function(){var t=$("#formid").attr("value");f(t)}),$("#confirmOtp").on("click",function(){var t=$("#formid").attr("value"),e="";"ListingChatForm"==t&&(e="chat");let n=$("form.otpBox").serializeArray(),i="";if(n.filter(t=>{i+=t.value}),i.length=4){let n=$("#otpMobile").html().split("-").pop(),o=$("#"+e+"formPropertyId").val(),r=$("#"+e+"formUserId").val(),a=$("#"+e+"formUserTypeId").val(),s=$("#"+e+"formPropertyLink").val();g(n,i,o,r,a,t,s)}}),$(".paginationBox ul.pagination li").on("click",function(){!$(this).hasClass("active")&&$(this).data("page")&&(queryParams.page=$(this).data("page"),d())}),$("#dev_badge.active em.toggleBadge, div.mobileBox .dropdown.resetBtn button, .mobileBox .saveBox .resetBtn").on("click",function(){$("#loaderBox").show(),window.location.href=(baseUrl+urlPrefix+cityName.toLowerCase()+"/"+cityId).toLowerCase()}),$("#country-codes .dropdown-menu ul li").click(function(){$("#loaderBox").show();var t=$(this).html();$("#country-codes .dropdown-toggle .value").html(t)}),$("input[name=bedroom], input[name=locality], input[name=furnishing], input[name=buildingType], input[name=propertyType], input[name=listingType]").on("click",function(){$(this).closest("div.dropdown-menu").find("div.btn-group").show()}),$("ul.buildingType li input[type=radio]").on("change",function(){var t=$(this).val();$(".propertyTypeHeading").show(),$(".propertyTypeColumn").show(),$("ul.propertyType li").hide(),$("ul.propertyType li[data-parent="+t+"]").show()}),$(".applyFilter").on("click",function(){$("#loaderBox").show(),p()}),$("#searchtext").length){searchTerm="";var b="";$("#searchtext").autocomplete({appendTo:$("#topresultsearch"),source:function(t,e){searchTerm=t.term,b=cityId,$.ajax({url:"/"+type+"/locationList",dataType:"json",data:{cityId:cityId,q:t.term,ltype:"resale"==type?"sale":"rent",excludes:queryParams.locationId?queryParams.locationId.split(","):[],excludep:queryParams.projectId?queryParams.projectId.split(","):[]},type:"POST",success:function(t){e(t)}})},autoFocus:!0,focus:function(t,e){$("#topresultsearch ul").removeAttr("style")},minLength:2,select:function(t,e){if(_galaktic_search){let t="";if("undefined"!=typeof dataLayer)for(let e=0;e<dataLayer.length;e++)if(dataLayer[e].PageType){t=dataLayer[e].PageType;break}let n={keyword:searchTerm,suggest:e.item.suggestion,type:"resale"==type?"Resale":"Rental",city:b,redirectUrl:e.item.redirect_url,pageType:t};return _paq.push(["trackSiteSearch",JSON.stringify(n)]),n={redirectUrl:e.item.redirect_url,type:"resale"==type?"Resale":"Rental",pageType:t},setTimeout(()=>{_paq.push(["trackEvent","filter","apply",JSON.stringify(n)])},100),window.location.href=e.item.redirect_url,!1}$("#loaderBox").show(),queryParams.locationId&&"locality"==e.item.type?(queryParams.locationId=queryParams.locationId+","+e.item.subLocalityId,p()):"locality"==e.item.type?(queryParams.locationId=e.item.subLocalityId,p()):queryParams.projectId&&"project"==e.item.type?(queryParams.projectId=queryParams.projectId+","+e.item.beatsProjectId,p()):"project"==e.item.type&&(queryParams.projectId=e.item.beatsProjectId,p())}}).autocomplete("instance")._renderItem=function(t,e){if(_galaktic_search)var n=null!=e.label?e.label:"",i='<em class="icon-search"></em>'+e.suggestion+"<span>"+n+"</span>";else{i='<em class="icon-search"></em>'+("locality"==e.type?e.subLocalityName+", "+e.cityName:"project"==e.type?e.projectName+", "+e.cityName:"")+"<span>"+e.type+"</span>"}return $("<li>").append(i).appendTo(t)}}$("ul.fillOtp li").on("keyup",function(t){var e=t.srcElement||t.target;e=$(e).parent("li");var n=parseInt(e.find("input").attr("maxlength"),10),i=e.find("input").val().length;if(i>=n){for(var o=e;(o=o.next())&&o.length;)if("input"===o.find("input").prop("tagName").toLowerCase()){o.find("input").focus();break}}else if(0===i)for(var r=e;(r=r.previousElementSibling)&&null!=r;)if("input"===r.tagName.toLowerCase()){r.focus();break}}),$("#searchtext").on("focus",function(){$(this).closest(".input-group").find(".autoComplete").addClass("active")}),$("#dev_badge").on("click",function(){document.getElementById("searchtext").focus()}),$(".inputGroupAdd .dropdown-menu ul li").on("click",function(){$(this).closest(".dropdown-menu").siblings("button.dropdown-toggle").text($(this).text()),$(this).closest(".dropdown-menu").hide()}),$(".squarePlusFilter  ul li").on("click",function(){delete queryParams.buildingType,queryParams.listingType==$(this).val()?queryParams.listingType="":(queryParams.listingType=$(this).val(),Object.keys(queryParams).forEach(t=>!queryParams[t]&&delete queryParams[t])),d()}),$("#location-filter").keyup(function(){var t=$(this).val();$(".location-filter-ul > li").each(function(){var e=-1!==$(this).text().toLowerCase().indexOf(t.toLowerCase());$(this).toggle(e)})})}};$(document).ready(function(){initializeCityAutocompleteComboBox("agentContactForm","ddlLocationAgent","ddlLocationAgent_div"),$("#ddlCountryCodeAgent").change(function(){onChangeLmsCountryCode(this,"ddlLocationAgent","agentContactForm")}),$("#ddlCountryCodeRating").change(function(){onChangeLmsCountryCode(this,"ddlLocationRating","ratingContactForm")}),$(".whatsAppBtn").on("click",function(){$(".whatsAppBtn").removeClass("active"),"agent"==pageType?$("#confirmOtp").addClass("Detail_Agent_L1"):$("#confirmOtp").addClass("Detail_Agent_L3"),$(this).addClass("active")}),$(".AgentBtn").on("click",function(){$(".AgentBtn").removeClass("active"),"agent"==pageType?$("#confirmOtp").addClass("Detail_Agent_L2"):$("#confirmOtp").addClass("Detail_Agent_L4"),$(this).addClass("active")}),$("#agentContactForm").on("submit",function(t){t.preventDefault(),sendOtp()}),$("#ratingResend").on("click",function(){sendOtp("rating")}),$("#agentResend").on("click",function(){sendOtp()}),$("#changeNumber").off("click"),$("#changeNumber").on("click",function(){$(".formSticky .formBox").addClass("active"),$(".formSticky .formBox").addClass("changenumber")}),$("#agentNumberChange").on("submit",function(t){t.preventDefault();var e=$("#agentNumberChange").find("input[name='countryCode']").val(),n=$("#agentNumberChange").find("input[name='mobile']").val();$("#agentContactForm").find("input[name='countryCode']").val(e),$("#agentContactForm").find("input[name='mobile']").val(n),sendOtp()}),$("#confirmOtp").on("click",function(){let t=$("#agentOtpBox").serializeArray(),e="";if(t.filter(t=>{e+=t.value}),e.length=4){let t=$("#otpMobile").html().split("-").pop(),n=$("#formUserId").val(),i=$("#formUserTypeId").val();confirmOtp(t,e,n,i)}}),$("ul.fillOtp li").on("keyup",function(t){var e=t.srcElement||t.target;e=$(e).parent("li");var n=parseInt(e.find("input").attr("maxlength"),10),i=e.find("input").val().length;if(i>=n){for(var o=e;(o=o.next())&&o.length;)if("input"===o.find("input").prop("tagName").toLowerCase()){o.find("input").focus();break}}else if(0===i)for(var r=e;(r=r.previousElementSibling)&&null!=r;)if("input"===r.tagName.toLowerCase()){r.focus();break}}),$("#ratingForm").on("submit",function(t){t.preventDefault();let e=$(this).serializeArray();ratingData={rMFeedback:[]},e.forEach(t=>{"feedback"==t.name?ratingData.rMFeedback.push({feedbackID:t.value,feedbackDesc:feedback[t.value].title}):ratingData[t.name]=t.value}),ratingData.ratingValue&&ratingData.ratingValue>0&&ratingData.rMFeedback.length?(ratingData.ratingID=ratingData.ratingValue,ratingData.ratingDesc=ratingData.remarks,contactForm("rating")):helperJS.alertBox("error","Please Select The Reasons to Continue")}),$(".reviewFormBox .dealerBox .closeBox, .reviewFormBox .formBox .closeBtn,.reviewFormBox::after").on("click",function(){$(".reviewFormBox, body").removeClass("active")}),$("input[type=radio][name=ratingValue]").on("change",function(){$("#reasonBox").html("");let t=parseInt($(this).val()),e=rating.filter(e=>e.id===t),n=Object.values(e[0].feedback)[0],i={};Object.keys(feedback).forEach(t=>{n.indexOf(parseInt(t))>=0&&(feedback[t].id,i[t]=feedback[t])});let o,r,a,s=$("<strong/>",{text:"negative"===e[0].type?"What went wrong?":"What you liked?"}),l=$("<ul/>");Object.keys(i).forEach(t=>{o=$("<li/>"),r=$("<label/>",{text:i[t].title}),a=$("<input/>",{type:"checkbox",class:"optionInput checkbox",name:"feedback",value:t}),r.append(a),o.append(r),l.append(o)}),$("#reasonBox").append(s),$("#reasonBox").append(l),$("#reasonBox").show()}),$("#ratingContactForm").on("submit",function(t){t.preventDefault(),sendOtp("rating")}),$("#ratingOtpBox").on("submit",function(t){t.preventDefault();let e=$("#ratingOtpBox").serializeArray(),n="";if(e.filter(t=>{n+=t.value}),n.length=4){let t=$("#ratingOtpMobile").html().split("-").pop(),e=$("#formUserId").val(),i=$("#formUserTypeId").val();confirmOtp(t,n,e,i,"rating")}}),$(".loadMyProperties").on("click",function(){$("#loaderBox").show(),param={agentId:$(this).attr("userid"),userType:"expert"==$(this).attr("pagetype")?"EMPLOYEE":"CP",page:"sale"==listingtype.toLowerCase()?salePage:rentPage,listingType:listingtype},$.ajax({type:"get",url:"/agent/my-properties",data:param,success:function(t){if(t.status)if(renderListingTiles(t.data.listings),t.data.listings.length)"sale"==listingtype.toLowerCase()?salePage+=1:rentPage+=1;else{let t=`${param.listingType.toLowerCase()}`;$(`.loadBtnBox.${t}`).remove()}else $(`.loadBtnBox.${loadBtnBoxClass}`).remove();$("#loaderBox").hide()}})})});const sendOtp=(t="agent")=>{let e;$("#loaderBox").show(),$(".errorbox").text(""),e="rating"==t?$("#ratingContactForm"):$("#agentContactForm");let n={};e.serializeArray().filter(t=>{n[t.name]=t.value}),$.ajax({type:"POST",url:"/agent/send-otp",data:n,success:function(i){if(i.status){if("rating"==t?($("#ratingOtpMobile").html("+"+n.countryCode+"-"+n.mobile),run_clock("ratingCountDownTimer",15,!0,"Expired")):($(".formSticky .formBox").removeClass("changenumber"),$("#otpMobile").html("+"+n.countryCode+"-"+n.mobile),run_clock("countDownTimer",15,!0,"Expired")),otpForm(t),$("span.resend").hide(),setTimeout(function(){"rating"==t?$("#ratingOtpBox span.resend").show():$("#agentOtpBox span.resend").show()},12e4),i.otp){var o=i.otp.toString().split("");4==o.length&&(e.closest(".formBox").find("input[name=otp\\[\\]]:eq(0)").val(o[0]),e.closest(".formBox").find("input[name=otp\\[\\]]:eq(1)").val(o[1]),e.closest(".formBox").find("input[name=otp\\[\\]]:eq(2)").val(o[2]),e.closest(".formBox").find("input[name=otp\\[\\]]:eq(3)").val(o[3]))}}else helperJS.alertBox("error",i.message);$("#loaderBox").hide()}})},confirmOtp=(t,e,n,i,o="agent")=>{let r;$("#loaderBox").show(),$(".errorbox").html(""),r="rating"==o?$("#ratingContactForm").serializeArray():$("#agentContactForm").serializeArray();let a={mobile:t,otp:e,user:n,userType:i,source:o};"rating"==o&&(a.agentId=a.user,a.agentType=a.userType,a=Object.assign({},a,ratingData)),r.filter(t=>{a[t.name]=t.value}),a.agentCity=cityName,a.totalRating=$("#ratinglen").val(),$.ajax({type:"POST",url:"agent/verify-otp",data:JSON.stringify(a),contentType:"application/json",withCredentials:!0,success:function(t){if(globalfn.setUserHeaderMenu(),t.status){let e="";if("undefined"!=typeof dataLayer)for(let t=0;t<dataLayer.length;t++)if(dataLayer[t].PageType){e=dataLayer[t].PageType;break}if(void 0!==t.data&&Object.keys(t.data).length){let n={name:a.name,emailId:a.email,mobile:t.encr,city:a.location,type:"Agents",userId:a.userId,userType:a.userType,pageType:e};_paq.push(["trackEvent","product","enquired",JSON.stringify(n)])}}afterVerification(o,a,t),$("#loaderBox").hide()}})},afterVerification=(t,e,n)=>{if(n.status){if(dataLayer.push({CPageType:pageType.toUpperCase()+"_DETAIL"}),"undefined"!=typeof timeinterval&&clearInterval(timeinterval),$("#countDownTimer").hide(),"rating"==t?$("#ratingOtpFormError").html(n.message).css("color","#4CAF50"):$("#agentOtpFormError").html(n.message).css("color","#4CAF50"),setTimeout(()=>{hideContactForm(t)},3e3),void 0!==n.data&&Object.keys(n.data).length){var i=n.data,o="Hi,";null!=i.agentName&&(o="Hi "+i.agentName+",");var r=o+"%0A%0AI am searching for a property and found you on Square Yards.%0A%0AI look forward to your assistance in helping me find the right home. Please get in touch with me at "+e.countryCode+"-"+e.mobile+" to initiate the process.",a="https://api.whatsapp.com/send?phone="+i.agentMobileNo+"&text="+r+"&source=&data=";if(1==$(".whatsAppBtn.active").length>0)window.location.href=a;else{$(".overLayBox,body").addClass("active");var s='<div class="agentModalBox active"><div class="agentModalBody"><div class="closeAgentModalPopup"><em class="icon-close"></em></div><div class="figureBox"><picture>';s=null!=i.agentImage&&""!=i.agentImage?s+'<img itemprop="image" class="img-responsive" src="'+i.agentImage+'" alt="'+(void 0!==i.agentName?i.agentName:"N/A")+'">':s+'<span class="clr clr31">'+(void 0!==i.agentName?i.agentName.charAt(0).toUpperCase():"N/A")+"</span>",s+="</picture></div>",1==i.agentPremium&&(s+='<div class="tagBoxx agent"><em class="icon-crown"></em>Preferred Partner</div>'),s=s+'<strong class="name">'+(void 0!==i.agentName?i.agentName:"N/A")+'</strong><span class="phone">'+i.agentMobileNo+'</span><span class="mail">'+i.agentEmailId+'</span><ul class="leadBtnBox"><li><a href="tel:'+i.agentMobileNo+'"><em class="icon-phone-o"></em>Call Now</a></li><li><a href="'+a+'"><em class="icon-whatsapp"></em>WhatsApp</a></li></ul>',n.redirectUrl&&(s=s+'<div class="btnBox"><a href="'+n.redirectUrl+'" class="btn btn-primary">Take to My Personal Profile <em class="icon-angle-right"></em></a></div>'),s+="</div></div>",$("#dev_Modal_agentModalBox").html(s)}}$("body").on("click","div.closeAgentModalPopup",function(){$("div.agentModalBox").removeClass("active"),$("div.overLayBox").removeClass("active")}),$("#agentNumberChange")[0].reset()}else"rating"==t?$("#ratingOtpFormError").html(n.message).css("color","#e62f2d"):$("#agentOtpFormError").html(n.message).css("color","#e62f2d")},time_remaining=t=>{let e=Date.parse(t)-Date.now(),n=Math.floor(e/1e3%60),i=Math.floor(e/1e3/60%60),o=Math.floor(e/36e5%24);return{total:e,days:Math.floor(e/864e5),hours:o,minutes:i,seconds:n}},run_clock=(t,e,n,i="")=>{"undefined"!=typeof timeinterval&&clearInterval(timeinterval),e=new Date(Date.now()+60*e*1e3);let o=$("#"+t);const r=()=>{let t=time_remaining(e);o.html(t.minutes.toString().padStart(2,0)+":"+t.seconds.toString().padStart(2,0)),t.total<=0&&(n?o.html(i):o.hide())};r(),timeinterval=setInterval(r,1e3)},contactForm=(t="agent")=>{"rating"==t?($(".reviewPopup").removeClass("active"),$(".overLayBox").removeClass("active"),$("#ratingContactForm")[0].reset(),$("#ratingContactForm").show(),$("#ratingOtpBox").hide(),$(".reviewFormBox, body").addClass("active"),$("#ratingContactForm input:eq(0)").focus()):($(".reviewPopup").removeClass("active"),$(".overLayBox").removeClass("active"),$("#agentContactForm")[0].reset(),$("#agentContactForm").show(),$("#agentDealerBox").hide(),$("#agentOtpBox").hide(),$("#agentContactForm input:eq(0)").focus())},hideContactForm=(t="agent")=>{"rating"==t?($("#ratingContactForm")[0].reset(),$("#ratingContactForm").show(),$("#ratingOtpBox").hide(),$(".reviewFormBox, body").removeClass("active"),$("#ratingForm")[0].reset(),$("#reasonBox").html("")):($("#agentContactForm")[0].reset(),$("#agentContactForm").show(),$("#agentDealerBox").hide(),$("#agentOtpBox").hide())},otpForm=(t="agent")=>{console.log(t),"rating"==t?($("#ratingOtpBox")[0].reset(),$("#ratingOtpBox").show(),$("#ratingContactForm").hide(),$(".reviewFormBox, body").addClass("active"),$("#ratingOtpBox input:eq(0)").focus()):($("#agentOtpBox")[0].reset(),$("#agentContactForm").hide(),$("#agentDealerBox").hide(),$("#agentOtpBox").show(),$("#agentOtpBox input:eq(0)").focus())};function _extends(){return(_extends=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t}).apply(this,arguments)}function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}!function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)}(function(t){t.ui=t.ui||{},t.ui.version="1.12.1";var e,n,i,o,r,a,s,l,c,u,h,d,p=0,f=Array.prototype.slice;function m(t,e,n){return[parseFloat(t[0])*(c.test(t[0])?e/100:1),parseFloat(t[1])*(c.test(t[1])?n/100:1)]}function g(e,n){return parseInt(t.css(e,n),10)||0}t.cleanData=(e=t.cleanData,function(n){for(var i,o,r=0;null!=(o=n[r]);r++)try{(i=t._data(o,"events"))&&i.remove&&t(o).triggerHandler("remove")}catch(n){}e(n)}),t.widget=function(e,n,i){var o,r,a,s={},l=e.split(".")[0],c=l+"-"+(e=e.split(".")[1]);return i||(i=n,n=t.Widget),t.isArray(i)&&(i=t.extend.apply(null,[{}].concat(i))),t.expr[":"][c.toLowerCase()]=function(e){return!!t.data(e,c)},t[l]=t[l]||{},o=t[l][e],r=t[l][e]=function(t,e){if(!this._createWidget)return new r(t,e);arguments.length&&this._createWidget(t,e)},t.extend(r,o,{version:i.version,_proto:t.extend({},i),_childConstructors:[]}),(a=new n).options=t.widget.extend({},a.options),t.each(i,function(e,i){function o(){return n.prototype[e].apply(this,arguments)}function r(t){return n.prototype[e].apply(this,t)}t.isFunction(i)?s[e]=function(){var t,e=this._super,n=this._superApply;return this._super=o,this._superApply=r,t=i.apply(this,arguments),this._super=e,this._superApply=n,t}:s[e]=i}),r.prototype=t.widget.extend(a,{widgetEventPrefix:o&&a.widgetEventPrefix||e},s,{constructor:r,namespace:l,widgetName:e,widgetFullName:c}),o?(t.each(o._childConstructors,function(e,n){var i=n.prototype;t.widget(i.namespace+"."+i.widgetName,r,n._proto)}),delete o._childConstructors):n._childConstructors.push(r),t.widget.bridge(e,r),r},t.widget.extend=function(e){for(var n,i,o=f.call(arguments,1),r=0,a=o.length;r<a;r++)for(n in o[r])i=o[r][n],o[r].hasOwnProperty(n)&&void 0!==i&&(t.isPlainObject(i)?e[n]=t.isPlainObject(e[n])?t.widget.extend({},e[n],i):t.widget.extend({},i):e[n]=i);return e},t.widget.bridge=function(e,n){var i=n.prototype.widgetFullName||e;t.fn[e]=function(o){var r="string"==typeof o,a=f.call(arguments,1),s=this;return r?this.length||"instance"!==o?this.each(function(){var n,r=t.data(this,i);return"instance"===o?(s=r,!1):r?t.isFunction(r[o])&&"_"!==o.charAt(0)?(n=r[o].apply(r,a))!==r&&void 0!==n?(s=n&&n.jquery?s.pushStack(n.get()):n,!1):void 0:t.error("no such method '"+o+"' for "+e+" widget instance"):t.error("cannot call methods on "+e+" prior to initialization; attempted to call method '"+o+"'")}):s=void 0:(a.length&&(o=t.widget.extend.apply(null,[o].concat(a))),this.each(function(){var e=t.data(this,i);e?(e.option(o||{}),e._init&&e._init()):t.data(this,i,new n(o,this))})),s}},t.Widget=function(){},t.Widget._childConstructors=[],t.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{classes:{},disabled:!1,create:null},_createWidget:function(e,n){n=t(n||this.defaultElement||this)[0],this.element=t(n),this.uuid=p++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=t(),this.hoverable=t(),this.focusable=t(),this.classesElementLookup={},n!==this&&(t.data(n,this.widgetFullName,this),this._on(!0,this.element,{remove:function(t){t.target===n&&this.destroy()}}),this.document=t(n.style?n.ownerDocument:n.document||n),this.window=t(this.document[0].defaultView||this.document[0].parentWindow)),this.options=t.widget.extend({},this.options,this._getCreateOptions(),e),this._create(),this.options.disabled&&this._setOptionDisabled(this.options.disabled),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:function(){return{}},_getCreateEventData:t.noop,_create:t.noop,_init:t.noop,destroy:function(){var e=this;this._destroy(),t.each(this.classesElementLookup,function(t,n){e._removeClass(n,t)}),this.element.off(this.eventNamespace).removeData(this.widgetFullName),this.widget().off(this.eventNamespace).removeAttr("aria-disabled"),this.bindings.off(this.eventNamespace)},_destroy:t.noop,widget:function(){return this.element},option:function(e,n){var i,o,r,a=e;if(0===arguments.length)return t.widget.extend({},this.options);if("string"==typeof e)if(a={},e=(i=e.split(".")).shift(),i.length){for(o=a[e]=t.widget.extend({},this.options[e]),r=0;r<i.length-1;r++)o[i[r]]=o[i[r]]||{},o=o[i[r]];if(e=i.pop(),1===arguments.length)return void 0===o[e]?null:o[e];o[e]=n}else{if(1===arguments.length)return void 0===this.options[e]?null:this.options[e];a[e]=n}return this._setOptions(a),this},_setOptions:function(t){for(var e in t)this._setOption(e,t[e]);return this},_setOption:function(t,e){return"classes"===t&&this._setOptionClasses(e),this.options[t]=e,"disabled"===t&&this._setOptionDisabled(e),this},_setOptionClasses:function(e){var n,i,o;for(n in e)o=this.classesElementLookup[n],e[n]!==this.options.classes[n]&&o&&o.length&&(i=t(o.get()),this._removeClass(o,n),i.addClass(this._classes({element:i,keys:n,classes:e,add:!0})))},_setOptionDisabled:function(t){this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!!t),t&&(this._removeClass(this.hoverable,null,"ui-state-hover"),this._removeClass(this.focusable,null,"ui-state-focus"))},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_classes:function(e){var n=[],i=this;function o(o,r){for(var a,s=0;s<o.length;s++)a=i.classesElementLookup[o[s]]||t(),a=e.add?t(t.unique(a.get().concat(e.element.get()))):t(a.not(e.element).get()),i.classesElementLookup[o[s]]=a,n.push(o[s]),r&&e.classes[o[s]]&&n.push(e.classes[o[s]])}return e=t.extend({element:this.element,classes:this.options.classes||{}},e),this._on(e.element,{remove:"_untrackClassesElement"}),e.keys&&o(e.keys.match(/\S+/g)||[],!0),e.extra&&o(e.extra.match(/\S+/g)||[]),n.join(" ")},_untrackClassesElement:function(e){var n=this;t.each(n.classesElementLookup,function(i,o){-1!==t.inArray(e.target,o)&&(n.classesElementLookup[i]=t(o.not(e.target).get()))})},_removeClass:function(t,e,n){return this._toggleClass(t,e,n,!1)},_addClass:function(t,e,n){return this._toggleClass(t,e,n,!0)},_toggleClass:function(t,e,n,i){i="boolean"==typeof i?i:n;var o="string"==typeof t||null===t;return(t={extra:o?e:n,keys:o?t:e,element:o?this.element:t,add:i}).element.toggleClass(this._classes(t),i),this},_on:function(e,n,i){var o,r=this;"boolean"!=typeof e&&(i=n,n=e,e=!1),i?(n=o=t(n),this.bindings=this.bindings.add(n)):(i=n,n=this.element,o=this.widget()),t.each(i,function(i,a){function s(){if(e||!0!==r.options.disabled&&!t(this).hasClass("ui-state-disabled"))return("string"==typeof a?r[a]:a).apply(r,arguments)}"string"!=typeof a&&(s.guid=a.guid=a.guid||s.guid||t.guid++);var l;i=(l=i.match(/^([\w:-]*)\s*(.*)$/))[1]+r.eventNamespace;(l=l[2])?o.on(i,l,s):n.on(i,s)})},_off:function(e,n){n=(n||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.off(n).off(n),this.bindings=t(this.bindings.not(e).get()),this.focusable=t(this.focusable.not(e).get()),this.hoverable=t(this.hoverable.not(e).get())},_delay:function(t,e){var n=this;return setTimeout(function(){return("string"==typeof t?n[t]:t).apply(n,arguments)},e||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e),this._on(e,{mouseenter:function(e){this._addClass(t(e.currentTarget),null,"ui-state-hover")},mouseleave:function(e){this._removeClass(t(e.currentTarget),null,"ui-state-hover")}})},_focusable:function(e){this.focusable=this.focusable.add(e),this._on(e,{focusin:function(e){this._addClass(t(e.currentTarget),null,"ui-state-focus")},focusout:function(e){this._removeClass(t(e.currentTarget),null,"ui-state-focus")}})},_trigger:function(e,n,i){var o,r,a=this.options[e];if(i=i||{},(n=t.Event(n)).type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase(),n.target=this.element[0],r=n.originalEvent)for(o in r)o in n||(n[o]=r[o]);return this.element.trigger(n,i),!(t.isFunction(a)&&!1===a.apply(this.element[0],[n].concat(i))||n.isDefaultPrevented())}},t.each({show:"fadeIn",hide:"fadeOut"},function(e,n){t.Widget.prototype["_"+e]=function(i,o,r){var a;"string"==typeof o&&(o={effect:o});var s=o?!0!==o&&"number"!=typeof o&&o.effect||n:e;"number"==typeof(o=o||{})&&(o={duration:o}),a=!t.isEmptyObject(o),o.complete=r,o.delay&&i.delay(o.delay),a&&t.effects&&t.effects.effect[s]?i[e](o):s!==e&&i[s]?i[s](o.duration,o.easing,r):i.queue(function(n){t(this)[e](),r&&r.call(i[0]),n()})}}),t.widget,i=Math.max,o=Math.abs,r=/left|center|right/,a=/top|center|bottom/,s=/[\+\-]\d+(\.[\d]+)?%?/,l=/^\w+/,c=/%$/,u=t.fn.position,t.position={scrollbarWidth:function(){if(void 0!==n)return n;var e,i=t("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),o=i.children()[0];return t("body").append(i),e=o.offsetWidth,i.css("overflow","scroll"),e===(o=o.offsetWidth)&&(o=i[0].clientWidth),i.remove(),n=e-o},getScrollInfo:function(e){var n=e.isWindow||e.isDocument?"":e.element.css("overflow-x"),i=e.isWindow||e.isDocument?"":e.element.css("overflow-y");n="scroll"===n||"auto"===n&&e.width<e.element[0].scrollWidth;return{width:"scroll"===i||"auto"===i&&e.height<e.element[0].scrollHeight?t.position.scrollbarWidth():0,height:n?t.position.scrollbarWidth():0}},getWithinInfo:function(e){var n=t(e||window),i=t.isWindow(n[0]),o=!!n[0]&&9===n[0].nodeType;return{element:n,isWindow:i,isDocument:o,offset:i||o?{left:0,top:0}:t(e).offset(),scrollLeft:n.scrollLeft(),scrollTop:n.scrollTop(),width:n.outerWidth(),height:n.outerHeight()}}},t.fn.position=function(e){if(!e||!e.of)return u.apply(this,arguments);e=t.extend({},e);var n,c,h,d,p,f,v=t(e.of),y=t.position.getWithinInfo(e.within),_=t.position.getScrollInfo(y),b=(e.collision||"flip").split(" "),x={},$=9===(f=($=v)[0]).nodeType?{width:$.width(),height:$.height(),offset:{top:0,left:0}}:t.isWindow(f)?{width:$.width(),height:$.height(),offset:{top:$.scrollTop(),left:$.scrollLeft()}}:f.preventDefault?{width:0,height:0,offset:{top:f.pageY,left:f.pageX}}:{width:$.outerWidth(),height:$.outerHeight(),offset:$.offset()};return v[0].preventDefault&&(e.at="left top"),c=$.width,h=$.height,d=$.offset,p=t.extend({},d),t.each(["my","at"],function(){var t,n,i=(e[this]||"").split(" ");1===i.length&&(i=r.test(i[0])?i.concat(["center"]):a.test(i[0])?["center"].concat(i):["center","center"]),i[0]=r.test(i[0])?i[0]:"center",i[1]=a.test(i[1])?i[1]:"center",t=s.exec(i[0]),n=s.exec(i[1]),x[this]=[t?t[0]:0,n?n[0]:0],e[this]=[l.exec(i[0])[0],l.exec(i[1])[0]]}),1===b.length&&(b[1]=b[0]),"right"===e.at[0]?p.left+=c:"center"===e.at[0]&&(p.left+=c/2),"bottom"===e.at[1]?p.top+=h:"center"===e.at[1]&&(p.top+=h/2),n=m(x.at,c,h),p.left+=n[0],p.top+=n[1],this.each(function(){var r,a,s=t(this),l=s.outerWidth(),u=s.outerHeight(),f=g(this,"marginLeft"),$=g(this,"marginTop"),w=l+f+g(this,"marginRight")+_.width,C=u+$+g(this,"marginBottom")+_.height,k=t.extend({},p),M=m(x.my,s.outerWidth(),s.outerHeight());"right"===e.my[0]?k.left-=l:"center"===e.my[0]&&(k.left-=l/2),"bottom"===e.my[1]?k.top-=u:"center"===e.my[1]&&(k.top-=u/2),k.left+=M[0],k.top+=M[1],r={marginLeft:f,marginTop:$},t.each(["left","top"],function(i,o){t.ui.position[b[i]]&&t.ui.position[b[i]][o](k,{targetWidth:c,targetHeight:h,elemWidth:l,elemHeight:u,collisionPosition:r,collisionWidth:w,collisionHeight:C,offset:[n[0]+M[0],n[1]+M[1]],my:e.my,at:e.at,within:y,elem:s})}),e.using&&(a=function(t){var n=d.left-k.left,r=n+c-l,a=d.top-k.top,p=a+h-u,f={target:{element:v,left:d.left,top:d.top,width:c,height:h},element:{element:s,left:k.left,top:k.top,width:l,height:u},horizontal:r<0?"left":0<n?"right":"center",vertical:p<0?"top":0<a?"bottom":"middle"};c<l&&o(n+r)<c&&(f.horizontal="center"),h<u&&o(a+p)<h&&(f.vertical="middle"),i(o(n),o(r))>i(o(a),o(p))?f.important="horizontal":f.important="vertical",e.using.call(this,t,f)}),s.offset(t.extend(k,{using:a}))})},t.ui.position={fit:{left:function(t,e){var n=e.within,o=n.isWindow?n.scrollLeft:n.offset.left,r=n.width,a=t.left-e.collisionPosition.marginLeft,s=o-a,l=a+e.collisionWidth-r-o;e.collisionWidth>r?0<s&&l<=0?(n=t.left+s+e.collisionWidth-r-o,t.left+=s-n):t.left=!(0<l&&s<=0)&&l<s?o+r-e.collisionWidth:o:0<s?t.left+=s:0<l?t.left-=l:t.left=i(t.left-a,t.left)},top:function(t,e){var n=e.within,o=n.isWindow?n.scrollTop:n.offset.top,r=e.within.height,a=t.top-e.collisionPosition.marginTop,s=o-a,l=a+e.collisionHeight-r-o;e.collisionHeight>r?0<s&&l<=0?(n=t.top+s+e.collisionHeight-r-o,t.top+=s-n):t.top=!(0<l&&s<=0)&&l<s?o+r-e.collisionHeight:o:0<s?t.top+=s:0<l?t.top-=l:t.top=i(t.top-a,t.top)}},flip:{left:function(t,e){var n=(c=e.within).offset.left+c.scrollLeft,i=c.width,r=c.isWindow?c.scrollLeft:c.offset.left,a=(u=t.left-e.collisionPosition.marginLeft)-r,s=u+e.collisionWidth-i-r,l="left"===e.my[0]?-e.elemWidth:"right"===e.my[0]?e.elemWidth:0,c="left"===e.at[0]?e.targetWidth:"right"===e.at[0]?-e.targetWidth:0,u=-2*e.offset[0];a<0?((n=t.left+l+c+u+e.collisionWidth-i-n)<0||n<o(a))&&(t.left+=l+c+u):0<s&&(0<(r=t.left-e.collisionPosition.marginLeft+l+c+u-r)||o(r)<s)&&(t.left+=l+c+u)},top:function(t,e){var n=(c=e.within).offset.top+c.scrollTop,i=c.height,r=c.isWindow?c.scrollTop:c.offset.top,a=(u=t.top-e.collisionPosition.marginTop)-r,s=u+e.collisionHeight-i-r,l="top"===e.my[1]?-e.elemHeight:"bottom"===e.my[1]?e.elemHeight:0,c="top"===e.at[1]?e.targetHeight:"bottom"===e.at[1]?-e.targetHeight:0,u=-2*e.offset[1];a<0?((n=t.top+l+c+u+e.collisionHeight-i-n)<0||n<o(a))&&(t.top+=l+c+u):0<s&&(0<(r=t.top-e.collisionPosition.marginTop+l+c+u-r)||o(r)<s)&&(t.top+=l+c+u)}},flipfit:{left:function(){t.ui.position.flip.left.apply(this,arguments),t.ui.position.fit.left.apply(this,arguments)},top:function(){t.ui.position.flip.top.apply(this,arguments),t.ui.position.fit.top.apply(this,arguments)}}},t.ui.position,t.fn.form=function(){return"string"==typeof this[0].form?this.closest("form"):t(this[0].form)},t.ui.formResetMixin={_formResetHandler:function(){var e=t(this);setTimeout(function(){var n=e.data("ui-form-reset-instances");t.each(n,function(){this.refresh()})})},_bindFormResetHandler:function(){var t;this.form=this.element.form(),this.form.length&&((t=this.form.data("ui-form-reset-instances")||[]).length||this.form.on("reset.ui-form-reset",this._formResetHandler),t.push(this),this.form.data("ui-form-reset-instances",t))},_unbindFormResetHandler:function(){var e;this.form.length&&((e=this.form.data("ui-form-reset-instances")).splice(t.inArray(this,e),1),e.length?this.form.data("ui-form-reset-instances",e):this.form.removeData("ui-form-reset-instances").off("reset.ui-form-reset"))}},t.ui.keyCode={BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38},t.ui.escapeSelector=(h=/([!"#$%&'()*+,.\/:;<=>?@[\]^`{|}~])/g,function(t){return t.replace(h,"\\$1")}),t.fn.labels=function(){var e,n,i;return this[0].labels&&this[0].labels.length?this.pushStack(this[0].labels):(n=this.eq(0).parents("label"),(e=this.attr("id"))&&(i=(i=this.eq(0).parents().last()).add((i.length?i:this).siblings()),e="label[for='"+t.ui.escapeSelector(e)+"']",n=n.add(i.find(e).addBack(e))),this.pushStack(n))},t.fn.extend({uniqueId:(d=0,function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++d)})}),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&t(this).removeAttr("id")})}}),t.ui.safeActiveElement=function(t){var e;try{e=t.activeElement}catch(n){e=t.body}return(e=e||t.body).nodeName||(e=t.body),e},t.widget("ui.menu",{version:"1.12.1",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-caret-1-e"},items:"> *",menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.mouseHandled=!1,this.element.uniqueId().attr({role:this.options.role,tabIndex:0}),this._addClass("ui-menu","ui-widget ui-widget-content"),this._on({"mousedown .ui-menu-item":function(t){t.preventDefault()},"click .ui-menu-item":function(e){var n=t(e.target),i=t(t.ui.safeActiveElement(this.document[0]));!this.mouseHandled&&n.not(".ui-state-disabled").length&&(this.select(e),e.isPropagationStopped()||(this.mouseHandled=!0),n.has(".ui-menu").length?this.expand(e):!this.element.is(":focus")&&i.closest(".ui-menu").length&&(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(e){var n,i;this.previousFilter||(n=t(e.target).closest(".ui-menu-item"),i=t(e.currentTarget),n[0]===i[0]&&(this._removeClass(i.siblings().children(".ui-state-active"),null,"ui-state-active"),this.focus(e,i)))},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(t,e){var n=this.active||this.element.find(this.options.items).eq(0);e||this.focus(t,n)},blur:function(e){this._delay(function(){t.contains(this.element[0],t.ui.safeActiveElement(this.document[0]))||this.collapseAll(e)})},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(t){this._closeOnDocumentClick(t)&&this.collapseAll(t),this.mouseHandled=!1}})},_destroy:function(){var e=this.element.find(".ui-menu-item").removeAttr("role aria-disabled").children(".ui-menu-item-wrapper").removeUniqueId().removeAttr("tabIndex role aria-haspopup");this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeAttr("role aria-labelledby aria-expanded aria-hidden aria-disabled tabIndex").removeUniqueId().show(),e.children().each(function(){var e=t(this);e.data("ui-menu-submenu-caret")&&e.remove()})},_keydown:function(e){var n,i,o,r=!0;switch(e.keyCode){case t.ui.keyCode.PAGE_UP:this.previousPage(e);break;case t.ui.keyCode.PAGE_DOWN:this.nextPage(e);break;case t.ui.keyCode.HOME:this._move("first","first",e);break;case t.ui.keyCode.END:this._move("last","last",e);break;case t.ui.keyCode.UP:this.previous(e);break;case t.ui.keyCode.DOWN:this.next(e);break;case t.ui.keyCode.LEFT:this.collapse(e);break;case t.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(e);break;case t.ui.keyCode.ENTER:case t.ui.keyCode.SPACE:this._activate(e);break;case t.ui.keyCode.ESCAPE:this.collapse(e);break;default:r=!1,n=this.previousFilter||"",o=!1,i=96<=e.keyCode&&e.keyCode<=105?(e.keyCode-96).toString():String.fromCharCode(e.keyCode),clearTimeout(this.filterTimer),i===n?o=!0:i=n+i,n=this._filterMenuItems(i),(n=o&&-1!==n.index(this.active.next())?this.active.nextAll(".ui-menu-item"):n).length||(i=String.fromCharCode(e.keyCode),n=this._filterMenuItems(i)),n.length?(this.focus(e,n),this.previousFilter=i,this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)):delete this.previousFilter}r&&e.preventDefault()},_activate:function(t){this.active&&!this.active.is(".ui-state-disabled")&&(this.active.children("[aria-haspopup='true']").length?this.expand(t):this.select(t))},refresh:function(){var e,n,i=this,o=this.options.icons.submenu,r=this.element.find(this.options.menus);this._toggleClass("ui-menu-icons",null,!!this.element.find(".ui-icon").length),n=r.filter(":not(.ui-menu)").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var e=t(this),n=e.prev(),r=t("<span>").data("ui-menu-submenu-caret",!0);i._addClass(r,"ui-menu-icon","ui-icon "+o),n.attr("aria-haspopup","true").prepend(r),e.attr("aria-labelledby",n.attr("id"))}),this._addClass(n,"ui-menu","ui-widget ui-widget-content ui-front"),(e=r.add(this.element).find(this.options.items)).not(".ui-menu-item").each(function(){var e=t(this);i._isDivider(e)&&i._addClass(e,"ui-menu-divider","ui-widget-content")}),r=(n=e.not(".ui-menu-item, .ui-menu-divider")).children().not(".ui-menu").uniqueId().attr({tabIndex:-1,role:this._itemRole()}),this._addClass(n,"ui-menu-item")._addClass(r,"ui-menu-item-wrapper"),e.filter(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!t.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(t,e){var n;"icons"===t&&(n=this.element.find(".ui-menu-icon"),this._removeClass(n,null,this.options.icons.submenu)._addClass(n,null,e.submenu)),this._super(t,e)},_setOptionDisabled:function(t){this._super(t),this.element.attr("aria-disabled",String(t)),this._toggleClass(null,"ui-state-disabled",!!t)},focus:function(t,e){var n;this.blur(t,t&&"focus"===t.type),this._scrollIntoView(e),this.active=e.first(),n=this.active.children(".ui-menu-item-wrapper"),this._addClass(n,null,"ui-state-active"),this.options.role&&this.element.attr("aria-activedescendant",n.attr("id")),n=this.active.parent().closest(".ui-menu-item").children(".ui-menu-item-wrapper"),this._addClass(n,null,"ui-state-active"),t&&"keydown"===t.type?this._close():this.timer=this._delay(function(){this._close()},this.delay),(n=e.children(".ui-menu")).length&&t&&/^mouse/.test(t.type)&&this._startOpening(n),this.activeMenu=e.parent(),this._trigger("focus",t,{item:e})},_scrollIntoView:function(e){var n,i,o;this._hasScroll()&&(i=parseFloat(t.css(this.activeMenu[0],"borderTopWidth"))||0,o=parseFloat(t.css(this.activeMenu[0],"paddingTop"))||0,n=e.offset().top-this.activeMenu.offset().top-i-o,i=this.activeMenu.scrollTop(),o=this.activeMenu.height(),e=e.outerHeight(),n<0?this.activeMenu.scrollTop(i+n):o<n+e&&this.activeMenu.scrollTop(i+n-o+e))},blur:function(t,e){e||clearTimeout(this.timer),this.active&&(this._removeClass(this.active.children(".ui-menu-item-wrapper"),null,"ui-state-active"),this._trigger("blur",t,{item:this.active}),this.active=null)},_startOpening:function(t){clearTimeout(this.timer),"true"===t.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close(),this._open(t)},this.delay))},_open:function(e){var n=t.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(e.parents(".ui-menu")).hide().attr("aria-hidden","true"),e.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(n)},collapseAll:function(e,n){clearTimeout(this.timer),this.timer=this._delay(function(){var i=n?this.element:t(e&&e.target).closest(this.element.find(".ui-menu"));i.length||(i=this.element),this._close(i),this.blur(e),this._removeClass(i.find(".ui-state-active"),null,"ui-state-active"),this.activeMenu=i},this.delay)},_close:function(t){(t=t||(this.active?this.active.parent():this.element)).find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false")},_closeOnDocumentClick:function(e){return!t(e.target).closest(".ui-menu").length},_isDivider:function(t){return!/[^\-\u2014\u2013\s]/.test(t.text())},collapse:function(t){var e=this.active&&this.active.parent().closest(".ui-menu-item",this.element);e&&e.length&&(this._close(),this.focus(t,e))},expand:function(t){var e=this.active&&this.active.children(".ui-menu ").find(this.options.items).first();e&&e.length&&(this._open(e.parent()),this._delay(function(){this.focus(t,e)}))},next:function(t){this._move("next","first",t)},previous:function(t){this._move("prev","last",t)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(t,e,n){var i;this.active&&(i="first"===t||"last"===t?this.active["first"===t?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[t+"All"](".ui-menu-item").eq(0)),i&&i.length&&this.active||(i=this.activeMenu.find(this.options.items)[e]()),this.focus(n,i)},nextPage:function(e){var n,i,o;this.active?this.isLastItem()||(this._hasScroll()?(i=this.active.offset().top,o=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){return(n=t(this)).offset().top-i-o<0}),this.focus(e,n)):this.focus(e,this.activeMenu.find(this.options.items)[this.active?"last":"first"]())):this.next(e)},previousPage:function(e){var n,i,o;this.active?this.isFirstItem()||(this._hasScroll()?(i=this.active.offset().top,o=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){return 0<(n=t(this)).offset().top-i+o}),this.focus(e,n)):this.focus(e,this.activeMenu.find(this.options.items).first())):this.next(e)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(e){this.active=this.active||t(e.target).closest(".ui-menu-item");var n={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(e,!0),this._trigger("select",e,n)},_filterMenuItems:function(e){e=e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&");var n=new RegExp("^"+e,"i");return this.activeMenu.find(this.options.items).filter(".ui-menu-item").filter(function(){return n.test(t.trim(t(this).children(".ui-menu-item-wrapper").text()))})}}),t.widget("ui.autocomplete",{version:"1.12.1",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,_create:function(){var e,n,i,o="textarea"===(r=this.element[0].nodeName.toLowerCase()),r="input"===r;this.isMultiLine=o||!r&&this._isContentEditable(this.element),this.valueMethod=this.element[o||r?"val":"text"],this.isNewMenu=!0,this._addClass("ui-autocomplete-input"),this.element.attr("autocomplete","off"),this._on(this.element,{keydown:function(o){if(this.element.prop("readOnly"))n=i=e=!0;else{n=i=e=!1;var r=t.ui.keyCode;switch(o.keyCode){case r.PAGE_UP:e=!0,this._move("previousPage",o);break;case r.PAGE_DOWN:e=!0,this._move("nextPage",o);break;case r.UP:e=!0,this._keyEvent("previous",o);break;case r.DOWN:e=!0,this._keyEvent("next",o);break;case r.ENTER:this.menu.active&&(e=!0,o.preventDefault(),this.menu.select(o));break;case r.TAB:this.menu.active&&this.menu.select(o);break;case r.ESCAPE:this.menu.element.is(":visible")&&(this.isMultiLine||this._value(this.term),this.close(o),o.preventDefault());break;default:n=!0,this._searchTimeout(o)}}},keypress:function(i){if(e)return e=!1,void(this.isMultiLine&&!this.menu.element.is(":visible")||i.preventDefault());if(!n){var o=t.ui.keyCode;switch(i.keyCode){case o.PAGE_UP:this._move("previousPage",i);break;case o.PAGE_DOWN:this._move("nextPage",i);break;case o.UP:this._keyEvent("previous",i);break;case o.DOWN:this._keyEvent("next",i)}}},input:function(t){if(i)return i=!1,void t.preventDefault();this._searchTimeout(t)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(t){this.cancelBlur?delete this.cancelBlur:(clearTimeout(this.searching),this.close(t),this._change(t))}}),this._initSource(),this.menu=t("<ul>").appendTo(this._appendTo()).menu({role:null}).hide().menu("instance"),this._addClass(this.menu.element,"ui-autocomplete","ui-front"),this._on(this.menu.element,{mousedown:function(e){e.preventDefault(),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,this.element[0]!==t.ui.safeActiveElement(this.document[0])&&this.element.trigger("focus")})},menufocus:function(e,n){var i;if(this.isNewMenu&&(this.isNewMenu=!1,e.originalEvent&&/^mouse/.test(e.originalEvent.type)))return this.menu.blur(),void this.document.one("mousemove",function(){t(e.target).trigger(e.originalEvent)});i=n.item.data("ui-autocomplete-item"),!1!==this._trigger("focus",e,{item:i})&&e.originalEvent&&/^key/.test(e.originalEvent.type)&&this._value(i.value),(i=n.item.attr("aria-label")||i.value)&&t.trim(i).length&&(this.liveRegion.children().hide(),t("<div>").text(i).appendTo(this.liveRegion))},menuselect:function(e,n){var i=n.item.data("ui-autocomplete-item"),o=this.previous;this.element[0]!==t.ui.safeActiveElement(this.document[0])&&(this.element.trigger("focus"),this.previous=o,this._delay(function(){this.previous=o,this.selectedItem=i})),!1!==this._trigger("select",e,{item:i})&&this._value(i.value),this.term=this._value(),this.close(e),this.selectedItem=i}}),this.liveRegion=t("<div>",{role:"status","aria-live":"assertive","aria-relevant":"additions"}).appendTo(this.document[0].body),this._addClass(this.liveRegion,null,"ui-helper-hidden-accessible"),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(t,e){this._super(t,e),"source"===t&&this._initSource(),"appendTo"===t&&this.menu.element.appendTo(this._appendTo()),"disabled"===t&&e&&this.xhr&&this.xhr.abort()},_isEventTargetInWidget:function(e){var n=this.menu.element[0];return e.target===this.element[0]||e.target===n||t.contains(n,e.target)},_closeOnClickOutside:function(t){this._isEventTargetInWidget(t)||this.close()},_appendTo:function(){var e=this.options.appendTo;return(e=e&&(e.jquery||e.nodeType?t(e):this.document.find(e).eq(0)))&&e[0]||(e=this.element.closest(".ui-front, dialog")),e.length||(e=this.document[0].body),e},_initSource:function(){var e,n,i=this;t.isArray(this.options.source)?(e=this.options.source,this.source=function(n,i){i(t.ui.autocomplete.filter(e,n.term))}):"string"==typeof this.options.source?(n=this.options.source,this.source=function(e,o){i.xhr&&i.xhr.abort(),i.xhr=t.ajax({url:n,data:e,dataType:"json",success:function(t){o(t)},error:function(){o([])}})}):this.source=this.options.source},_searchTimeout:function(t){clearTimeout(this.searching),this.searching=this._delay(function(){var e=this.term===this._value(),n=this.menu.element.is(":visible"),i=t.altKey||t.ctrlKey||t.metaKey||t.shiftKey;e&&(!e||n||i)||(this.selectedItem=null,this.search(null,t))},this.options.delay)},search:function(t,e){return t=null!=t?t:this._value(),this.term=this._value(),t.length<this.options.minLength?this.close(e):!1!==this._trigger("search",e)?this._search(t):void 0},_search:function(t){this.pending++,this._addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:t},this._response())},_response:function(){var e=++this.requestIndex;return t.proxy(function(t){e===this.requestIndex&&this.__response(t),this.pending--,this.pending||this._removeClass("ui-autocomplete-loading")},this)},__response:function(t){t=t&&this._normalize(t),this._trigger("response",null,{content:t}),!this.options.disabled&&t&&t.length&&!this.cancelSearch?(this._suggest(t),this._trigger("open")):this._close()},close:function(t){this.cancelSearch=!0,this._close(t)},_close:function(t){this._off(this.document,"mousedown"),this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",t))},_change:function(t){this.previous!==this._value()&&this._trigger("change",t,{item:this.selectedItem})},_normalize:function(e){return e.length&&e[0].label&&e[0].value?e:t.map(e,function(e){return"string"==typeof e?{label:e,value:e}:t.extend({},e,{label:e.label||e.value,value:e.value||e.label})})},_suggest:function(e){var n=this.menu.element.empty();this._renderMenu(n,e),this.isNewMenu=!0,this.menu.refresh(),n.show(),this._resizeMenu(),n.position(t.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next(),this._on(this.document,{mousedown:"_closeOnClickOutside"})},_resizeMenu:function(){var t=this.menu.element;t.outerWidth(Math.max(t.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(e,n){var i=this;t.each(n,function(t,n){i._renderItemData(e,n)})},_renderItemData:function(t,e){return this._renderItem(t,e).data("ui-autocomplete-item",e)},_renderItem:function(e,n){return t("<li>").append(t("<div>").text(n.label)).appendTo(e)},_move:function(t,e){if(this.menu.element.is(":visible"))return this.menu.isFirstItem()&&/^previous/.test(t)||this.menu.isLastItem()&&/^next/.test(t)?(this.isMultiLine||this._value(this.term),void this.menu.blur()):void this.menu[t](e);this.search(null,e)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(t,e){this.isMultiLine&&!this.menu.element.is(":visible")||(this._move(t,e),e.preventDefault())},_isContentEditable:function(t){if(!t.length)return!1;var e=t.prop("contentEditable");return"inherit"===e?this._isContentEditable(t.parent()):"true"===e}}),t.extend(t.ui.autocomplete,{escapeRegex:function(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(e,n){var i=new RegExp(t.ui.autocomplete.escapeRegex(n),"i");return t.grep(e,function(t){return i.test(t.label||t.value||t)})}}),t.widget("ui.autocomplete",t.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(t){return t+(1<t?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(e){var n;this._superApply(arguments),this.options.disabled||this.cancelSearch||(n=e&&e.length?this.options.messages.results(e.length):this.options.messages.noResults,this.liveRegion.children().hide(),t("<div>").text(n).appendTo(this.liveRegion))}}),t.ui.autocomplete;var v,y=/ui-corner-([a-z]){2,6}/g;t.widget("ui.controlgroup",{version:"1.12.1",defaultElement:"<div>",options:{direction:"horizontal",disabled:null,onlyVisible:!0,items:{button:"input[type=button], input[type=submit], input[type=reset], button, a",controlgroupLabel:".ui-controlgroup-label",checkboxradio:"input[type='checkbox'], input[type='radio']",selectmenu:"select",spinner:".ui-spinner-input"}},_create:function(){this._enhance()},_enhance:function(){this.element.attr("role","toolbar"),this.refresh()},_destroy:function(){this._callChildMethod("destroy"),this.childWidgets.removeData("ui-controlgroup-data"),this.element.removeAttr("role"),this.options.items.controlgroupLabel&&this.element.find(this.options.items.controlgroupLabel).find(".ui-controlgroup-label-contents").contents().unwrap()},_initWidgets:function(){var e=this,n=[];t.each(this.options.items,function(i,o){var r,a={};if(o)return"controlgroupLabel"===i?((r=e.element.find(o)).each(function(){var e=t(this);e.children(".ui-controlgroup-label-contents").length||e.contents().wrapAll("<span class='ui-controlgroup-label-contents'></span>")}),e._addClass(r,null,"ui-widget ui-widget-content ui-state-default"),void(n=n.concat(r.get()))):void(t.fn[i]&&(a=e["_"+i+"Options"]?e["_"+i+"Options"]("middle"):{classes:{}},e.element.find(o).each(function(){var o=t(this),r=o[i]("instance"),s=t.widget.extend({},a);"button"===i&&o.parent(".ui-spinner").length||((r=r||o[i]()[i]("instance"))&&(s.classes=e._resolveClassesValues(s.classes,r)),o[i](s),s=o[i]("widget"),t.data(s[0],"ui-controlgroup-data",r||o[i]("instance")),n.push(s[0]))})))}),this.childWidgets=t(t.unique(n)),this._addClass(this.childWidgets,"ui-controlgroup-item")},_callChildMethod:function(e){this.childWidgets.each(function(){var n=t(this).data("ui-controlgroup-data");n&&n[e]&&n[e]()})},_updateCornerClass:function(t,e){e=this._buildSimpleOptions(e,"label").classes.label,this._removeClass(t,null,"ui-corner-top ui-corner-bottom ui-corner-left ui-corner-right ui-corner-all"),this._addClass(t,null,e)},_buildSimpleOptions:function(t,e){var n="vertical"===this.options.direction,i={classes:{}};return i.classes[e]={middle:"",first:"ui-corner-"+(n?"top":"left"),last:"ui-corner-"+(n?"bottom":"right"),only:"ui-corner-all"}[t],i},_spinnerOptions:function(t){return(t=this._buildSimpleOptions(t,"ui-spinner")).classes["ui-spinner-up"]="",t.classes["ui-spinner-down"]="",t},_buttonOptions:function(t){return this._buildSimpleOptions(t,"ui-button")},_checkboxradioOptions:function(t){return this._buildSimpleOptions(t,"ui-checkboxradio-label")},_selectmenuOptions:function(t){var e="vertical"===this.options.direction;return{width:e&&"auto",classes:{middle:{"ui-selectmenu-button-open":"","ui-selectmenu-button-closed":""},first:{"ui-selectmenu-button-open":"ui-corner-"+(e?"top":"tl"),"ui-selectmenu-button-closed":"ui-corner-"+(e?"top":"left")},last:{"ui-selectmenu-button-open":e?"":"ui-corner-tr","ui-selectmenu-button-closed":"ui-corner-"+(e?"bottom":"right")},only:{"ui-selectmenu-button-open":"ui-corner-top","ui-selectmenu-button-closed":"ui-corner-all"}}[t]}},_resolveClassesValues:function(e,n){var i={};return t.each(e,function(o){var r=n.options.classes[o]||"";r=t.trim(r.replace(y,""));i[o]=(r+" "+e[o]).replace(/\s+/g," ")}),i},_setOption:function(t,e){"direction"===t&&this._removeClass("ui-controlgroup-"+this.options.direction),this._super(t,e),"disabled"!==t?this.refresh():this._callChildMethod(e?"disable":"enable")},refresh:function(){var e,n=this;this._addClass("ui-controlgroup ui-controlgroup-"+this.options.direction),"horizontal"===this.options.direction&&this._addClass(null,"ui-helper-clearfix"),this._initWidgets(),e=this.childWidgets,this.options.onlyVisible&&(e=e.filter(":visible")),e.length&&(t.each(["first","last"],function(t,i){var o,r=e[i]().data("ui-controlgroup-data");r&&n["_"+r.widgetName+"Options"]?((o=n["_"+r.widgetName+"Options"](1===e.length?"only":i)).classes=n._resolveClassesValues(o.classes,r),r.element[r.widgetName](o)):n._updateCornerClass(e[i](),i)}),this._callChildMethod("refresh"))}}),t.widget("ui.checkboxradio",[t.ui.formResetMixin,{version:"1.12.1",options:{disabled:null,label:null,icon:!0,classes:{"ui-checkboxradio-label":"ui-corner-all","ui-checkboxradio-icon":"ui-corner-all"}},_getCreateOptions:function(){var e,n=this,i=this._super()||{};return this._readType(),e=this.element.labels(),this.label=t(e[e.length-1]),this.label.length||t.error("No label found for checkboxradio widget"),this.originalLabel="",this.label.contents().not(this.element[0]).each(function(){n.originalLabel+=3===this.nodeType?t(this).text():this.outerHTML}),this.originalLabel&&(i.label=this.originalLabel),null!=(e=this.element[0].disabled)&&(i.disabled=e),i},_create:function(){var t=this.element[0].checked;this._bindFormResetHandler(),null==this.options.disabled&&(this.options.disabled=this.element[0].disabled),this._setOption("disabled",this.options.disabled),this._addClass("ui-checkboxradio","ui-helper-hidden-accessible"),this._addClass(this.label,"ui-checkboxradio-label","ui-button ui-widget"),"radio"===this.type&&this._addClass(this.label,"ui-checkboxradio-radio-label"),this.options.label&&this.options.label!==this.originalLabel?this._updateLabel():this.originalLabel&&(this.options.label=this.originalLabel),this._enhance(),t&&(this._addClass(this.label,"ui-checkboxradio-checked","ui-state-active"),this.icon&&this._addClass(this.icon,null,"ui-state-hover")),this._on({change:"_toggleClasses",focus:function(){this._addClass(this.label,null,"ui-state-focus ui-visual-focus")},blur:function(){this._removeClass(this.label,null,"ui-state-focus ui-visual-focus")}})},_readType:function(){var e=this.element[0].nodeName.toLowerCase();this.type=this.element[0].type,"input"===e&&/radio|checkbox/.test(this.type)||t.error("Can't create checkboxradio on element.nodeName="+e+" and element.type="+this.type)},_enhance:function(){this._updateIcon(this.element[0].checked)},widget:function(){return this.label},_getRadioGroup:function(){var e=this.element[0].name,n="input[name='"+t.ui.escapeSelector(e)+"']";return e?(this.form.length?t(this.form[0].elements).filter(n):t(n).filter(function(){return 0===t(this).form().length})).not(this.element):t([])},_toggleClasses:function(){var e=this.element[0].checked;this._toggleClass(this.label,"ui-checkboxradio-checked","ui-state-active",e),this.options.icon&&"checkbox"===this.type&&this._toggleClass(this.icon,null,"ui-icon-check ui-state-checked",e)._toggleClass(this.icon,null,"ui-icon-blank",!e),"radio"===this.type&&this._getRadioGroup().each(function(){var e=t(this).checkboxradio("instance");e&&e._removeClass(e.label,"ui-checkboxradio-checked","ui-state-active")})},_destroy:function(){this._unbindFormResetHandler(),this.icon&&(this.icon.remove(),this.iconSpace.remove())},_setOption:function(t,e){if("label"!==t||e){if(this._super(t,e),"disabled"===t)return this._toggleClass(this.label,null,"ui-state-disabled",e),void(this.element[0].disabled=e);this.refresh()}},_updateIcon:function(e){var n="ui-icon ui-icon-background ";this.options.icon?(this.icon||(this.icon=t("<span>"),this.iconSpace=t("<span> </span>"),this._addClass(this.iconSpace,"ui-checkboxradio-icon-space")),"checkbox"===this.type?(n+=e?"ui-icon-check ui-state-checked":"ui-icon-blank",this._removeClass(this.icon,null,e?"ui-icon-blank":"ui-icon-check")):n+="ui-icon-blank",this._addClass(this.icon,"ui-checkboxradio-icon",n),e||this._removeClass(this.icon,null,"ui-icon-check ui-state-checked"),this.icon.prependTo(this.label).after(this.iconSpace)):void 0!==this.icon&&(this.icon.remove(),this.iconSpace.remove(),delete this.icon)},_updateLabel:function(){var t=this.label.contents().not(this.element[0]);this.icon&&(t=t.not(this.icon[0])),this.iconSpace&&(t=t.not(this.iconSpace[0])),t.remove(),this.label.append(this.options.label)},refresh:function(){var t=this.element[0].checked,e=this.element[0].disabled;this._updateIcon(t),this._toggleClass(this.label,"ui-checkboxradio-checked","ui-state-active",t),null!==this.options.label&&this._updateLabel(),e!==this.options.disabled&&this._setOptions({disabled:e})}}]),t.ui.checkboxradio,t.widget("ui.button",{version:"1.12.1",defaultElement:"<button>",options:{classes:{"ui-button":"ui-corner-all"},disabled:null,icon:null,iconPosition:"beginning",label:null,showLabel:!0},_getCreateOptions:function(){var t,e=this._super()||{};return this.isInput=this.element.is("input"),null!=(t=this.element[0].disabled)&&(e.disabled=t),this.originalLabel=this.isInput?this.element.val():this.element.html(),this.originalLabel&&(e.label=this.originalLabel),e},_create:function(){!this.option.showLabel&!this.options.icon&&(this.options.showLabel=!0),null==this.options.disabled&&(this.options.disabled=this.element[0].disabled||!1),this.hasTitle=!!this.element.attr("title"),this.options.label&&this.options.label!==this.originalLabel&&(this.isInput?this.element.val(this.options.label):this.element.html(this.options.label)),this._addClass("ui-button","ui-widget"),this._setOption("disabled",this.options.disabled),this._enhance(),this.element.is("a")&&this._on({keyup:function(e){e.keyCode===t.ui.keyCode.SPACE&&(e.preventDefault(),this.element[0].click?this.element[0].click():this.element.trigger("click"))}})},_enhance:function(){this.element.is("button")||this.element.attr("role","button"),this.options.icon&&(this._updateIcon("icon",this.options.icon),this._updateTooltip())},_updateTooltip:function(){this.title=this.element.attr("title"),this.options.showLabel||this.title||this.element.attr("title",this.options.label)},_updateIcon:function(e,n){var i="iconPosition"!==e,o=i?this.options.iconPosition:n;e="top"===o||"bottom"===o;this.icon?i&&this._removeClass(this.icon,null,this.options.icon):(this.icon=t("<span>"),this._addClass(this.icon,"ui-button-icon","ui-icon"),this.options.showLabel||this._addClass("ui-button-icon-only")),i&&this._addClass(this.icon,null,n),this._attachIcon(o),e?(this._addClass(this.icon,null,"ui-widget-icon-block"),this.iconSpace&&this.iconSpace.remove()):(this.iconSpace||(this.iconSpace=t("<span> </span>"),this._addClass(this.iconSpace,"ui-button-icon-space")),this._removeClass(this.icon,null,"ui-wiget-icon-block"),this._attachIconSpace(o))},_destroy:function(){this.element.removeAttr("role"),this.icon&&this.icon.remove(),this.iconSpace&&this.iconSpace.remove(),this.hasTitle||this.element.removeAttr("title")},_attachIconSpace:function(t){this.icon[/^(?:end|bottom)/.test(t)?"before":"after"](this.iconSpace)},_attachIcon:function(t){this.element[/^(?:end|bottom)/.test(t)?"append":"prepend"](this.icon)},_setOptions:function(t){var e=(void 0===t.showLabel?this.options:t).showLabel,n=(void 0===t.icon?this.options:t).icon;e||n||(t.showLabel=!0),this._super(t)},_setOption:function(t,e){"icon"===t&&(e?this._updateIcon(t,e):this.icon&&(this.icon.remove(),this.iconSpace&&this.iconSpace.remove())),"iconPosition"===t&&this._updateIcon(t,e),"showLabel"===t&&(this._toggleClass("ui-button-icon-only",null,!e),this._updateTooltip()),"label"===t&&(this.isInput?this.element.val(e):(this.element.html(e),this.icon&&(this._attachIcon(this.options.iconPosition),this._attachIconSpace(this.options.iconPosition)))),this._super(t,e),"disabled"===t&&(this._toggleClass(null,"ui-state-disabled",e),(this.element[0].disabled=e)&&this.element.blur())},refresh:function(){var t=this.element.is("input, button")?this.element[0].disabled:this.element.hasClass("ui-button-disabled");t!==this.options.disabled&&this._setOptions({disabled:t}),this._updateTooltip()}}),!1!==t.uiBackCompat&&(t.widget("ui.button",t.ui.button,{options:{text:!0,icons:{primary:null,secondary:null}},_create:function(){this.options.showLabel&&!this.options.text&&(this.options.showLabel=this.options.text),!this.options.showLabel&&this.options.text&&(this.options.text=this.options.showLabel),this.options.icon||!this.options.icons.primary&&!this.options.icons.secondary?this.options.icon&&(this.options.icons.primary=this.options.icon):this.options.icons.primary?this.options.icon=this.options.icons.primary:(this.options.icon=this.options.icons.secondary,this.options.iconPosition="end"),this._super()},_setOption:function(t,e){"text"!==t?("showLabel"===t&&(this.options.text=e),"icon"===t&&(this.options.icons.primary=e),"icons"===t&&(e.primary?(this._super("icon",e.primary),this._super("iconPosition","beginning")):e.secondary&&(this._super("icon",e.secondary),this._super("iconPosition","end"))),this._superApply(arguments)):this._super("showLabel",e)}}),t.fn.button=(v=t.fn.button,function(){return!this.length||this.length&&"INPUT"!==this[0].tagName||this.length&&"INPUT"===this[0].tagName&&"checkbox"!==this.attr("type")&&"radio"!==this.attr("type")?v.apply(this,arguments):(t.ui.checkboxradio||t.error("Checkboxradio widget missing"),0===arguments.length?this.checkboxradio({icon:!1}):this.checkboxradio.apply(this,arguments))}),t.fn.buttonset=function(){return t.ui.controlgroup||t.error("Controlgroup widget missing"),"option"===arguments[0]&&"items"===arguments[1]&&arguments[2]?this.controlgroup.apply(this,[arguments[0],"items.button",arguments[2]]):"option"===arguments[0]&&"items"===arguments[1]?this.controlgroup.apply(this,[arguments[0],"items.button"]):("object"==typeof arguments[0]&&arguments[0].items&&(arguments[0].items={button:arguments[0].items}),this.controlgroup.apply(this,arguments))}),t.ui.button,t.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase());var _=!1;t(document).on("mouseup",function(){_=!1}),t.widget("ui.mouse",{version:"1.12.1",options:{cancel:"input, textarea, button, select, option",distance:1,delay:0},_mouseInit:function(){var e=this;this.element.on("mousedown."+this.widgetName,function(t){return e._mouseDown(t)}).on("click."+this.widgetName,function(n){if(!0===t.data(n.target,e.widgetName+".preventClickEvent"))return t.removeData(n.target,e.widgetName+".preventClickEvent"),n.stopImmediatePropagation(),!1}),this.started=!1},_mouseDestroy:function(){this.element.off("."+this.widgetName),this._mouseMoveDelegate&&this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(e){if(!_){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(e),this._mouseDownEvent=e;var n=this,i=1===e.which,o=!("string"!=typeof this.options.cancel||!e.target.nodeName)&&t(e.target).closest(this.options.cancel).length;return!(i&&!o&&this._mouseCapture(e))||(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){n.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=!1!==this._mouseStart(e),!this._mouseStarted)?(e.preventDefault(),!0):(!0===t.data(e.target,this.widgetName+".preventClickEvent")&&t.removeData(e.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(t){return n._mouseMove(t)},this._mouseUpDelegate=function(t){return n._mouseUp(t)},this.document.on("mousemove."+this.widgetName,this._mouseMoveDelegate).on("mouseup."+this.widgetName,this._mouseUpDelegate),e.preventDefault(),_=!0))}},_mouseMove:function(e){if(this._mouseMoved){if(t.ui.ie&&(!document.documentMode||document.documentMode<9)&&!e.button)return this._mouseUp(e);if(!e.which)if(e.originalEvent.altKey||e.originalEvent.ctrlKey||e.originalEvent.metaKey||e.originalEvent.shiftKey)this.ignoreMissingWhich=!0;else if(!this.ignoreMissingWhich)return this._mouseUp(e)}return(e.which||e.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(e),e.preventDefault()):(this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,e),this._mouseStarted?this._mouseDrag(e):this._mouseUp(e)),!this._mouseStarted)},_mouseUp:function(e){this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,e.target===this._mouseDownEvent.target&&t.data(e.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(e)),this._mouseDelayTimer&&(clearTimeout(this._mouseDelayTimer),delete this._mouseDelayTimer),this.ignoreMissingWhich=!1,_=!1,e.preventDefault()},_mouseDistanceMet:function(t){return Math.max(Math.abs(this._mouseDownEvent.pageX-t.pageX),Math.abs(this._mouseDownEvent.pageY-t.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}}),t.widget("ui.slider",t.ui.mouse,{version:"1.12.1",widgetEventPrefix:"slide",options:{animate:!1,classes:{"ui-slider":"ui-corner-all","ui-slider-handle":"ui-corner-all","ui-slider-range":"ui-corner-all ui-widget-header"},distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},numPages:5,_create:function(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this._calculateNewMax(),this._addClass("ui-slider ui-slider-"+this.orientation,"ui-widget ui-widget-content"),this._refresh(),this._animateOff=!1},_refresh:function(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue()},_createHandles:function(){var e,n=this.options,i=this.element.find(".ui-slider-handle"),o=[],r=n.values&&n.values.length||1;for(i.length>r&&(i.slice(r).remove(),i=i.slice(0,r)),e=i.length;e<r;e++)o.push("<span tabindex='0'></span>");this.handles=i.add(t(o.join("")).appendTo(this.element)),this._addClass(this.handles,"ui-slider-handle","ui-state-default"),this.handle=this.handles.eq(0),this.handles.each(function(e){t(this).data("ui-slider-handle-index",e).attr("tabIndex",0)})},_createRange:function(){var e=this.options;e.range?(!0===e.range&&(e.values?e.values.length&&2!==e.values.length?e.values=[e.values[0],e.values[0]]:t.isArray(e.values)&&(e.values=e.values.slice(0)):e.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?(this._removeClass(this.range,"ui-slider-range-min ui-slider-range-max"),this.range.css({left:"",bottom:""})):(this.range=t("<div>").appendTo(this.element),this._addClass(this.range,"ui-slider-range")),"min"!==e.range&&"max"!==e.range||this._addClass(this.range,"ui-slider-range-"+e.range)):(this.range&&this.range.remove(),this.range=null)},_setupEvents:function(){this._off(this.handles),this._on(this.handles,this._handleEvents),this._hoverable(this.handles),this._focusable(this.handles)},_destroy:function(){this.handles.remove(),this.range&&this.range.remove(),this._mouseDestroy()},_mouseCapture:function(e){var n,i,o,r,a,s,l=this,c=this.options;return!c.disabled&&(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),s={x:e.pageX,y:e.pageY},n=this._normValueFromMouse(s),i=this._valueMax()-this._valueMin()+1,this.handles.each(function(e){var a=Math.abs(n-l.values(e));(a<i||i===a&&(e===l._lastChangedValue||l.values(e)===c.min))&&(i=a,o=t(this),r=e)}),!1!==this._start(e,r)&&(this._mouseSliding=!0,this._handleIndex=r,this._addClass(o,null,"ui-state-active"),o.trigger("focus"),a=o.offset(),s=!t(e.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=s?{left:0,top:0}:{left:e.pageX-a.left-o.width()/2,top:e.pageY-a.top-o.height()/2-(parseInt(o.css("borderTopWidth"),10)||0)-(parseInt(o.css("borderBottomWidth"),10)||0)+(parseInt(o.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(e,r,n),this._animateOff=!0))},_mouseStart:function(){return!0},_mouseDrag:function(t){var e={x:t.pageX,y:t.pageY};e=this._normValueFromMouse(e);return this._slide(t,this._handleIndex,e),!1},_mouseStop:function(t){return this._removeClass(this.handles,null,"ui-state-active"),this._mouseSliding=!1,this._stop(t,this._handleIndex),this._change(t,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(t){var e;return 1<(t=(t="horizontal"===this.orientation?(e=this.elementSize.width,t.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(e=this.elementSize.height,t.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)))/e)&&(t=1),t<0&&(t=0),"vertical"===this.orientation&&(t=1-t),e=this._valueMax()-this._valueMin(),e=this._valueMin()+t*e,this._trimAlignValue(e)},_uiHash:function(t,e,n){var i={handle:this.handles[t],handleIndex:t,value:void 0!==e?e:this.value()};return this._hasMultipleValues()&&(i.value=void 0!==e?e:this.values(t),i.values=n||this.values()),i},_hasMultipleValues:function(){return this.options.values&&this.options.values.length},_start:function(t,e){return this._trigger("start",t,this._uiHash(e))},_slide:function(t,e,n){var i,o=this.value(),r=this.values();this._hasMultipleValues()&&(i=this.values(e?0:1),o=this.values(e),2===this.options.values.length&&!0===this.options.range&&(n=0===e?Math.min(i,n):Math.max(i,n)),r[e]=n),n!==o&&!1!==this._trigger("slide",t,this._uiHash(e,n,r))&&(this._hasMultipleValues()?this.values(e,n):this.value(n))},_stop:function(t,e){this._trigger("stop",t,this._uiHash(e))},_change:function(t,e){this._keySliding||this._mouseSliding||(this._lastChangedValue=e,this._trigger("change",t,this._uiHash(e)))},value:function(t){return arguments.length?(this.options.value=this._trimAlignValue(t),this._refreshValue(),void this._change(null,0)):this._value()},values:function(e,n){var i,o,r;if(1<arguments.length)return this.options.values[e]=this._trimAlignValue(n),this._refreshValue(),void this._change(null,e);if(!arguments.length)return this._values();if(!t.isArray(e))return this._hasMultipleValues()?this._values(e):this.value();for(i=this.options.values,o=e,r=0;r<i.length;r+=1)i[r]=this._trimAlignValue(o[r]),this._change(null,r);this._refreshValue()},_setOption:function(e,n){var i,o=0;switch("range"===e&&!0===this.options.range&&("min"===n?(this.options.value=this._values(0),this.options.values=null):"max"===n&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),t.isArray(this.options.values)&&(o=this.options.values.length),this._super(e,n),e){case"orientation":this._detectOrientation(),this._removeClass("ui-slider-horizontal ui-slider-vertical")._addClass("ui-slider-"+this.orientation),this._refreshValue(),this.options.range&&this._refreshRange(n),this.handles.css("horizontal"===n?"bottom":"left","");break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),i=o-1;0<=i;i--)this._change(null,i);this._animateOff=!1;break;case"step":case"min":case"max":this._animateOff=!0,this._calculateNewMax(),this._refreshValue(),this._animateOff=!1;break;case"range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_setOptionDisabled:function(t){this._super(t),this._toggleClass(null,"ui-state-disabled",!!t)},_value:function(){var t=this.options.value;return this._trimAlignValue(t)},_values:function(t){var e,n,i;if(arguments.length)return e=this.options.values[t],this._trimAlignValue(e);if(this._hasMultipleValues()){for(n=this.options.values.slice(),i=0;i<n.length;i+=1)n[i]=this._trimAlignValue(n[i]);return n}return[]},_trimAlignValue:function(t){if(t<=this._valueMin())return this._valueMin();if(t>=this._valueMax())return this._valueMax();var e=0<this.options.step?this.options.step:1,n=(t-this._valueMin())%e;t-=n;return 2*Math.abs(n)>=e&&(t+=0<n?e:-e),parseFloat(t.toFixed(5))},_calculateNewMax:function(){var t=this.options.max,e=this._valueMin(),n=this.options.step;(t=Math.round((t-e)/n)*n+e)>this.options.max&&(t-=n),this.max=parseFloat(t.toFixed(this._precision()))},_precision:function(){var t=this._precisionOf(this.options.step);return null!==this.options.min&&(t=Math.max(t,this._precisionOf(this.options.min))),t},_precisionOf:function(t){var e=t.toString();return-1===(t=e.indexOf("."))?0:e.length-t-1},_valueMin:function(){return this.options.min},_valueMax:function(){return this.max},_refreshRange:function(t){"vertical"===t&&this.range.css({width:"",left:""}),"horizontal"===t&&this.range.css({height:"",bottom:""})},_refreshValue:function(){var e,n,i,o,r,a=this.options.range,s=this.options,l=this,c=!this._animateOff&&s.animate,u={};this._hasMultipleValues()?this.handles.each(function(i){n=(l.values(i)-l._valueMin())/(l._valueMax()-l._valueMin())*100,u["horizontal"===l.orientation?"left":"bottom"]=n+"%",t(this).stop(1,1)[c?"animate":"css"](u,s.animate),!0===l.options.range&&("horizontal"===l.orientation?(0===i&&l.range.stop(1,1)[c?"animate":"css"]({left:n+"%"},s.animate),1===i&&l.range[c?"animate":"css"]({width:n-e+"%"},{queue:!1,duration:s.animate})):(0===i&&l.range.stop(1,1)[c?"animate":"css"]({bottom:n+"%"},s.animate),1===i&&l.range[c?"animate":"css"]({height:n-e+"%"},{queue:!1,duration:s.animate}))),e=n}):(i=this.value(),o=this._valueMin(),r=this._valueMax(),n=r!==o?(i-o)/(r-o)*100:0,u["horizontal"===this.orientation?"left":"bottom"]=n+"%",this.handle.stop(1,1)[c?"animate":"css"](u,s.animate),"min"===a&&"horizontal"===this.orientation&&this.range.stop(1,1)[c?"animate":"css"]({width:n+"%"},s.animate),"max"===a&&"horizontal"===this.orientation&&this.range.stop(1,1)[c?"animate":"css"]({width:100-n+"%"},s.animate),"min"===a&&"vertical"===this.orientation&&this.range.stop(1,1)[c?"animate":"css"]({height:n+"%"},s.animate),"max"===a&&"vertical"===this.orientation&&this.range.stop(1,1)[c?"animate":"css"]({height:100-n+"%"},s.animate))},_handleEvents:{keydown:function(e){var n,i,o,r=t(e.target).data("ui-slider-handle-index");switch(e.keyCode){case t.ui.keyCode.HOME:case t.ui.keyCode.END:case t.ui.keyCode.PAGE_UP:case t.ui.keyCode.PAGE_DOWN:case t.ui.keyCode.UP:case t.ui.keyCode.RIGHT:case t.ui.keyCode.DOWN:case t.ui.keyCode.LEFT:if(e.preventDefault(),!this._keySliding&&(this._keySliding=!0,this._addClass(t(e.target),null,"ui-state-active"),!1===this._start(e,r)))return}switch(o=this.options.step,n=i=this._hasMultipleValues()?this.values(r):this.value(),e.keyCode){case t.ui.keyCode.HOME:i=this._valueMin();break;case t.ui.keyCode.END:i=this._valueMax();break;case t.ui.keyCode.PAGE_UP:i=this._trimAlignValue(n+(this._valueMax()-this._valueMin())/this.numPages);break;case t.ui.keyCode.PAGE_DOWN:i=this._trimAlignValue(n-(this._valueMax()-this._valueMin())/this.numPages);break;case t.ui.keyCode.UP:case t.ui.keyCode.RIGHT:if(n===this._valueMax())return;i=this._trimAlignValue(n+o);break;case t.ui.keyCode.DOWN:case t.ui.keyCode.LEFT:if(n===this._valueMin())return;i=this._trimAlignValue(n-o)}this._slide(e,r,i)},keyup:function(e){var n=t(e.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(e,n),this._change(e,n),this._removeClass(t(e.target),null,"ui-state-active"))}}}),t.widget("ui.tooltip",{version:"1.12.1",options:{classes:{"ui-tooltip":"ui-corner-all ui-widget-shadow"},content:function(){var e=t(this).attr("title")||"";return t("<a>").text(e).html()},hide:!0,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:!0,track:!1,close:null,open:null},_addDescribedBy:function(e,n){var i=(e.attr("aria-describedby")||"").split(/\s+/);i.push(n),e.data("ui-tooltip-id",n).attr("aria-describedby",t.trim(i.join(" ")))},_removeDescribedBy:function(e){var n=e.data("ui-tooltip-id"),i=(e.attr("aria-describedby")||"").split(/\s+/);-1!==(n=t.inArray(n,i))&&i.splice(n,1),e.removeData("ui-tooltip-id"),(i=t.trim(i.join(" ")))?e.attr("aria-describedby",i):e.removeAttr("aria-describedby")},_create:function(){this._on({mouseover:"open",focusin:"open"}),this.tooltips={},this.parents={},this.liveRegion=t("<div>").attr({role:"log","aria-live":"assertive","aria-relevant":"additions"}).appendTo(this.document[0].body),this._addClass(this.liveRegion,null,"ui-helper-hidden-accessible"),this.disabledTitles=t([])},_setOption:function(e,n){var i=this;this._super(e,n),"content"===e&&t.each(this.tooltips,function(t,e){i._updateContent(e.element)})},_setOptionDisabled:function(t){this[t?"_disable":"_enable"]()},_disable:function(){var e=this;t.each(this.tooltips,function(n,i){var o=t.Event("blur");o.target=o.currentTarget=i.element[0],e.close(o,!0)}),this.disabledTitles=this.disabledTitles.add(this.element.find(this.options.items).addBack().filter(function(){var e=t(this);if(e.is("[title]"))return e.data("ui-tooltip-title",e.attr("title")).removeAttr("title")}))},_enable:function(){this.disabledTitles.each(function(){var e=t(this);e.data("ui-tooltip-title")&&e.attr("title",e.data("ui-tooltip-title"))}),this.disabledTitles=t([])},open:function(e){var n=this,i=t(e?e.target:this.element).closest(this.options.items);i.length&&!i.data("ui-tooltip-id")&&(i.attr("title")&&i.data("ui-tooltip-title",i.attr("title")),i.data("ui-tooltip-open",!0),e&&"mouseover"===e.type&&i.parents().each(function(){var e,i=t(this);i.data("ui-tooltip-open")&&((e=t.Event("blur")).target=e.currentTarget=this,n.close(e,!0)),i.attr("title")&&(i.uniqueId(),n.parents[this.id]={element:this,title:i.attr("title")},i.attr("title",""))}),this._registerCloseHandlers(e,i),this._updateContent(i,e))},_updateContent:function(t,e){var n=this.options.content,i=this,o=e?e.type:null;if("string"==typeof n||n.nodeType||n.jquery)return this._open(e,t,n);(n=n.call(t[0],function(n){i._delay(function(){t.data("ui-tooltip-open")&&(e&&(e.type=o),this._open(e,t,n))})}))&&this._open(e,t,n)},_open:function(e,n,i){var o,r,a,s=t.extend({},this.options.position);function l(t){s.of=t,r.is(":hidden")||r.position(s)}i&&((o=this._find(n))?o.tooltip.find(".ui-tooltip-content").html(i):(n.is("[title]")&&(e&&"mouseover"===e.type?n.attr("title",""):n.removeAttr("title")),o=this._tooltip(n),r=o.tooltip,this._addDescribedBy(n,r.attr("id")),r.find(".ui-tooltip-content").html(i),this.liveRegion.children().hide(),(i=t("<div>").html(r.find(".ui-tooltip-content").html())).removeAttr("name").find("[name]").removeAttr("name"),i.removeAttr("id").find("[id]").removeAttr("id"),i.appendTo(this.liveRegion),this.options.track&&e&&/^mouse/.test(e.type)?(this._on(this.document,{mousemove:l}),l(e)):r.position(t.extend({of:n},this.options.position)),r.hide(),this._show(r,this.options.show),this.options.track&&this.options.show&&this.options.show.delay&&(a=this.delayedShow=setInterval(function(){r.is(":visible")&&(l(s.of),clearInterval(a))},t.fx.interval)),this._trigger("open",e,{tooltip:r})))},_registerCloseHandlers:function(e,n){var i={keyup:function(e){e.keyCode===t.ui.keyCode.ESCAPE&&((e=t.Event(e)).currentTarget=n[0],this.close(e,!0))}};n[0]!==this.element[0]&&(i.remove=function(){this._removeTooltip(this._find(n).tooltip)}),e&&"mouseover"!==e.type||(i.mouseleave="close"),e&&"focusin"!==e.type||(i.focusout="close"),this._on(!0,n,i)},close:function(e){var n,i=this,o=t(e?e.currentTarget:this.element),r=this._find(o);r?(n=r.tooltip,r.closing||(clearInterval(this.delayedShow),o.data("ui-tooltip-title")&&!o.attr("title")&&o.attr("title",o.data("ui-tooltip-title")),this._removeDescribedBy(o),r.hiding=!0,n.stop(!0),this._hide(n,this.options.hide,function(){i._removeTooltip(t(this))}),o.removeData("ui-tooltip-open"),this._off(o,"mouseleave focusout keyup"),o[0]!==this.element[0]&&this._off(o,"remove"),this._off(this.document,"mousemove"),e&&"mouseleave"===e.type&&t.each(this.parents,function(e,n){t(n.element).attr("title",n.title),delete i.parents[e]}),r.closing=!0,this._trigger("close",e,{tooltip:n}),r.hiding||(r.closing=!1))):o.removeData("ui-tooltip-open")},_tooltip:function(e){var n=t("<div>").attr("role","tooltip"),i=t("<div>").appendTo(n),o=n.uniqueId().attr("id");return this._addClass(i,"ui-tooltip-content"),this._addClass(n,"ui-tooltip","ui-widget ui-widget-content"),n.appendTo(this._appendTo(e)),this.tooltips[o]={element:e,tooltip:n}},_find:function(t){return(t=t.data("ui-tooltip-id"))?this.tooltips[t]:null},_removeTooltip:function(t){t.remove(),delete this.tooltips[t.attr("id")]},_appendTo:function(t){return(t=t.closest(".ui-front, dialog")).length||(t=this.document[0].body),t},_destroy:function(){var e=this;t.each(this.tooltips,function(n,i){var o=t.Event("blur");i=i.element;o.target=o.currentTarget=i[0],e.close(o,!0),t("#"+n).remove(),i.data("ui-tooltip-title")&&(i.attr("title")||i.attr("title",i.data("ui-tooltip-title")),i.removeData("ui-tooltip-title"))}),this.liveRegion.remove()}}),!1!==t.uiBackCompat&&t.widget("ui.tooltip",t.ui.tooltip,{options:{tooltipClass:null},_tooltip:function(){var t=this._superApply(arguments);return this.options.tooltipClass&&t.tooltip.addClass(this.options.tooltipClass),t}}),t.ui.tooltip}),function(t,e){"object"===("undefined"==typeof exports?"undefined":_typeof(exports))&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.LazyLoad=e()}(this,function(){"use strict";var t="undefined"!=typeof window,e=t&&!("onscroll"in window)||"undefined"!=typeof navigator&&/(gle|ing|ro)bot|crawl|spider/i.test(navigator.userAgent),n=t&&"IntersectionObserver"in window,i=t&&"classList"in document.createElement("p"),o={elements_selector:"img",container:e||t?document:null,threshold:300,thresholds:null,data_src:"src",data_srcset:"srcset",data_sizes:"sizes",data_bg:"bg",class_loading:"loading",class_loaded:"loaded",class_error:"error",load_delay:0,auto_unobserve:!0,callback_enter:null,callback_exit:null,callback_reveal:null,callback_loaded:null,callback_error:null,callback_finish:null,use_native:!1},r=function(t,e){var n,i=new t(e);try{n=new CustomEvent("LazyLoad::Initialized",{detail:{instance:i}})}catch(t){(n=document.createEvent("CustomEvent")).initCustomEvent("LazyLoad::Initialized",!1,!1,{instance:i})}window.dispatchEvent(n)},a=function(t,e){return t.getAttribute("data-"+e)},s=function(t,e,n){var i="data-"+e;null!==n?t.setAttribute(i,n):t.removeAttribute(i)},l=function(t){return"true"===a(t,"was-processed")},c=function(t,e){return s(t,"ll-timeout",e)},u=function(t){return a(t,"ll-timeout")},h=function(t,e){t&&t(e)},d=function(t,e){t._loadingCount+=e,0===t._elements.length&&0===t._loadingCount&&h(t._settings.callback_finish)},p=function(t){for(var e,n=[],i=0;e=t.children[i];i+=1)"SOURCE"===e.tagName&&n.push(e);return n},f=function(t,e,n){n&&t.setAttribute(e,n)},m=function(t,e){f(t,"sizes",a(t,e.data_sizes)),f(t,"srcset",a(t,e.data_srcset)),f(t,"src",a(t,e.data_src))},g={IMG:function(t,e){var n=t.parentNode;n&&"PICTURE"===n.tagName&&p(n).forEach(function(t){m(t,e)}),m(t,e)},IFRAME:function(t,e){f(t,"src",a(t,e.data_src))},VIDEO:function(t,e){p(t).forEach(function(t){f(t,"src",a(t,e.data_src))}),f(t,"src",a(t,e.data_src)),t.load()}},v=function(t,e){i?t.classList.add(e):t.className+=(t.className?" ":"")+e},y=function(t,e,n){t.addEventListener(e,n)},_=function(t,e,n){t.removeEventListener(e,n)},b=function(t,e,n){_(t,"load",e),_(t,"loadeddata",e),_(t,"error",n)},x=function(t,e,n){var o=n._settings,r=e?o.class_loaded:o.class_error,a=e?o.callback_loaded:o.callback_error,s=t.target;!function(t,e){i?t.classList.remove(e):t.className=t.className.replace(new RegExp("(^|\\s+)"+e+"(\\s+|$)")," ").replace(/^\s+/,"").replace(/\s+$/,"")}(s,o.class_loading),v(s,r),h(a,s),d(n,-1)},$=["IMG","IFRAME","VIDEO"],w=function(t,e){var n=e._observer;k(t,e),n&&e._settings.auto_unobserve&&n.unobserve(t)},C=function(t){var e=u(t);e&&(clearTimeout(e),c(t,null))},k=function(t,e,n){var i=e._settings;!n&&l(t)||($.indexOf(t.tagName)>-1&&(function(t,e){var n=function n(o){x(o,!0,e),b(t,n,i)},i=function i(o){x(o,!1,e),b(t,n,i)};!function(t,e,n){y(t,"load",e),y(t,"loadeddata",e),y(t,"error",n)}(t,n,i)}(t,e),v(t,i.class_loading)),function(t,e){var n,i,o=e._settings,r=t.tagName,s=g[r];if(s)return s(t,o),d(e,1),void(e._elements=(n=e._elements,i=t,n.filter(function(t){return t!==i})));!function(t,e){var n=a(t,e.data_src),i=a(t,e.data_bg);n&&(t.style.backgroundImage='url("'.concat(n,'")')),i&&(t.style.backgroundImage=i)}(t,o)}(t,e),function(t){s(t,"was-processed","true")}(t),h(i.callback_reveal,t),h(i.callback_set,t))},M=function(t){return!!n&&(t._observer=new IntersectionObserver(function(e){e.forEach(function(e){return function(t){return t.isIntersecting||t.intersectionRatio>0}(e)?function(t,e){var n=e._settings;h(n.callback_enter,t),n.load_delay?function(t,e){var n=e._settings.load_delay,i=u(t);i||(i=setTimeout(function(){w(t,e),C(t)},n),c(t,i))}(t,e):w(t,e)}(e.target,t):function(t,e){var n=e._settings;h(n.callback_exit,t),n.load_delay&&C(t)}(e.target,t)})},{root:(e=t._settings).container===document?null:e.container,rootMargin:e.thresholds||e.threshold+"px"}),!0);var e},S=["IMG","IFRAME"],T=function(t,e){return function(t){return t.filter(function(t){return!l(t)})}((n=t||function(t){return t.container.querySelectorAll(t.elements_selector)}(e),Array.prototype.slice.call(n)));var n},A=function(t,e){this._settings=function(t){return _extends({},o,t)}(t),this._loadingCount=0,M(this),this.update(e)};return A.prototype={update:function(t){var n,i=this,o=this._settings;this._elements=T(t,o),!e&&this._observer?(o.use_native&&"loading"in HTMLImageElement.prototype&&((n=this)._elements.forEach(function(t){-1!==S.indexOf(t.tagName)&&(t.setAttribute("loading","lazy"),k(t,n))}),this._elements=T(t,o)),this._elements.forEach(function(t){i._observer.observe(t)})):this.loadAll()},destroy:function(){var t=this;this._observer&&(this._elements.forEach(function(e){t._observer.unobserve(e)}),this._observer=null),this._elements=null,this._settings=null},load:function(t,e){k(t,this,e)},loadAll:function(){var t=this;this._elements.forEach(function(e){w(e,t)})}},t&&function(t,e){if(e)if(e.length)for(var n,i=0;n=e[i];i+=1)r(t,n);else r(t,e)}(A,window.lazyLoadOptions),A});var countryLocationData,dev_usercurrentloc="";async function getAPIData(t){let e={};return await fetch(t).then(function(t){if(t.ok)return t.json();throw new Error("Request failed.")}).then(function(t){e=t}).catch(function(e){console.log(t),console.log(e)}),e}async function getLmsCountryLocation(){let t=helperJS.getSessionItem("countrylocation");t||(t=await getAPIData("/getcountrylocation"),helperJS.setSessionItem("countrylocation",t));let e=helperJS.getCookie("_selcity");countryLocationData=t;var n=[];$.each(t,function(t,e){-1==n.indexOf(e.code)&&($(".ddlCountryCode").append('<option value="'+e.code+'">+'+e.code+"</option>"),n.push(e.code))}),$(".ddlLocation").not(".property-m").append('<option value="" readonly>Select City</option>'),countryLocationData[0].locations.length>0&&(countryLocationData[0].locations.forEach(function(t){$(".ddlLocation").append('<option value="'+t.name+'">'+t.name+"</option>")}),e&&parseInt(e.id)>0&&(e.name=e.name.charAt(0).toUpperCase()+e.name.slice(1),$(".ddlLocation,.dev_inputelement").val(e.name),$("#ClientCallForm_location").val(e.name),$("#ClientCallForm_location_city").val(e.name))),e&&36==parseInt(e.id)&&$(".ddlCountryCode").val("971").change()}async function populateMobileCodesField(){let t=await getAPIData("/getcountrylocation");helperJS.getCookie("_selcity");countryLocationData=t;var e=[];$.each(t,function(t,n){-1==e.indexOf(n.code)&&($(".ddlCountryCode").append('<option value="'+n.code+'">+'+n.code+"</option>"),e.push(n.code))})}function onChangeLmsCountryCode(t,e,n){let i=$(t).find("option:selected").val();if(void 0!==countryLocationData&&countryLocationData){$("#"+n+" #"+e).empty();let t=countryLocationData.filter(t=>t.code==i)[0];if(t.locations.length>0){t.locations.forEach(function(t){$("#"+n+" #"+e).append('<option value="'+t.name+'">'+t.name+"</option>")});let i=helperJS.getCookie("_selcity");i&&parseInt(i.id)>0&&(i.name=i.name.charAt(0).toUpperCase()+i.name.slice(1)),$("#"+n+" #"+e).val(i.name)}else $("#"+n+" #"+e).append('<option value="'+t.name.split("(",1)[0]+'">'+t.name.split("(",1)[0]+"</option>")}}var imageUnitGalleryUI={init:function(){$("#jsGallery").jsGallery({showAlbums:!0,connectAlbums:!0}).jsGallery("show","Unit Image",0),$(".jsg-name").text("Unit Image"),$(".jsg-nav > .jsg-prev,.jsg-nav > .jsg-next,.jsg-albums > span.jsg-album").off("click"),$(".jsg-nav > .jsg-prev,.jsg-nav > .jsg-next,.jsg-albums > span.jsg-album").on("click",function(){var t=$(".jsg-albums > span.jsg-album.active").attr("data-title"),e=parseInt($(".jsg-images > img").attr("data-image-index")),n=$("#jsGallery span[data-album-name = '"+t+"']").eq(e).attr("data-alt");$(".jsg-name").text(n)}),$(".jsg-thumbnails").off("click"),$(".jsg-thumbnails").on("click",function(){var t=$(".jsg-albums > span.jsg-album.active").attr("data-title"),e=parseInt($(".jsg-images > img").attr("data-image-index")),n=$("#jsGallery span[data-album-name = '"+t+"']").eq(e).attr("data-alt");$(".jsg-name").text(n)}),$(".jsg-thumbnails").length>0&&$(".jsg-thumbnails")[0].click()}};const copyToClipboard=t=>{var e=document.getElementById(t);e.select(),e.setSelectionRange(0,99999),document.execCommand("copy")};var googlePlacesAutocomplete={init:function(t){if("undefined"==typeof google&&"undefined"!=typeof googleMapKey)return $.getScript("https://maps.googleapis.com/maps/api/js?key="+googleMapKey+"&libraries=drawing,places,geometry",function(){googlePlacesAutocomplete.init(t)}),!1;var e,n={street_number:"short_name",route:"long_name",locality:"long_name",administrative_area_level_1:"short_name",country:"long_name",postal_code:"short_name"};function i(){for(var i=e.getPlace(),o=0;o<i.address_components.length;o++){var r=i.address_components[o].types[0];if(n[r]&&"locality"==r){var a=i.address_components[o][n[r]];"Gurugram"==a&&(a="Gurgaon"),"Bengaluru"==a&&(a="Bangalore"),document.getElementById(t+"_city").value=a}}}(e=new google.maps.places.Autocomplete(document.getElementById(t),{})).setFields(["address_component"]),e.addListener("place_changed",i)}};function getQueryStringValue(t){return unescape(window.location.search.replace(new RegExp("^(?:.*[&\\?]"+escape(t).replace(/[\.\+\*]/g,"\\$&")+"(?:\\=([^&]*))?)?.*$","i"),"$1"))}function setDataFromSharerCode(t){if(""!=getQueryStringValue("share")){var e="https://www.squareyards.com/micro/assets/SharerApi.php?share="+getQueryStringValue("share");$.ajax({headers:{Accept:"application/json; charset=utf-8"},async:!1,url:e,type:"GET",dataType:"json",success:function(e){if("200"==e.code){var n=e.data.SharerCode,i=e.data.SharerName,o=e.data.SharerEmail,r=e.data.SharerContactNo,a=e.data.SharerId,s=e.data.SharerType;$("#"+t).find("#SharerCode").val(n),$("#"+t).find("#SharerName").val(i),$("#"+t).find("#SharerEmail").val(o),$("#"+t).find("#SharerContactNo").val(r),$("#"+t).find("#SharerId").val(a),$("#"+t).find("#SharerType").val(s)}},error:function(t){}})}}$(document).ready(function(){$(document).on("input","input[type='tel']",function(t){-1==$(this).attr("name").indexOf("otp")&&(this.value=this.value.replace(/([^0-9])|(^[0]+)/g,""))}),$(document).on("keypress","input[type='tel']",function(t){let e=t.keyCode?t.keyCode:t.which?t.which:t.charCode;return!(48==e&&!$(this).val()&&-1==$(this).attr("name").indexOf("otp"))&&(e>=48&&e<=57||8==e||9==e||37==e||38==e||39==e||40==e||46==e)}),$(document).on("keyup","input[data-type='name']",function(t){let e=$(this).val().replace(/[^a-zA-Z ]/g,"").replace(/\s+/g," ");$(this).val(e)}),$("input[type='email']").each(function(){$(this)[0].oninvalid=function(){this.setCustomValidity("Please enter valid email address")},$(this)[0].oninput=function(){this.setCustomValidity("")}}),$(document).on("paste","input[type='tel']",function(t){t.preventDefault()})}),function(t,e,n,i){function o(e,n){this.settings=null,this.options=t.extend({},o.Defaults,n),this.$element=t(e),this._handlers={},this._plugins={},this._supress={},this._current=null,this._speed=null,this._coordinates=[],this._breakpoint=null,this._width=null,this._items=[],this._clones=[],this._mergers=[],this._widths=[],this._invalidated={},this._pipe=[],this._drag={time:null,target:null,pointer:null,stage:{start:null,current:null},direction:null},this._states={current:{},tags:{initializing:["busy"],animating:["busy"],dragging:["interacting"]}},t.each(["onResize","onThrottledResize"],t.proxy(function(e,n){this._handlers[n]=t.proxy(this[n],this)},this)),t.each(o.Plugins,t.proxy(function(t,e){this._plugins[t.charAt(0).toLowerCase()+t.slice(1)]=new e(this)},this)),t.each(o.Workers,t.proxy(function(e,n){this._pipe.push({filter:n.filter,run:t.proxy(n.run,this)})},this)),this.setup(),this.initialize()}o.Defaults={items:3,loop:!1,center:!1,rewind:!1,checkVisibility:!0,mouseDrag:!0,touchDrag:!0,pullDrag:!0,freeDrag:!1,margin:0,stagePadding:0,merge:!1,mergeFit:!0,autoWidth:!1,startPosition:0,rtl:!1,smartSpeed:250,fluidSpeed:!1,dragEndSpeed:!1,responsive:{},responsiveRefreshRate:200,responsiveBaseElement:e,fallbackEasing:"swing",slideTransition:"",info:!1,nestedItemSelector:!1,itemElement:"div",stageElement:"div",refreshClass:"owl-refresh",loadedClass:"owl-loaded",loadingClass:"owl-loading",rtlClass:"owl-rtl",responsiveClass:"owl-responsive",dragClass:"owl-drag",itemClass:"owl-item",stageClass:"owl-stage",stageOuterClass:"owl-stage-outer",grabClass:"owl-grab"},o.Width={Default:"default",Inner:"inner",Outer:"outer"},o.Type={Event:"event",State:"state"},o.Plugins={},o.Workers=[{filter:["width","settings"],run:function(){this._width=this.$element.width()}},{filter:["width","items","settings"],run:function(t){t.current=this._items&&this._items[this.relative(this._current)]}},{filter:["items","settings"],run:function(){this.$stage.children(".cloned").remove()}},{filter:["width","items","settings"],run:function(t){var e=this.settings.margin||"",n=!this.settings.autoWidth,i=this.settings.rtl,o={width:"auto","margin-left":i?e:"","margin-right":i?"":e};!n&&this.$stage.children().css(o),t.css=o}},{filter:["width","items","settings"],run:function(t){var e=(this.width()/this.settings.items).toFixed(3)-this.settings.margin,n=null,i=this._items.length,o=!this.settings.autoWidth,r=[];for(t.items={merge:!1,width:e};i--;)n=this._mergers[i],n=this.settings.mergeFit&&Math.min(n,this.settings.items)||n,t.items.merge=n>1||t.items.merge,r[i]=o?e*n:this._items[i].width();this._widths=r}},{filter:["items","settings"],run:function(){var e=[],n=this._items,i=this.settings,o=Math.max(2*i.items,4),r=2*Math.ceil(n.length/2),a=i.loop&&n.length?i.rewind?o:Math.max(o,r):0,s="",l="";for(a/=2;a>0;)e.push(this.normalize(e.length/2,!0)),s+=n[e[e.length-1]][0].outerHTML,e.push(this.normalize(n.length-1-(e.length-1)/2,!0)),l=n[e[e.length-1]][0].outerHTML+l,a-=1;this._clones=e,t(s).addClass("cloned").appendTo(this.$stage),t(l).addClass("cloned").prependTo(this.$stage)}},{filter:["width","items","settings"],run:function(){for(var t=this.settings.rtl?1:-1,e=this._clones.length+this._items.length,n=-1,i=0,o=0,r=[];++n<e;)i=r[n-1]||0,o=this._widths[this.relative(n)]+this.settings.margin,r.push(i+o*t);this._coordinates=r}},{filter:["width","items","settings"],run:function(){var t=this.settings.stagePadding,e=this._coordinates,n={width:Math.ceil(Math.abs(e[e.length-1]))+2*t,"padding-left":t||"","padding-right":t||""};this.$stage.css(n)}},{filter:["width","items","settings"],run:function(t){var e=this._coordinates.length,n=!this.settings.autoWidth,i=this.$stage.children();if(n&&t.items.merge)for(;e--;)t.css.width=this._widths[this.relative(e)],i.eq(e).css(t.css);else n&&(t.css.width=t.items.width,i.css(t.css))}},{filter:["items"],run:function(){this._coordinates.length<1&&this.$stage.removeAttr("style")}},{filter:["width","items","settings"],run:function(t){t.current=t.current?this.$stage.children().index(t.current):0,t.current=Math.max(this.minimum(),Math.min(this.maximum(),t.current)),this.reset(t.current)}},{filter:["position"],run:function(){this.animate(this.coordinates(this._current))}},{filter:["width","position","items","settings"],run:function(){var t,e,n,i,o=this.settings.rtl?1:-1,r=2*this.settings.stagePadding,a=this.coordinates(this.current())+r,s=a+this.width()*o,l=[];for(n=0,i=this._coordinates.length;n<i;n++)t=this._coordinates[n-1]||0,e=Math.abs(this._coordinates[n])+r*o,(this.op(t,"<=",a)&&this.op(t,">",s)||this.op(e,"<",a)&&this.op(e,">",s))&&l.push(n);this.$stage.children(".active").removeClass("active"),this.$stage.children(":eq("+l.join("), :eq(")+")").addClass("active"),this.$stage.children(".center").removeClass("center"),this.settings.center&&this.$stage.children().eq(this.current()).addClass("center")}}],o.prototype.initializeStage=function(){this.$stage=this.$element.find("."+this.settings.stageClass),this.$stage.length||(this.$element.addClass(this.options.loadingClass),this.$stage=t("<"+this.settings.stageElement+">",{class:this.settings.stageClass}).wrap(t("<div/>",{class:this.settings.stageOuterClass})),this.$element.append(this.$stage.parent()))},o.prototype.initializeItems=function(){var e=this.$element.find(".owl-item");if(e.length)return this._items=e.get().map(function(e){return t(e)}),this._mergers=this._items.map(function(){return 1}),void this.refresh();this.replace(this.$element.children().not(this.$stage.parent())),this.isVisible()?this.refresh():this.invalidate("width"),this.$element.removeClass(this.options.loadingClass).addClass(this.options.loadedClass)},o.prototype.initialize=function(){var t,e,n;(this.enter("initializing"),this.trigger("initialize"),this.$element.toggleClass(this.settings.rtlClass,this.settings.rtl),this.settings.autoWidth&&!this.is("pre-loading"))&&(t=this.$element.find("img"),e=this.settings.nestedItemSelector?"."+this.settings.nestedItemSelector:i,n=this.$element.children(e).width(),t.length&&n<=0&&this.preloadAutoWidthImages(t));this.initializeStage(),this.initializeItems(),this.registerEventHandlers(),this.leave("initializing"),this.trigger("initialized")},o.prototype.isVisible=function(){return!this.settings.checkVisibility||this.$element.is(":visible")},o.prototype.setup=function(){var e=this.viewport(),n=this.options.responsive,i=-1,o=null;n?(t.each(n,function(t){t<=e&&t>i&&(i=Number(t))}),"function"==typeof(o=t.extend({},this.options,n[i])).stagePadding&&(o.stagePadding=o.stagePadding()),delete o.responsive,o.responsiveClass&&this.$element.attr("class",this.$element.attr("class").replace(new RegExp("("+this.options.responsiveClass+"-)\\S+\\s","g"),"$1"+i))):o=t.extend({},this.options),this.trigger("change",{property:{name:"settings",value:o}}),this._breakpoint=i,this.settings=o,this.invalidate("settings"),this.trigger("changed",{property:{name:"settings",value:this.settings}})},o.prototype.optionsLogic=function(){this.settings.autoWidth&&(this.settings.stagePadding=!1,this.settings.merge=!1)},o.prototype.prepare=function(e){var n=this.trigger("prepare",{content:e});return n.data||(n.data=t("<"+this.settings.itemElement+"/>").addClass(this.options.itemClass).append(e)),this.trigger("prepared",{content:n.data}),n.data},o.prototype.update=function(){for(var e=0,n=this._pipe.length,i=t.proxy(function(t){return this[t]},this._invalidated),o={};e<n;)(this._invalidated.all||t.grep(this._pipe[e].filter,i).length>0)&&this._pipe[e].run(o),e++;this._invalidated={},!this.is("valid")&&this.enter("valid")},o.prototype.width=function(t){switch(t=t||o.Width.Default){case o.Width.Inner:case o.Width.Outer:return this._width;default:return this._width-2*this.settings.stagePadding+this.settings.margin}},o.prototype.refresh=function(){this.enter("refreshing"),this.trigger("refresh"),this.setup(),this.optionsLogic(),this.$element.addClass(this.options.refreshClass),this.update(),this.$element.removeClass(this.options.refreshClass),this.leave("refreshing"),this.trigger("refreshed")},o.prototype.onThrottledResize=function(){e.clearTimeout(this.resizeTimer),this.resizeTimer=e.setTimeout(this._handlers.onResize,this.settings.responsiveRefreshRate)},o.prototype.onResize=function(){return!!this._items.length&&this._width!==this.$element.width()&&!!this.isVisible()&&(this.enter("resizing"),this.trigger("resize").isDefaultPrevented()?(this.leave("resizing"),!1):(this.invalidate("width"),this.refresh(),this.leave("resizing"),void this.trigger("resized")))},o.prototype.registerEventHandlers=function(){t.support.transition&&this.$stage.on(t.support.transition.end+".owl.core",t.proxy(this.onTransitionEnd,this)),!1!==this.settings.responsive&&this.on(e,"resize",this._handlers.onThrottledResize),this.settings.mouseDrag&&(this.$element.addClass(this.options.dragClass),this.$stage.on("mousedown.owl.core",t.proxy(this.onDragStart,this)),this.$stage.on("dragstart.owl.core selectstart.owl.core",function(){return!1})),this.settings.touchDrag&&(this.$stage.on("touchstart.owl.core",t.proxy(this.onDragStart,this)),this.$stage.on("touchcancel.owl.core",t.proxy(this.onDragEnd,this)))},o.prototype.onDragStart=function(e){var i=null;3!==e.which&&(t.support.transform?i={x:(i=this.$stage.css("transform").replace(/.*\(|\)| /g,"").split(","))[16===i.length?12:4],y:i[16===i.length?13:5]}:(i=this.$stage.position(),i={x:this.settings.rtl?i.left+this.$stage.width()-this.width()+this.settings.margin:i.left,y:i.top}),this.is("animating")&&(t.support.transform?this.animate(i.x):this.$stage.stop(),this.invalidate("position")),this.$element.toggleClass(this.options.grabClass,"mousedown"===e.type),this.speed(0),this._drag.time=(new Date).getTime(),this._drag.target=t(e.target),this._drag.stage.start=i,this._drag.stage.current=i,this._drag.pointer=this.pointer(e),t(n).on("mouseup.owl.core touchend.owl.core",t.proxy(this.onDragEnd,this)),t(n).one("mousemove.owl.core touchmove.owl.core",t.proxy(function(e){var i=this.difference(this._drag.pointer,this.pointer(e));t(n).on("mousemove.owl.core touchmove.owl.core",t.proxy(this.onDragMove,this)),Math.abs(i.x)<Math.abs(i.y)&&this.is("valid")||(e.preventDefault(),this.enter("dragging"),this.trigger("drag"))},this)))},o.prototype.onDragMove=function(t){var e=null,n=null,i=null,o=this.difference(this._drag.pointer,this.pointer(t)),r=this.difference(this._drag.stage.start,o);this.is("dragging")&&(t.preventDefault(),this.settings.loop?(e=this.coordinates(this.minimum()),n=this.coordinates(this.maximum()+1)-e,r.x=((r.x-e)%n+n)%n+e):(e=this.settings.rtl?this.coordinates(this.maximum()):this.coordinates(this.minimum()),n=this.settings.rtl?this.coordinates(this.minimum()):this.coordinates(this.maximum()),i=this.settings.pullDrag?-1*o.x/5:0,r.x=Math.max(Math.min(r.x,e+i),n+i)),this._drag.stage.current=r,this.animate(r.x))},o.prototype.onDragEnd=function(e){var i=this.difference(this._drag.pointer,this.pointer(e)),o=this._drag.stage.current,r=i.x>0^this.settings.rtl?"left":"right";t(n).off(".owl.core"),this.$element.removeClass(this.options.grabClass),(0!==i.x&&this.is("dragging")||!this.is("valid"))&&(this.speed(this.settings.dragEndSpeed||this.settings.smartSpeed),this.current(this.closest(o.x,0!==i.x?r:this._drag.direction)),this.invalidate("position"),this.update(),this._drag.direction=r,(Math.abs(i.x)>3||(new Date).getTime()-this._drag.time>300)&&this._drag.target.one("click.owl.core",function(){return!1})),this.is("dragging")&&(this.leave("dragging"),this.trigger("dragged"))},o.prototype.closest=function(e,n){var o=-1,r=this.width(),a=this.coordinates();return this.settings.freeDrag||t.each(a,t.proxy(function(t,s){return"left"===n&&e>s-30&&e<s+30?o=t:"right"===n&&e>s-r-30&&e<s-r+30?o=t+1:this.op(e,"<",s)&&this.op(e,">",a[t+1]!==i?a[t+1]:s-r)&&(o="left"===n?t+1:t),-1===o},this)),this.settings.loop||(this.op(e,">",a[this.minimum()])?o=e=this.minimum():this.op(e,"<",a[this.maximum()])&&(o=e=this.maximum())),o},o.prototype.animate=function(e){var n=this.speed()>0;this.is("animating")&&this.onTransitionEnd(),n&&(this.enter("animating"),this.trigger("translate")),t.support.transform3d&&t.support.transition?this.$stage.css({transform:"translate3d("+e+"px,0px,0px)",transition:this.speed()/1e3+"s"+(this.settings.slideTransition?" "+this.settings.slideTransition:"")}):n?this.$stage.animate({left:e+"px"},this.speed(),this.settings.fallbackEasing,t.proxy(this.onTransitionEnd,this)):this.$stage.css({left:e+"px"})},o.prototype.is=function(t){return this._states.current[t]&&this._states.current[t]>0},o.prototype.current=function(t){if(t===i)return this._current;if(0===this._items.length)return i;if(t=this.normalize(t),this._current!==t){var e=this.trigger("change",{property:{name:"position",value:t}});e.data!==i&&(t=this.normalize(e.data)),this._current=t,this.invalidate("position"),this.trigger("changed",{property:{name:"position",value:this._current}})}return this._current},o.prototype.invalidate=function(e){return"string"===t.type(e)&&(this._invalidated[e]=!0,this.is("valid")&&this.leave("valid")),t.map(this._invalidated,function(t,e){return e})},o.prototype.reset=function(t){(t=this.normalize(t))!==i&&(this._speed=0,this._current=t,this.suppress(["translate","translated"]),this.animate(this.coordinates(t)),this.release(["translate","translated"]))},o.prototype.normalize=function(t,e){var n=this._items.length,o=e?0:this._clones.length;return!this.isNumeric(t)||n<1?t=i:(t<0||t>=n+o)&&(t=((t-o/2)%n+n)%n+o/2),t},o.prototype.relative=function(t){return t-=this._clones.length/2,this.normalize(t,!0)},o.prototype.maximum=function(t){var e,n,i,o=this.settings,r=this._coordinates.length;if(o.loop)r=this._clones.length/2+this._items.length-1;else if(o.autoWidth||o.merge){if(e=this._items.length)for(n=this._items[--e].width(),i=this.$element.width();e--&&!((n+=this._items[e].width()+this.settings.margin)>i););r=e+1}else r=o.center?this._items.length-1:this._items.length-o.items;return t&&(r-=this._clones.length/2),Math.max(r,0)},o.prototype.minimum=function(t){return t?0:this._clones.length/2},o.prototype.items=function(t){return t===i?this._items.slice():(t=this.normalize(t,!0),this._items[t])},o.prototype.mergers=function(t){return t===i?this._mergers.slice():(t=this.normalize(t,!0),this._mergers[t])},o.prototype.clones=function(e){var n=this._clones.length/2,o=n+this._items.length,r=function(t){return t%2==0?o+t/2:n-(t+1)/2};return e===i?t.map(this._clones,function(t,e){return r(e)}):t.map(this._clones,function(t,n){return t===e?r(n):null})},o.prototype.speed=function(t){return t!==i&&(this._speed=t),this._speed},o.prototype.coordinates=function(e){var n,o=1,r=e-1;return e===i?t.map(this._coordinates,t.proxy(function(t,e){return this.coordinates(e)},this)):(this.settings.center?(this.settings.rtl&&(o=-1,r=e+1),n=this._coordinates[e],n+=(this.width()-n+(this._coordinates[r]||0))/2*o):n=this._coordinates[r]||0,n=Math.ceil(n))},o.prototype.duration=function(t,e,n){return 0===n?0:Math.min(Math.max(Math.abs(e-t),1),6)*Math.abs(n||this.settings.smartSpeed)},o.prototype.to=function(t,e){var n=this.current(),i=null,o=t-this.relative(n),r=(o>0)-(o<0),a=this._items.length,s=this.minimum(),l=this.maximum();this.settings.loop?(!this.settings.rewind&&Math.abs(o)>a/2&&(o+=-1*r*a),(i=(((t=n+o)-s)%a+a)%a+s)!==t&&i-o<=l&&i-o>0&&(n=i-o,t=i,this.reset(n))):this.settings.rewind?t=(t%(l+=1)+l)%l:t=Math.max(s,Math.min(l,t)),this.speed(this.duration(n,t,e)),this.current(t),this.isVisible()&&this.update()},o.prototype.next=function(t){t=t||!1,this.to(this.relative(this.current())+1,t)},o.prototype.prev=function(t){t=t||!1,this.to(this.relative(this.current())-1,t)},o.prototype.onTransitionEnd=function(t){if(t!==i&&(t.stopPropagation(),(t.target||t.srcElement||t.originalTarget)!==this.$stage.get(0)))return!1;this.leave("animating"),this.trigger("translated")},o.prototype.viewport=function(){var i;return this.options.responsiveBaseElement!==e?i=t(this.options.responsiveBaseElement).width():e.innerWidth?i=e.innerWidth:n.documentElement&&n.documentElement.clientWidth?i=n.documentElement.clientWidth:console.warn("Can not detect viewport width."),i},o.prototype.replace=function(e){this.$stage.empty(),this._items=[],e&&(e=e instanceof jQuery?e:t(e)),this.settings.nestedItemSelector&&(e=e.find("."+this.settings.nestedItemSelector)),e.filter(function(){return 1===this.nodeType}).each(t.proxy(function(t,e){e=this.prepare(e),this.$stage.append(e),this._items.push(e),this._mergers.push(1*e.find("[data-merge]").addBack("[data-merge]").attr("data-merge")||1)},this)),this.reset(this.isNumeric(this.settings.startPosition)?this.settings.startPosition:0),this.invalidate("items")},o.prototype.add=function(e,n){var o=this.relative(this._current);n=n===i?this._items.length:this.normalize(n,!0),e=e instanceof jQuery?e:t(e),this.trigger("add",{content:e,position:n}),e=this.prepare(e),0===this._items.length||n===this._items.length?(0===this._items.length&&this.$stage.append(e),0!==this._items.length&&this._items[n-1].after(e),this._items.push(e),this._mergers.push(1*e.find("[data-merge]").addBack("[data-merge]").attr("data-merge")||1)):(this._items[n].before(e),this._items.splice(n,0,e),this._mergers.splice(n,0,1*e.find("[data-merge]").addBack("[data-merge]").attr("data-merge")||1)),this._items[o]&&this.reset(this._items[o].index()),this.invalidate("items"),this.trigger("added",{content:e,position:n})},o.prototype.remove=function(t){(t=this.normalize(t,!0))!==i&&(this.trigger("remove",{content:this._items[t],position:t}),this._items[t].remove(),this._items.splice(t,1),this._mergers.splice(t,1),this.invalidate("items"),this.trigger("removed",{content:null,position:t}))},o.prototype.preloadAutoWidthImages=function(e){e.each(t.proxy(function(e,n){this.enter("pre-loading"),n=t(n),t(new Image).one("load",t.proxy(function(t){n.attr("src",t.target.src),n.css("opacity",1),this.leave("pre-loading"),!this.is("pre-loading")&&!this.is("initializing")&&this.refresh()},this)).attr("src",n.attr("src")||n.attr("data-src")||n.attr("data-src-retina"))},this))},o.prototype.destroy=function(){for(var i in this.$element.off(".owl.core"),this.$stage.off(".owl.core"),t(n).off(".owl.core"),!1!==this.settings.responsive&&(e.clearTimeout(this.resizeTimer),this.off(e,"resize",this._handlers.onThrottledResize)),this._plugins)this._plugins[i].destroy();this.$stage.children(".cloned").remove(),this.$stage.unwrap(),this.$stage.children().contents().unwrap(),this.$stage.children().unwrap(),this.$stage.remove(),this.$element.removeClass(this.options.refreshClass).removeClass(this.options.loadingClass).removeClass(this.options.loadedClass).removeClass(this.options.rtlClass).removeClass(this.options.dragClass).removeClass(this.options.grabClass).attr("class",this.$element.attr("class").replace(new RegExp(this.options.responsiveClass+"-\\S+\\s","g"),"")).removeData("owl.carousel")},o.prototype.op=function(t,e,n){var i=this.settings.rtl;switch(e){case"<":return i?t>n:t<n;case">":return i?t<n:t>n;case">=":return i?t<=n:t>=n;case"<=":return i?t>=n:t<=n}},o.prototype.on=function(t,e,n,i){t.addEventListener?t.addEventListener(e,n,i):t.attachEvent&&t.attachEvent("on"+e,n)},o.prototype.off=function(t,e,n,i){t.removeEventListener?t.removeEventListener(e,n,i):t.detachEvent&&t.detachEvent("on"+e,n)},o.prototype.trigger=function(e,n,i,r,a){var s={item:{count:this._items.length,index:this.current()}},l=t.camelCase(t.grep(["on",e,i],function(t){return t}).join("-").toLowerCase()),c=t.Event([e,"owl",i||"carousel"].join(".").toLowerCase(),t.extend({relatedTarget:this},s,n));return this._supress[e]||(t.each(this._plugins,function(t,e){e.onTrigger&&e.onTrigger(c)}),this.register({type:o.Type.Event,name:e}),this.$element.trigger(c),this.settings&&"function"==typeof this.settings[l]&&this.settings[l].call(this,c)),c},o.prototype.enter=function(e){t.each([e].concat(this._states.tags[e]||[]),t.proxy(function(t,e){this._states.current[e]===i&&(this._states.current[e]=0),this._states.current[e]++},this))},o.prototype.leave=function(e){t.each([e].concat(this._states.tags[e]||[]),t.proxy(function(t,e){this._states.current[e]--},this))},o.prototype.register=function(e){if(e.type===o.Type.Event){if(t.event.special[e.name]||(t.event.special[e.name]={}),!t.event.special[e.name].owl){var n=t.event.special[e.name]._default;t.event.special[e.name]._default=function(t){return!n||!n.apply||t.namespace&&-1!==t.namespace.indexOf("owl")?t.namespace&&t.namespace.indexOf("owl")>-1:n.apply(this,arguments)},t.event.special[e.name].owl=!0}}else e.type===o.Type.State&&(this._states.tags[e.name]?this._states.tags[e.name]=this._states.tags[e.name].concat(e.tags):this._states.tags[e.name]=e.tags,this._states.tags[e.name]=t.grep(this._states.tags[e.name],t.proxy(function(n,i){return t.inArray(n,this._states.tags[e.name])===i},this)))},o.prototype.suppress=function(e){t.each(e,t.proxy(function(t,e){this._supress[e]=!0},this))},o.prototype.release=function(e){t.each(e,t.proxy(function(t,e){delete this._supress[e]},this))},o.prototype.pointer=function(t){var n={x:null,y:null};return(t=(t=t.originalEvent||t||e.event).touches&&t.touches.length?t.touches[0]:t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:t).pageX?(n.x=t.pageX,n.y=t.pageY):(n.x=t.clientX,n.y=t.clientY),n},o.prototype.isNumeric=function(t){return!isNaN(parseFloat(t))},o.prototype.difference=function(t,e){return{x:t.x-e.x,y:t.y-e.y}},t.fn.owlCarousel=function(e){var n=Array.prototype.slice.call(arguments,1);return this.each(function(){var i=t(this),r=i.data("owl.carousel");r||(r=new o(this,"object"==typeof e&&e),i.data("owl.carousel",r),t.each(["next","prev","to","destroy","refresh","replace","add","remove"],function(e,n){r.register({type:o.Type.Event,name:n}),r.$element.on(n+".owl.carousel.core",t.proxy(function(t){t.namespace&&t.relatedTarget!==this&&(this.suppress([n]),r[n].apply(this,[].slice.call(arguments,1)),this.release([n]))},r))})),"string"==typeof e&&"_"!==e.charAt(0)&&r[e].apply(r,n)})},t.fn.owlCarousel.Constructor=o}(window.Zepto||window.jQuery,window,document),function(t,e,n,i){var o=function(e){this._core=e,this._interval=null,this._visible=null,this._handlers={"initialized.owl.carousel":t.proxy(function(t){t.namespace&&this._core.settings.autoRefresh&&this.watch()},this)},this._core.options=t.extend({},o.Defaults,this._core.options),this._core.$element.on(this._handlers)};o.Defaults={autoRefresh:!0,autoRefreshInterval:500},o.prototype.watch=function(){this._interval||(this._visible=this._core.isVisible(),this._interval=e.setInterval(t.proxy(this.refresh,this),this._core.settings.autoRefreshInterval))},o.prototype.refresh=function(){this._core.isVisible()!==this._visible&&(this._visible=!this._visible,this._core.$element.toggleClass("owl-hidden",!this._visible),this._visible&&this._core.invalidate("width")&&this._core.refresh())},o.prototype.destroy=function(){var t,n;for(t in e.clearInterval(this._interval),this._handlers)this._core.$element.off(t,this._handlers[t]);for(n in Object.getOwnPropertyNames(this))"function"!=typeof this[n]&&(this[n]=null)},t.fn.owlCarousel.Constructor.Plugins.AutoRefresh=o}(window.Zepto||window.jQuery,window,document),function(t,e,n,i){var o=function(e){this._core=e,this._loaded=[],this._handlers={"initialized.owl.carousel change.owl.carousel resized.owl.carousel":t.proxy(function(e){if(e.namespace&&this._core.settings&&this._core.settings.lazyLoad&&(e.property&&"position"==e.property.name||"initialized"==e.type)){var n=this._core.settings,i=n.center&&Math.ceil(n.items/2)||n.items,o=n.center&&-1*i||0,r=(e.property&&void 0!==e.property.value?e.property.value:this._core.current())+o,a=this._core.clones().length,s=t.proxy(function(t,e){this.load(e)},this);for(n.lazyLoadEager>0&&(i+=n.lazyLoadEager,n.loop&&(r-=n.lazyLoadEager,i++));o++<i;)this.load(a/2+this._core.relative(r)),a&&t.each(this._core.clones(this._core.relative(r)),s),r++}},this)},this._core.options=t.extend({},o.Defaults,this._core.options),this._core.$element.on(this._handlers)};o.Defaults={lazyLoad:!1,lazyLoadEager:0},o.prototype.load=function(n){var i=this._core.$stage.children().eq(n),o=i&&i.find(".owl-lazy");!o||t.inArray(i.get(0),this._loaded)>-1||(o.each(t.proxy(function(n,i){var o,r=t(i),a=e.devicePixelRatio>1&&r.attr("data-src-retina")||r.attr("data-src")||r.attr("data-srcset");this._core.trigger("load",{element:r,url:a},"lazy"),r.is("img")?r.one("load.owl.lazy",t.proxy(function(){r.css("opacity",1),this._core.trigger("loaded",{element:r,url:a},"lazy")},this)).attr("src",a):r.is("source")?r.one("load.owl.lazy",t.proxy(function(){this._core.trigger("loaded",{element:r,url:a},"lazy")},this)).attr("srcset",a):((o=new Image).onload=t.proxy(function(){r.css({"background-image":'url("'+a+'")',opacity:"1"}),this._core.trigger("loaded",{element:r,url:a},"lazy")},this),o.src=a)},this)),this._loaded.push(i.get(0)))},o.prototype.destroy=function(){var t,e;for(t in this.handlers)this._core.$element.off(t,this.handlers[t]);for(e in Object.getOwnPropertyNames(this))"function"!=typeof this[e]&&(this[e]=null)},t.fn.owlCarousel.Constructor.Plugins.Lazy=o}(window.Zepto||window.jQuery,window,document),function(t,e,n,i){var o=function(n){this._core=n,this._previousHeight=null,this._handlers={"initialized.owl.carousel refreshed.owl.carousel":t.proxy(function(t){t.namespace&&this._core.settings.autoHeight&&this.update()},this),"changed.owl.carousel":t.proxy(function(t){t.namespace&&this._core.settings.autoHeight&&"position"===t.property.name&&this.update()},this),"loaded.owl.lazy":t.proxy(function(t){t.namespace&&this._core.settings.autoHeight&&t.element.closest("."+this._core.settings.itemClass).index()===this._core.current()&&this.update()},this)},this._core.options=t.extend({},o.Defaults,this._core.options),this._core.$element.on(this._handlers),this._intervalId=null;var i=this;t(e).on("load",function(){i._core.settings.autoHeight&&i.update()}),t(e).resize(function(){i._core.settings.autoHeight&&(null!=i._intervalId&&clearTimeout(i._intervalId),i._intervalId=setTimeout(function(){i.update()},250))})};o.Defaults={autoHeight:!1,autoHeightClass:"owl-height"},o.prototype.update=function(){var e=this._core._current,n=e+this._core.settings.items,i=this._core.settings.lazyLoad,o=this._core.$stage.children().toArray().slice(e,n),r=[],a=0;t.each(o,function(e,n){r.push(t(n).height())}),(a=Math.max.apply(null,r))<=1&&i&&this._previousHeight&&(a=this._previousHeight),this._previousHeight=a,this._core.$stage.parent().height(a).addClass(this._core.settings.autoHeightClass)},o.prototype.destroy=function(){var t,e;for(t in this._handlers)this._core.$element.off(t,this._handlers[t]);for(e in Object.getOwnPropertyNames(this))"function"!=typeof this[e]&&(this[e]=null)},t.fn.owlCarousel.Constructor.Plugins.AutoHeight=o}(window.Zepto||window.jQuery,window,document),function(t,e,n,i){var o=function(e){this._core=e,this._videos={},this._playing=null,this._handlers={"initialized.owl.carousel":t.proxy(function(t){t.namespace&&this._core.register({type:"state",name:"playing",tags:["interacting"]})},this),"resize.owl.carousel":t.proxy(function(t){t.namespace&&this._core.settings.video&&this.isInFullScreen()&&t.preventDefault()},this),"refreshed.owl.carousel":t.proxy(function(t){t.namespace&&this._core.is("resizing")&&this._core.$stage.find(".cloned .owl-video-frame").remove()},this),"changed.owl.carousel":t.proxy(function(t){t.namespace&&"position"===t.property.name&&this._playing&&this.stop()},this),"prepared.owl.carousel":t.proxy(function(e){if(e.namespace){var n=t(e.content).find(".owl-video");n.length&&(n.css("display","none"),this.fetch(n,t(e.content)))}},this)},this._core.options=t.extend({},o.Defaults,this._core.options),this._core.$element.on(this._handlers),this._core.$element.on("click.owl.video",".owl-video-play-icon",t.proxy(function(t){this.play(t)},this))};o.Defaults={video:!1,videoHeight:!1,videoWidth:!1},o.prototype.fetch=function(t,e){var n=t.attr("data-vimeo-id")?"vimeo":t.attr("data-vzaar-id")?"vzaar":"youtube",i=t.attr("data-vimeo-id")||t.attr("data-youtube-id")||t.attr("data-vzaar-id"),o=t.attr("data-width")||this._core.settings.videoWidth,r=t.attr("data-height")||this._core.settings.videoHeight,a=t.attr("href");if(!a)throw new Error("Missing video URL.");if((i=a.match(/(http:|https:|)\/\/(player.|www.|app.)?(vimeo\.com|youtu(be\.com|\.be|be\.googleapis\.com|be\-nocookie\.com)|vzaar\.com)\/(video\/|videos\/|embed\/|channels\/.+\/|groups\/.+\/|watch\?v=|v\/)?([A-Za-z0-9._%-]*)(\&\S+)?/))[3].indexOf("youtu")>-1)n="youtube";else if(i[3].indexOf("vimeo")>-1)n="vimeo";else{if(!(i[3].indexOf("vzaar")>-1))throw new Error("Video URL not supported.");n="vzaar"}i=i[6],this._videos[a]={type:n,id:i,width:o,height:r},e.attr("data-video",a),this.thumbnail(t,this._videos[a])},o.prototype.thumbnail=function(e,n){var i,o,r=n.width&&n.height?"width:"+n.width+"px;height:"+n.height+"px;":"",a=e.find("img"),s="src",l="",c=this._core.settings,u=function(n){'<div class="owl-video-play-icon"></div>',i=c.lazyLoad?t("<div/>",{class:"owl-video-tn "+l,srcType:n}):t("<div/>",{class:"owl-video-tn",style:"opacity:1;background-image:url("+n+")"}),e.after(i),e.after('<div class="owl-video-play-icon"></div>')};if(e.wrap(t("<div/>",{class:"owl-video-wrapper",style:r})),this._core.settings.lazyLoad&&(s="data-src",l="owl-lazy"),a.length)return u(a.attr(s)),a.remove(),!1;"youtube"===n.type?(o="//img.youtube.com/vi/"+n.id+"/hqdefault.jpg",u(o)):"vimeo"===n.type?t.ajax({type:"GET",url:"//vimeo.com/api/v2/video/"+n.id+".json",jsonp:"callback",dataType:"jsonp",success:function(t){o=t[0].thumbnail_large,u(o)}}):"vzaar"===n.type&&t.ajax({type:"GET",url:"//vzaar.com/api/videos/"+n.id+".json",jsonp:"callback",dataType:"jsonp",success:function(t){o=t.framegrab_url,u(o)}})},o.prototype.stop=function(){this._core.trigger("stop",null,"video"),this._playing.find(".owl-video-frame").remove(),this._playing.removeClass("owl-video-playing"),this._playing=null,this._core.leave("playing"),this._core.trigger("stopped",null,"video")},o.prototype.play=function(e){var n,i=t(e.target).closest("."+this._core.settings.itemClass),o=this._videos[i.attr("data-video")],r=o.width||"100%",a=o.height||this._core.$stage.height();this._playing||(this._core.enter("playing"),this._core.trigger("play",null,"video"),i=this._core.items(this._core.relative(i.index())),this._core.reset(i.index()),(n=t('<iframe frameborder="0" allowfullscreen mozallowfullscreen webkitAllowFullScreen ></iframe>')).attr("height",a),n.attr("width",r),"youtube"===o.type?n.attr("src","//www.youtube.com/embed/"+o.id+"?autoplay=1&rel=0&v="+o.id):"vimeo"===o.type?n.attr("src","//player.vimeo.com/video/"+o.id+"?autoplay=1"):"vzaar"===o.type&&n.attr("src","//view.vzaar.com/"+o.id+"/player?autoplay=true"),t(n).wrap('<div class="owl-video-frame" />').insertAfter(i.find(".owl-video")),this._playing=i.addClass("owl-video-playing"))},o.prototype.isInFullScreen=function(){var e=n.fullscreenElement||n.mozFullScreenElement||n.webkitFullscreenElement;return e&&t(e).parent().hasClass("owl-video-frame")},o.prototype.destroy=function(){var t,e;for(t in this._core.$element.off("click.owl.video"),this._handlers)this._core.$element.off(t,this._handlers[t]);for(e in Object.getOwnPropertyNames(this))"function"!=typeof this[e]&&(this[e]=null)},t.fn.owlCarousel.Constructor.Plugins.Video=o}(window.Zepto||window.jQuery,window,document),function(t,e,n,i){var o=function(e){this.core=e,this.core.options=t.extend({},o.Defaults,this.core.options),this.swapping=!0,this.previous=i,this.next=i,this.handlers={"change.owl.carousel":t.proxy(function(t){t.namespace&&"position"==t.property.name&&(this.previous=this.core.current(),this.next=t.property.value)},this),"drag.owl.carousel dragged.owl.carousel translated.owl.carousel":t.proxy(function(t){t.namespace&&(this.swapping="translated"==t.type)},this),"translate.owl.carousel":t.proxy(function(t){t.namespace&&this.swapping&&(this.core.options.animateOut||this.core.options.animateIn)&&this.swap()},this)},this.core.$element.on(this.handlers)};o.Defaults={animateOut:!1,animateIn:!1},o.prototype.swap=function(){if(1===this.core.settings.items&&t.support.animation&&t.support.transition){this.core.speed(0);var e,n=t.proxy(this.clear,this),i=this.core.$stage.children().eq(this.previous),o=this.core.$stage.children().eq(this.next),r=this.core.settings.animateIn,a=this.core.settings.animateOut;this.core.current()!==this.previous&&(a&&(e=this.core.coordinates(this.previous)-this.core.coordinates(this.next),i.one(t.support.animation.end,n).css({left:e+"px"}).addClass("animated owl-animated-out").addClass(a)),r&&o.one(t.support.animation.end,n).addClass("animated owl-animated-in").addClass(r))}},o.prototype.clear=function(e){t(e.target).css({left:""}).removeClass("animated owl-animated-out owl-animated-in").removeClass(this.core.settings.animateIn).removeClass(this.core.settings.animateOut),this.core.onTransitionEnd()},o.prototype.destroy=function(){var t,e;for(t in this.handlers)this.core.$element.off(t,this.handlers[t]);for(e in Object.getOwnPropertyNames(this))"function"!=typeof this[e]&&(this[e]=null)},t.fn.owlCarousel.Constructor.Plugins.Animate=o}(window.Zepto||window.jQuery,window,document),function(t,e,n,i){var o=function(e){this._core=e,this._call=null,this._time=0,this._timeout=0,this._paused=!0,this._handlers={"changed.owl.carousel":t.proxy(function(t){t.namespace&&"settings"===t.property.name?this._core.settings.autoplay?this.play():this.stop():t.namespace&&"position"===t.property.name&&this._paused&&(this._time=0)},this),"initialized.owl.carousel":t.proxy(function(t){t.namespace&&this._core.settings.autoplay&&this.play()},this),"play.owl.autoplay":t.proxy(function(t,e,n){t.namespace&&this.play(e,n)},this),"stop.owl.autoplay":t.proxy(function(t){t.namespace&&this.stop()},this),"mouseover.owl.autoplay":t.proxy(function(){this._core.settings.autoplayHoverPause&&this._core.is("rotating")&&this.pause()},this),"mouseleave.owl.autoplay":t.proxy(function(){this._core.settings.autoplayHoverPause&&this._core.is("rotating")&&this.play()},this),"touchstart.owl.core":t.proxy(function(){this._core.settings.autoplayHoverPause&&this._core.is("rotating")&&this.pause()},this),"touchend.owl.core":t.proxy(function(){this._core.settings.autoplayHoverPause&&this.play()},this)},this._core.$element.on(this._handlers),this._core.options=t.extend({},o.Defaults,this._core.options)};o.Defaults={autoplay:!1,autoplayTimeout:5e3,autoplayHoverPause:!1,autoplaySpeed:!1},o.prototype._next=function(i){this._call=e.setTimeout(t.proxy(this._next,this,i),this._timeout*(Math.round(this.read()/this._timeout)+1)-this.read()),this._core.is("interacting")||n.hidden||this._core.next(i||this._core.settings.autoplaySpeed)},o.prototype.read=function(){return(new Date).getTime()-this._time},o.prototype.play=function(n,i){var o;this._core.is("rotating")||this._core.enter("rotating"),n=n||this._core.settings.autoplayTimeout,o=Math.min(this._time%(this._timeout||n),n),this._paused?(this._time=this.read(),this._paused=!1):e.clearTimeout(this._call),this._time+=this.read()%n-o,this._timeout=n,this._call=e.setTimeout(t.proxy(this._next,this,i),n-o)},o.prototype.stop=function(){this._core.is("rotating")&&(this._time=0,this._paused=!0,e.clearTimeout(this._call),this._core.leave("rotating"))},o.prototype.pause=function(){this._core.is("rotating")&&!this._paused&&(this._time=this.read(),this._paused=!0,e.clearTimeout(this._call))},o.prototype.destroy=function(){var t,e;for(t in this.stop(),this._handlers)this._core.$element.off(t,this._handlers[t]);for(e in Object.getOwnPropertyNames(this))"function"!=typeof this[e]&&(this[e]=null)},t.fn.owlCarousel.Constructor.Plugins.autoplay=o}(window.Zepto||window.jQuery,window,document),function(t,e,n,i){"use strict";var o=function(e){this._core=e,this._initialized=!1,this._pages=[],this._controls={},this._templates=[],this.$element=this._core.$element,this._overrides={next:this._core.next,prev:this._core.prev,to:this._core.to},this._handlers={"prepared.owl.carousel":t.proxy(function(e){e.namespace&&this._core.settings.dotsData&&this._templates.push('<div class="'+this._core.settings.dotClass+'">'+t(e.content).find("[data-dot]").addBack("[data-dot]").attr("data-dot")+"</div>")},this),"added.owl.carousel":t.proxy(function(t){t.namespace&&this._core.settings.dotsData&&this._templates.splice(t.position,0,this._templates.pop())},this),"remove.owl.carousel":t.proxy(function(t){t.namespace&&this._core.settings.dotsData&&this._templates.splice(t.position,1)},this),"changed.owl.carousel":t.proxy(function(t){t.namespace&&"position"==t.property.name&&this.draw()},this),"initialized.owl.carousel":t.proxy(function(t){t.namespace&&!this._initialized&&(this._core.trigger("initialize",null,"navigation"),this.initialize(),this.update(),this.draw(),this._initialized=!0,this._core.trigger("initialized",null,"navigation"))},this),"refreshed.owl.carousel":t.proxy(function(t){t.namespace&&this._initialized&&(this._core.trigger("refresh",null,"navigation"),this.update(),this.draw(),this._core.trigger("refreshed",null,"navigation"))},this)},this._core.options=t.extend({},o.Defaults,this._core.options),this.$element.on(this._handlers)};o.Defaults={nav:!1,navText:['<span aria-label="Previous"></span>','<span aria-label="Next"></span>'],navSpeed:!1,navElement:'button type="button" role="presentation"',navContainer:!1,navContainerClass:"owl-nav",navClass:["owl-prev","owl-next"],slideBy:1,dotClass:"owl-dot",dotsClass:"owl-dots",dots:!0,dotsEach:!1,dotsData:!1,dotsSpeed:!1,dotsContainer:!1},o.prototype.initialize=function(){var e,n=this._core.settings;for(e in this._controls.$relative=(n.navContainer?t(n.navContainer):t("<div>").addClass(n.navContainerClass).appendTo(this.$element)).addClass("disabled"),this._controls.$previous=t("<"+n.navElement+">").addClass(n.navClass[0]).html(n.navText[0]).prependTo(this._controls.$relative).on("click",t.proxy(function(t){this.prev(n.navSpeed)},this)),this._controls.$next=t("<"+n.navElement+">").addClass(n.navClass[1]).html(n.navText[1]).appendTo(this._controls.$relative).on("click",t.proxy(function(t){this.next(n.navSpeed)},this)),n.dotsData||(this._templates=[t('<button role="button">').addClass(n.dotClass).append(t("<span>")).prop("outerHTML")]),this._controls.$absolute=(n.dotsContainer?t(n.dotsContainer):t("<div>").addClass(n.dotsClass).appendTo(this.$element)).addClass("disabled"),this._controls.$absolute.on("click","button",t.proxy(function(e){var i=t(e.target).parent().is(this._controls.$absolute)?t(e.target).index():t(e.target).parent().index();e.preventDefault(),this.to(i,n.dotsSpeed)},this)),this._overrides)this._core[e]=t.proxy(this[e],this)},o.prototype.destroy=function(){var t,e,n,i,o;for(t in o=this._core.settings,this._handlers)this.$element.off(t,this._handlers[t]);for(e in this._controls)"$relative"===e&&o.navContainer?this._controls[e].html(""):this._controls[e].remove();for(i in this.overides)this._core[i]=this._overrides[i];for(n in Object.getOwnPropertyNames(this))"function"!=typeof this[n]&&(this[n]=null)},o.prototype.update=function(){var t,e,n=this._core.clones().length/2,i=n+this._core.items().length,o=this._core.maximum(!0),r=this._core.settings,a=r.center||r.autoWidth||r.dotsData?1:r.dotsEach||r.items;if("page"!==r.slideBy&&(r.slideBy=Math.min(r.slideBy,r.items)),r.dots||"page"==r.slideBy)for(this._pages=[],t=n,e=0,0;t<i;t++){if(e>=a||0===e){if(this._pages.push({start:Math.min(o,t-n),end:t-n+a-1}),Math.min(o,t-n)===o)break;e=0,0}e+=this._core.mergers(this._core.relative(t))}},o.prototype.draw=function(){var e,n=this._core.settings,i=this._core.items().length<=n.items,o=this._core.relative(this._core.current()),r=n.loop||n.rewind;this._controls.$relative.toggleClass("disabled",!n.nav||i),n.nav&&(this._controls.$previous.toggleClass("disabled",!r&&o<=this._core.minimum(!0)),this._controls.$next.toggleClass("disabled",!r&&o>=this._core.maximum(!0))),this._controls.$absolute.toggleClass("disabled",!n.dots||i),n.dots&&(e=this._pages.length-this._controls.$absolute.children().length,n.dotsData&&0!==e?this._controls.$absolute.html(this._templates.join("")):e>0?this._controls.$absolute.append(new Array(e+1).join(this._templates[0])):e<0&&this._controls.$absolute.children().slice(e).remove(),this._controls.$absolute.find(".active").removeClass("active"),this._controls.$absolute.children().eq(t.inArray(this.current(),this._pages)).addClass("active"))},o.prototype.onTrigger=function(e){var n=this._core.settings;e.page={index:t.inArray(this.current(),this._pages),count:this._pages.length,size:n&&(n.center||n.autoWidth||n.dotsData?1:n.dotsEach||n.items)}},o.prototype.current=function(){var e=this._core.relative(this._core.current());return t.grep(this._pages,t.proxy(function(t,n){return t.start<=e&&t.end>=e},this)).pop()},o.prototype.getPosition=function(e){var n,i,o=this._core.settings;return"page"==o.slideBy?(n=t.inArray(this.current(),this._pages),i=this._pages.length,e?++n:--n,n=this._pages[(n%i+i)%i].start):(n=this._core.relative(this._core.current()),i=this._core.items().length,e?n+=o.slideBy:n-=o.slideBy),n},o.prototype.next=function(e){t.proxy(this._overrides.to,this._core)(this.getPosition(!0),e)},o.prototype.prev=function(e){t.proxy(this._overrides.to,this._core)(this.getPosition(!1),e)},o.prototype.to=function(e,n,i){var o;!i&&this._pages.length?(o=this._pages.length,t.proxy(this._overrides.to,this._core)(this._pages[(e%o+o)%o].start,n)):t.proxy(this._overrides.to,this._core)(e,n)},t.fn.owlCarousel.Constructor.Plugins.Navigation=o}(window.Zepto||window.jQuery,window,document),function(t,e,n,i){"use strict";var o=function(n){this._core=n,this._hashes={},this.$element=this._core.$element,this._handlers={"initialized.owl.carousel":t.proxy(function(n){n.namespace&&"URLHash"===this._core.settings.startPosition&&t(e).trigger("hashchange.owl.navigation")},this),"prepared.owl.carousel":t.proxy(function(e){if(e.namespace){var n=t(e.content).find("[data-hash]").addBack("[data-hash]").attr("data-hash");if(!n)return;this._hashes[n]=e.content}},this),"changed.owl.carousel":t.proxy(function(n){if(n.namespace&&"position"===n.property.name){var i=this._core.items(this._core.relative(this._core.current())),o=t.map(this._hashes,function(t,e){return t===i?e:null}).join();if(!o||e.location.hash.slice(1)===o)return;e.location.hash=o}},this)},this._core.options=t.extend({},o.Defaults,this._core.options),this.$element.on(this._handlers),t(e).on("hashchange.owl.navigation",t.proxy(function(t){var n=e.location.hash.substring(1),i=this._core.$stage.children(),o=this._hashes[n]&&i.index(this._hashes[n]);void 0!==o&&o!==this._core.current()&&this._core.to(this._core.relative(o),!1,!0)},this))};o.Defaults={URLhashListener:!1},o.prototype.destroy=function(){var n,i;for(n in t(e).off("hashchange.owl.navigation"),this._handlers)this._core.$element.off(n,this._handlers[n]);for(i in Object.getOwnPropertyNames(this))"function"!=typeof this[i]&&(this[i]=null)},t.fn.owlCarousel.Constructor.Plugins.Hash=o}(window.Zepto||window.jQuery,window,document),function(t,e,n,i){function o(e,n){var o=!1,r=e.charAt(0).toUpperCase()+e.slice(1);return t.each((e+" "+s.join(r+" ")+r).split(" "),function(t,e){if(a[e]!==i)return o=!n||e,!1}),o}function r(t){return o(t,!0)}var a=t("<support>").get(0).style,s="Webkit Moz O ms".split(" "),l={transition:{end:{WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",transition:"transitionend"}},animation:{end:{WebkitAnimation:"webkitAnimationEnd",MozAnimation:"animationend",OAnimation:"oAnimationEnd",animation:"animationend"}}},c=function(){return!!o("transform")},u=function(){return!!o("perspective")},h=function(){return!!o("animation")};(function(){return!!o("transition")})()&&(t.support.transition=new String(r("transition")),t.support.transition.end=l.transition.end[t.support.transition]),h()&&(t.support.animation=new String(r("animation")),t.support.animation.end=l.animation.end[t.support.animation]),c()&&(t.support.transform=new String(r("transform")),t.support.transform3d=u())}(window.Zepto||window.jQuery,window,document),function(){function t(t){return t&&(t.ownerDocument||t.document||t).documentElement}function e(t){return t&&(t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView)}function n(t,e){return e>t?-1:t>e?1:t>=e?0:NaN}function i(t){return null===t?NaN:+t}function o(t){return!isNaN(t)}function r(t){return{left:function(e,n,i,o){for(arguments.length<3&&(i=0),arguments.length<4&&(o=e.length);o>i;){var r=i+o>>>1;t(e[r],n)<0?i=r+1:o=r}return i},right:function(e,n,i,o){for(arguments.length<3&&(i=0),arguments.length<4&&(o=e.length);o>i;){var r=i+o>>>1;t(e[r],n)>0?o=r:i=r+1}return i}}}function a(t){return t.length}function s(t,e){for(var n in e)Object.defineProperty(t.prototype,n,{value:e[n],enumerable:!1})}function l(){this._=Object.create(null)}function c(t){return(t+="")===dr||t[0]===pr?pr+t:t}function u(t){return(t+="")[0]===pr?t.slice(1):t}function h(t){return c(t)in this._}function d(t){return(t=c(t))in this._&&delete this._[t]}function p(){var t=[];for(var e in this._)t.push(u(e));return t}function f(){var t=0;for(var e in this._)++t;return t}function m(){for(var t in this._)return!1;return!0}function g(){this._=Object.create(null)}function v(t){return t}function y(t,e,n){return function(){var i=n.apply(e,arguments);return i===e?t:i}}function _(t,e){if(e in t)return e;e=e.charAt(0).toUpperCase()+e.slice(1);for(var n=0,i=fr.length;i>n;++n){var o=fr[n]+e;if(o in t)return o}}function b(){}function x(){}function $(t){function e(){for(var e,i=n,o=-1,r=i.length;++o<r;)(e=i[o].on)&&e.apply(this,arguments);return t}var n=[],i=new l;return e.on=function(e,o){var r,a=i.get(e);return arguments.length<2?a&&a.on:(a&&(a.on=null,n=n.slice(0,r=n.indexOf(a)).concat(n.slice(r+1)),i.remove(e)),o&&n.push(i.set(e,{on:o})),t)},e}function w(){er.event.preventDefault()}function C(){for(var t,e=er.event;t=e.sourceEvent;)e=t;return e}function k(t){for(var e=new x,n=0,i=arguments.length;++n<i;)e[arguments[n]]=$(e);return e.of=function(n,i){return function(o){try{var r=o.sourceEvent=er.event;o.target=t,er.event=o,e[o.type].apply(n,i)}finally{er.event=r}}},e}function M(t){return gr(t,br),t}function S(t){return"function"==typeof t?t:function(){return vr(t,this)}}function T(t){return"function"==typeof t?t:function(){return yr(t,this)}}function A(t,e){return t=er.ns.qualify(t),null==e?t.local?function(){this.removeAttributeNS(t.space,t.local)}:function(){this.removeAttribute(t)}:"function"==typeof e?t.local?function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}:function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}:t.local?function(){this.setAttributeNS(t.space,t.local,e)}:function(){this.setAttribute(t,e)}}function P(t){return t.trim().replace(/\s+/g," ")}function L(t){return new RegExp("(?:^|\\s+)"+er.requote(t)+"(?:\\s+|$)","g")}function E(t){return(t+"").trim().split(/^|\s+/)}function N(t,e){var n=(t=E(t).map(B)).length;return"function"==typeof e?function(){for(var i=-1,o=e.apply(this,arguments);++i<n;)t[i](this,o)}:function(){for(var i=-1;++i<n;)t[i](this,e)}}function B(t){var e=L(t);return function(n,i){if(o=n.classList)return i?o.add(t):o.remove(t);var o=n.getAttribute("class")||"";i?(e.lastIndex=0,e.test(o)||n.setAttribute("class",P(o+" "+t))):n.setAttribute("class",P(o.replace(e," ")))}}function D(t,e,n){return null==e?function(){this.style.removeProperty(t)}:"function"==typeof e?function(){var i=e.apply(this,arguments);null==i?this.style.removeProperty(t):this.style.setProperty(t,i,n)}:function(){this.style.setProperty(t,e,n)}}function I(t,e){return null==e?function(){delete this[t]}:"function"==typeof e?function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}:function(){this[t]=e}}function O(t){return"function"==typeof t?t:(t=er.ns.qualify(t)).local?function(){return this.ownerDocument.createElementNS(t.space,t.local)}:function(){var e=this.ownerDocument,n=this.namespaceURI;return n===xr&&e.documentElement.namespaceURI===xr?e.createElement(t):e.createElementNS(n,t)}}function F(){var t=this.parentNode;t&&t.removeChild(this)}function j(t){return{__data__:t}}function z(t){return function(){return _r(this,t)}}function q(t){return arguments.length||(t=n),function(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}}function R(t,e){for(var n=0,i=t.length;i>n;n++)for(var o,r=t[n],a=0,s=r.length;s>a;a++)(o=r[a])&&e(o,a,n);return t}function H(t){return gr(t,wr),t}function J(t,e,n){function i(){var e=this[o];e&&(this.removeEventListener(t,e,e.$),delete this[o])}var o="__on"+t,r=t.indexOf("."),a=U;r>0&&(t=t.slice(0,r));var s=Cr.get(t);return s&&(t=s,a=W),r?e?function(){var r=a(e,ir(arguments));i.call(this),this.addEventListener(t,this[o]=r,r.$=n),r._=e}:i:e?b:function(){var e,n=new RegExp("^__on([^.]+)"+er.requote(t)+"$");for(var i in this)if(e=i.match(n)){var o=this[i];this.removeEventListener(e[1],o,o.$),delete this[i]}}}function U(t,e){return function(n){var i=er.event;er.event=n,e[0]=this.__data__;try{t.apply(this,e)}finally{er.event=i}}}function W(t,e){var n=U(t,e);return function(t){var e=this,i=t.relatedTarget;i&&(i===e||8&i.compareDocumentPosition(e))||n.call(e,t)}}function V(n){var i=".dragsuppress-"+ ++Mr,o="click"+i,r=er.select(e(n)).on("touchmove"+i,w).on("dragstart"+i,w).on("selectstart"+i,w);if(null==kr&&(kr=!("onselectstart"in n)&&_(n.style,"userSelect")),kr){var a=t(n).style,s=a[kr];a[kr]="none"}return function(t){if(r.on(i,null),kr&&(a[kr]=s),t){var e=function(){r.on(o,null)};r.on(o,function(){w(),e()},!0),setTimeout(e,0)}}}function Y(t,n){n.changedTouches&&(n=n.changedTouches[0]);var i=t.ownerSVGElement||t;if(i.createSVGPoint){var o=i.createSVGPoint();if(0>Sr){var r=e(t);if(r.scrollX||r.scrollY){var a=(i=er.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important"))[0][0].getScreenCTM();Sr=!(a.f||a.e),i.remove()}}return Sr?(o.x=n.pageX,o.y=n.pageY):(o.x=n.clientX,o.y=n.clientY),[(o=o.matrixTransform(t.getScreenCTM().inverse())).x,o.y]}var s=t.getBoundingClientRect();return[n.clientX-s.left-t.clientLeft,n.clientY-s.top-t.clientTop]}function G(){return er.event.changedTouches[0].identifier}function Z(t){return t>0?1:0>t?-1:0}function X(t,e,n){return(e[0]-t[0])*(n[1]-t[1])-(e[1]-t[1])*(n[0]-t[0])}function Q(t){return t>1?0:-1>t?Pr:Math.acos(t)}function K(t){return t>1?Nr:-1>t?-Nr:Math.asin(t)}function tt(t){return((t=Math.exp(t))+1/t)/2}function et(t){return(t=Math.sin(t/2))*t}function nt(){}function it(t,e,n){return this instanceof it?(this.h=+t,this.s=+e,void(this.l=+n)):arguments.length<2?t instanceof it?new it(t.h,t.s,t.l):vt(""+t,yt,it):new it(t,e,n)}function ot(t,e,n){function i(t){return Math.round(255*function(t){return t>360?t-=360:0>t&&(t+=360),60>t?o+(r-o)*t/60:180>t?r:240>t?o+(r-o)*(240-t)/60:o}(t))}var o,r;return t=isNaN(t)?0:(t%=360)<0?t+360:t,e=isNaN(e)?0:0>e?0:e>1?1:e,o=2*(n=0>n?0:n>1?1:n)-(r=.5>=n?n*(1+e):n+e-n*e),new pt(i(t+120),i(t),i(t-120))}function rt(t,e,n){return this instanceof rt?(this.h=+t,this.c=+e,void(this.l=+n)):arguments.length<2?t instanceof rt?new rt(t.h,t.c,t.l):ct(t instanceof st?t.l:(t=_t((t=er.rgb(t)).r,t.g,t.b)).l,t.a,t.b):new rt(t,e,n)}function at(t,e,n){return isNaN(t)&&(t=0),isNaN(e)&&(e=0),new st(n,Math.cos(t*=Br)*e,Math.sin(t)*e)}function st(t,e,n){return this instanceof st?(this.l=+t,this.a=+e,void(this.b=+n)):arguments.length<2?t instanceof st?new st(t.l,t.a,t.b):t instanceof rt?at(t.h,t.c,t.l):_t((t=pt(t)).r,t.g,t.b):new st(t,e,n)}function lt(t,e,n){var i=(t+16)/116,o=i+e/500,r=i-n/200;return new pt(dt(3.2404542*(o=ut(o)*Hr)-1.5371385*(i=ut(i)*Jr)-.4985314*(r=ut(r)*Ur)),dt(-.969266*o+1.8760108*i+.041556*r),dt(.0556434*o-.2040259*i+1.0572252*r))}function ct(t,e,n){return t>0?new rt(Math.atan2(n,e)*Dr,Math.sqrt(e*e+n*n),t):new rt(NaN,NaN,t)}function ut(t){return t>.206893034?t*t*t:(t-4/29)/7.787037}function ht(t){return t>.008856?Math.pow(t,1/3):7.787037*t+4/29}function dt(t){return Math.round(255*(.00304>=t?12.92*t:1.055*Math.pow(t,1/2.4)-.055))}function pt(t,e,n){return this instanceof pt?(this.r=~~t,this.g=~~e,void(this.b=~~n)):arguments.length<2?t instanceof pt?new pt(t.r,t.g,t.b):vt(""+t,pt,ot):new pt(t,e,n)}function ft(t){return new pt(t>>16,t>>8&255,255&t)}function mt(t){return ft(t)+""}function gt(t){return 16>t?"0"+Math.max(0,t).toString(16):Math.min(255,t).toString(16)}function vt(t,e,n){var i,o,r,a=0,s=0,l=0;if(i=/([a-z]+)\((.*)\)/.exec(t=t.toLowerCase()))switch(o=i[2].split(","),i[1]){case"hsl":return n(parseFloat(o[0]),parseFloat(o[1])/100,parseFloat(o[2])/100);case"rgb":return e(xt(o[0]),xt(o[1]),xt(o[2]))}return(r=Yr.get(t))?e(r.r,r.g,r.b):(null==t||"#"!==t.charAt(0)||isNaN(r=parseInt(t.slice(1),16))||(4===t.length?(a=(3840&r)>>4,a|=a>>4,s=240&r,s|=s>>4,l=15&r,l|=l<<4):7===t.length&&(a=(16711680&r)>>16,s=(65280&r)>>8,l=255&r)),e(a,s,l))}function yt(t,e,n){var i,o,r=Math.min(t/=255,e/=255,n/=255),a=Math.max(t,e,n),s=a-r,l=(a+r)/2;return s?(o=.5>l?s/(a+r):s/(2-a-r),i=t==a?(e-n)/s+(n>e?6:0):e==a?(n-t)/s+2:(t-e)/s+4,i*=60):(i=NaN,o=l>0&&1>l?0:i),new it(i,o,l)}function _t(t,e,n){var i=ht((.4124564*(t=bt(t))+.3575761*(e=bt(e))+.1804375*(n=bt(n)))/Hr),o=ht((.2126729*t+.7151522*e+.072175*n)/Jr);return st(116*o-16,500*(i-o),200*(o-ht((.0193339*t+.119192*e+.9503041*n)/Ur)))}function bt(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function xt(t){var e=parseFloat(t);return"%"===t.charAt(t.length-1)?Math.round(2.55*e):e}function $t(t){return"function"==typeof t?t:function(){return t}}function wt(t){return function(e,n,i){return 2===arguments.length&&"function"==typeof n&&(i=n,n=null),Ct(e,n,t,i)}}function Ct(t,e,n,i){function o(){var t,e=l.status;if(!e&&function(t){var e=t.responseType;return e&&"text"!==e?t.response:t.responseText}(l)||e>=200&&300>e||304===e){try{t=n.call(r,l)}catch(t){return void a.error.call(r,t)}a.load.call(r,t)}else a.error.call(r,l)}var r={},a=er.dispatch("beforesend","progress","load","error"),s={},l=new XMLHttpRequest,c=null;return!this.XDomainRequest||"withCredentials"in l||!/^(http(s)?:)?\/\//.test(t)||(l=new XDomainRequest),"onload"in l?l.onload=l.onerror=o:l.onreadystatechange=function(){l.readyState>3&&o()},l.onprogress=function(t){var e=er.event;er.event=t;try{a.progress.call(r,l)}finally{er.event=e}},r.header=function(t,e){return t=(t+"").toLowerCase(),arguments.length<2?s[t]:(null==e?delete s[t]:s[t]=e+"",r)},r.mimeType=function(t){return arguments.length?(e=null==t?null:t+"",r):e},r.responseType=function(t){return arguments.length?(c=t,r):c},r.response=function(t){return n=t,r},["get","post"].forEach(function(t){r[t]=function(){return r.send.apply(r,[t].concat(ir(arguments)))}}),r.send=function(n,i,o){if(2===arguments.length&&"function"==typeof i&&(o=i,i=null),l.open(n,t,!0),null==e||"accept"in s||(s.accept=e+",*/*"),l.setRequestHeader)for(var u in s)l.setRequestHeader(u,s[u]);return null!=e&&l.overrideMimeType&&l.overrideMimeType(e),null!=c&&(l.responseType=c),null!=o&&r.on("error",o).on("load",function(t){o(null,t)}),a.beforesend.call(r,l),l.send(null==i?null:i),r},r.abort=function(){return l.abort(),r},er.rebind(r,a,"on"),null==i?r:r.get(function(t){return 1===t.length?function(e,n){t(null==e?n:null)}:t}(i))}function kt(t,e,n){var i=arguments.length;2>i&&(e=0),3>i&&(n=Date.now());var o={c:t,t:n+e,n:null};return Zr?Zr.n=o:Gr=o,Zr=o,Xr||(Qr=clearTimeout(Qr),Xr=1,Kr(Mt)),o}function Mt(){var t=St(),e=Tt()-t;e>24?(isFinite(e)&&(clearTimeout(Qr),Qr=setTimeout(Mt,e)),Xr=0):(Xr=1,Kr(Mt))}function St(){for(var t=Date.now(),e=Gr;e;)t>=e.t&&e.c(t-e.t)&&(e.c=null),e=e.n;return t}function Tt(){for(var t,e=Gr,n=1/0;e;)e.c?(e.t<n&&(n=e.t),e=(t=e).n):e=t?t.n=e.n:Gr=e.n;return Zr=t,n}function At(t,e){return e-(t?Math.ceil(Math.log(t)/Math.LN10):1)}function Pt(t){var e=t.decimal,n=t.thousands,i=t.grouping,o=t.currency,r=i&&n?function(t,e){for(var o=t.length,r=[],a=0,s=i[0],l=0;o>0&&s>0&&(l+s+1>e&&(s=Math.max(1,e-l)),r.push(t.substring(o-=s,o+s)),!((l+=s+1)>e));)s=i[a=(a+1)%i.length];return r.reverse().join(n)}:v;return function(t){var n=ea.exec(t),i=n[1]||" ",a=n[2]||">",s=n[3]||"-",l=n[4]||"",c=n[5],u=+n[6],h=n[7],d=n[8],p=n[9],f=1,m="",g="",v=!1,y=!0;switch(d&&(d=+d.substring(1)),(c||"0"===i&&"="===a)&&(c=i="0",a="="),p){case"n":h=!0,p="g";break;case"%":f=100,g="%",p="f";break;case"p":f=100,g="%",p="r";break;case"b":case"o":case"x":case"X":"#"===l&&(m="0"+p.toLowerCase());case"c":y=!1;case"d":v=!0,d=0;break;case"s":f=-1,p="r"}"$"===l&&(m=o[0],g=o[1]),"r"!=p||d||(p="g"),null!=d&&("g"==p?d=Math.max(1,Math.min(21,d)):"e"!=p&&"f"!=p||(d=Math.max(0,Math.min(20,d)))),p=na.get(p)||Lt;var _=c&&h;return function(t){var n=g;if(v&&t%1)return"";var o=0>t||0===t&&0>1/t?(t=-t,"-"):"-"===s?"":s;if(0>f){var l=er.formatPrefix(t,d);t=l.scale(t),n=l.symbol+g}else t*=f;var b,x,$=(t=p(t,d)).lastIndexOf(".");if(0>$){var w=y?t.lastIndexOf("e"):-1;0>w?(b=t,x=""):(b=t.substring(0,w),x=t.substring(w))}else b=t.substring(0,$),x=e+t.substring($+1);!c&&h&&(b=r(b,1/0));var C=m.length+b.length+x.length+(_?0:o.length),k=u>C?new Array(C=u-C+1).join(i):"";return _&&(b=r(k+b,k.length?u-x.length:1/0)),o+=m,t=b+x,("<"===a?o+t+k:">"===a?k+o+t:"^"===a?k.substring(0,C>>=1)+o+t+k.substring(C):o+(_?t:k+t))+n}}}function Lt(t){return t+""}function Et(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0])}function Nt(t,e,n){function i(e){var n=t(e),i=r(n,1);return i-e>e-n?n:i}function o(n){return e(n=t(new oa(n-1)),1),n}function r(t,n){return e(t=new oa(+t),n),t}function a(t,i,r){var a=o(t),s=[];if(r>1)for(;i>a;)n(a)%r||s.push(new Date(+a)),e(a,1);else for(;i>a;)s.push(new Date(+a)),e(a,1);return s}t.floor=t,t.round=i,t.ceil=o,t.offset=r,t.range=a;var s=t.utc=Bt(t);return s.floor=s,s.round=Bt(i),s.ceil=Bt(o),s.offset=Bt(r),s.range=function(t,e,n){try{oa=Et;var i=new Et;return i._=t,a(i,e,n)}finally{oa=Date}},t}function Bt(t){return function(e,n){try{oa=Et;var i=new Et;return i._=e,t(i,n)._}finally{oa=Date}}}function Dt(t){function e(t){function e(e){for(var n,o,r,a=[],s=-1,l=0;++s<i;)37===t.charCodeAt(s)&&(a.push(t.slice(l,s)),null!=(o=aa[n=t.charAt(++s)])&&(n=t.charAt(++s)),(r=b[n])&&(n=r(e,null==o?"e"===n?" ":"0":o)),a.push(n),l=s+1);return a.push(t.slice(l,s)),a.join("")}var i=t.length;return e.parse=function(e){var i={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null};if(n(i,t,e,0)!=e.length)return null;"p"in i&&(i.H=i.H%12+12*i.p);var o=null!=i.Z&&oa!==Et,r=new(o?Et:oa);return"j"in i?r.setFullYear(i.y,0,i.j):"W"in i||"U"in i?("w"in i||(i.w="W"in i?1:0),r.setFullYear(i.y,0,1),r.setFullYear(i.y,0,"W"in i?(i.w+6)%7+7*i.W-(r.getDay()+5)%7:i.w+7*i.U-(r.getDay()+6)%7)):r.setFullYear(i.y,i.m,i.d),r.setHours(i.H+(i.Z/100|0),i.M+i.Z%100,i.S,i.L),o?r._:r},e.toString=function(){return t},e}function n(t,e,n,i){for(var o,r,a,s=0,l=e.length,c=n.length;l>s;){if(i>=c)return-1;if(37===(o=e.charCodeAt(s++))){if(a=e.charAt(s++),!(r=x[a in aa?e.charAt(s++):a])||(i=r(t,n,i))<0)return-1}else if(o!=n.charCodeAt(i++))return-1}return i}var i=t.dateTime,o=t.date,r=t.time,a=t.periods,s=t.days,l=t.shortDays,c=t.months,u=t.shortMonths;e.utc=function(t){function n(t){try{var e=new(oa=Et);return e._=t,i(e)}finally{oa=Date}}var i=e(t);return n.parse=function(t){try{oa=Et;var e=i.parse(t);return e&&e._}finally{oa=Date}},n.toString=i.toString,n},e.multi=e.utc.multi=te;var h=er.map(),d=Ot(s),p=Ft(s),f=Ot(l),m=Ft(l),g=Ot(c),v=Ft(c),y=Ot(u),_=Ft(u);a.forEach(function(t,e){h.set(t.toLowerCase(),e)});var b={a:function(t){return l[t.getDay()]},A:function(t){return s[t.getDay()]},b:function(t){return u[t.getMonth()]},B:function(t){return c[t.getMonth()]},c:e(i),d:function(t,e){return It(t.getDate(),e,2)},e:function(t,e){return It(t.getDate(),e,2)},H:function(t,e){return It(t.getHours(),e,2)},I:function(t,e){return It(t.getHours()%12||12,e,2)},j:function(t,e){return It(1+ia.dayOfYear(t),e,3)},L:function(t,e){return It(t.getMilliseconds(),e,3)},m:function(t,e){return It(t.getMonth()+1,e,2)},M:function(t,e){return It(t.getMinutes(),e,2)},p:function(t){return a[+(t.getHours()>=12)]},S:function(t,e){return It(t.getSeconds(),e,2)},U:function(t,e){return It(ia.sundayOfYear(t),e,2)},w:function(t){return t.getDay()},W:function(t,e){return It(ia.mondayOfYear(t),e,2)},x:e(o),X:e(r),y:function(t,e){return It(t.getFullYear()%100,e,2)},Y:function(t,e){return It(t.getFullYear()%1e4,e,4)},Z:Qt,"%":function(){return"%"}},x={a:function(t,e,n){f.lastIndex=0;var i=f.exec(e.slice(n));return i?(t.w=m.get(i[0].toLowerCase()),n+i[0].length):-1},A:function(t,e,n){d.lastIndex=0;var i=d.exec(e.slice(n));return i?(t.w=p.get(i[0].toLowerCase()),n+i[0].length):-1},b:function(t,e,n){y.lastIndex=0;var i=y.exec(e.slice(n));return i?(t.m=_.get(i[0].toLowerCase()),n+i[0].length):-1},B:function(t,e,n){g.lastIndex=0;var i=g.exec(e.slice(n));return i?(t.m=v.get(i[0].toLowerCase()),n+i[0].length):-1},c:function(t,e,i){return n(t,b.c.toString(),e,i)},d:Wt,e:Wt,H:Yt,I:Yt,j:Vt,L:Xt,m:Ut,M:Gt,p:function(t,e,n){var i=h.get(e.slice(n,n+=2).toLowerCase());return null==i?-1:(t.p=i,n)},S:Zt,U:zt,w:jt,W:qt,x:function(t,e,i){return n(t,b.x.toString(),e,i)},X:function(t,e,i){return n(t,b.X.toString(),e,i)},y:Ht,Y:Rt,Z:Jt,"%":Kt};return e}function It(t,e,n){var i=0>t?"-":"",o=(i?-t:t)+"",r=o.length;return i+(n>r?new Array(n-r+1).join(e)+o:o)}function Ot(t){return new RegExp("^(?:"+t.map(er.requote).join("|")+")","i")}function Ft(t){for(var e=new l,n=-1,i=t.length;++n<i;)e.set(t[n].toLowerCase(),n);return e}function jt(t,e,n){sa.lastIndex=0;var i=sa.exec(e.slice(n,n+1));return i?(t.w=+i[0],n+i[0].length):-1}function zt(t,e,n){sa.lastIndex=0;var i=sa.exec(e.slice(n));return i?(t.U=+i[0],n+i[0].length):-1}function qt(t,e,n){sa.lastIndex=0;var i=sa.exec(e.slice(n));return i?(t.W=+i[0],n+i[0].length):-1}function Rt(t,e,n){sa.lastIndex=0;var i=sa.exec(e.slice(n,n+4));return i?(t.y=+i[0],n+i[0].length):-1}function Ht(t,e,n){sa.lastIndex=0;var i=sa.exec(e.slice(n,n+2));return i?(t.y=function(t){return t+(t>68?1900:2e3)}(+i[0]),n+i[0].length):-1}function Jt(t,e,n){return/^[+-]\d{4}$/.test(e=e.slice(n,n+5))?(t.Z=-e,n+5):-1}function Ut(t,e,n){sa.lastIndex=0;var i=sa.exec(e.slice(n,n+2));return i?(t.m=i[0]-1,n+i[0].length):-1}function Wt(t,e,n){sa.lastIndex=0;var i=sa.exec(e.slice(n,n+2));return i?(t.d=+i[0],n+i[0].length):-1}function Vt(t,e,n){sa.lastIndex=0;var i=sa.exec(e.slice(n,n+3));return i?(t.j=+i[0],n+i[0].length):-1}function Yt(t,e,n){sa.lastIndex=0;var i=sa.exec(e.slice(n,n+2));return i?(t.H=+i[0],n+i[0].length):-1}function Gt(t,e,n){sa.lastIndex=0;var i=sa.exec(e.slice(n,n+2));return i?(t.M=+i[0],n+i[0].length):-1}function Zt(t,e,n){sa.lastIndex=0;var i=sa.exec(e.slice(n,n+2));return i?(t.S=+i[0],n+i[0].length):-1}function Xt(t,e,n){sa.lastIndex=0;var i=sa.exec(e.slice(n,n+3));return i?(t.L=+i[0],n+i[0].length):-1}function Qt(t){var e=t.getTimezoneOffset(),n=e>0?"-":"+",i=hr(e)/60|0,o=hr(e)%60;return n+It(i,"0",2)+It(o,"0",2)}function Kt(t,e,n){la.lastIndex=0;var i=la.exec(e.slice(n,n+1));return i?n+i[0].length:-1}function te(t){for(var e=t.length,n=-1;++n<e;)t[n][0]=this(t[n][0]);return function(e){for(var n=0,i=t[n];!i[1](e);)i=t[++n];return i[0](e)}}function ee(){}function ne(t,e,n){var i=n.s=t+e,o=i-t,r=i-o;n.t=t-r+(e-o)}function ie(t,e){t&&da.hasOwnProperty(t.type)&&da[t.type](t,e)}function oe(t,e,n){var i,o=-1,r=t.length-n;for(e.lineStart();++o<r;)i=t[o],e.point(i[0],i[1],i[2]);e.lineEnd()}function re(t,e){var n=-1,i=t.length;for(e.polygonStart();++n<i;)oe(t[n],e,1);e.polygonEnd()}function ae(){function t(t,e){e=e*Br/2+Pr/4;var n=(t*=Br)-i,a=n>=0?1:-1,s=a*n,l=Math.cos(e),c=Math.sin(e),u=r*c,h=o*l+u*Math.cos(s),d=u*a*Math.sin(s);fa.add(Math.atan2(d,h)),i=t,o=l,r=c}var e,n,i,o,r;ma.point=function(a,s){ma.point=t,i=(e=a)*Br,o=Math.cos(s=(n=s)*Br/2+Pr/4),r=Math.sin(s)},ma.lineEnd=function(){t(e,n)}}function se(t){var e=t[0],n=t[1],i=Math.cos(n);return[i*Math.cos(e),i*Math.sin(e),Math.sin(n)]}function le(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function ce(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function ue(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function he(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function de(t){var e=Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}function pe(t){return[Math.atan2(t[1],t[0]),K(t[2])]}function fe(t,e){return hr(t[0]-e[0])<Tr&&hr(t[1]-e[1])<Tr}function me(t,e){t*=Br;var n=Math.cos(e*=Br);ge(n*Math.cos(t),n*Math.sin(t),Math.sin(e))}function ge(t,e,n){ya+=(t-ya)/++ga,_a+=(e-_a)/ga,ba+=(n-ba)/ga}function ve(){function t(t,o){t*=Br;var r=Math.cos(o*=Br),a=r*Math.cos(t),s=r*Math.sin(t),l=Math.sin(o),c=Math.atan2(Math.sqrt((c=n*l-i*s)*c+(c=i*a-e*l)*c+(c=e*s-n*a)*c),e*a+n*s+i*l);va+=c,xa+=c*(e+(e=a)),$a+=c*(n+(n=s)),wa+=c*(i+(i=l)),ge(e,n,i)}var e,n,i;Sa.point=function(o,r){o*=Br;var a=Math.cos(r*=Br);e=a*Math.cos(o),n=a*Math.sin(o),i=Math.sin(r),Sa.point=t,ge(e,n,i)}}function ye(){Sa.point=me}function _e(){function t(t,e){t*=Br;var n=Math.cos(e*=Br),a=n*Math.cos(t),s=n*Math.sin(t),l=Math.sin(e),c=o*l-r*s,u=r*a-i*l,h=i*s-o*a,d=Math.sqrt(c*c+u*u+h*h),p=i*a+o*s+r*l,f=d&&-Q(p)/d,m=Math.atan2(d,p);Ca+=f*c,ka+=f*u,Ma+=f*h,va+=m,xa+=m*(i+(i=a)),$a+=m*(o+(o=s)),wa+=m*(r+(r=l)),ge(i,o,r)}var e,n,i,o,r;Sa.point=function(a,s){e=a,n=s,Sa.point=t,a*=Br;var l=Math.cos(s*=Br);i=l*Math.cos(a),o=l*Math.sin(a),r=Math.sin(s),ge(i,o,r)},Sa.lineEnd=function(){t(e,n),Sa.lineEnd=ye,Sa.point=me}}function be(t,e){function n(n,i){return n=t(n,i),e(n[0],n[1])}return t.invert&&e.invert&&(n.invert=function(n,i){return(n=e.invert(n,i))&&t.invert(n[0],n[1])}),n}function xe(){return!0}function $e(t,e,n,i,o){var r=[],a=[];if(t.forEach(function(t){if(!((e=t.length-1)<=0)){var e,n=t[0],i=t[e];if(fe(n,i)){o.lineStart();for(var s=0;e>s;++s)o.point((n=t[s])[0],n[1]);return void o.lineEnd()}var l=new Ce(n,t,null,!0),c=new Ce(n,null,l,!1);l.o=c,r.push(l),a.push(c),l=new Ce(i,t,null,!1),c=new Ce(i,null,l,!0),l.o=c,r.push(l),a.push(c)}}),a.sort(e),we(r),we(a),r.length){for(var s=0,l=n,c=a.length;c>s;++s)a[s].e=l=!l;for(var u,h,d=r[0];;){for(var p=d,f=!0;p.v;)if((p=p.n)===d)return;u=p.z,o.lineStart();do{if(p.v=p.o.v=!0,p.e){if(f)for(s=0,c=u.length;c>s;++s)o.point((h=u[s])[0],h[1]);else i(p.x,p.n.x,1,o);p=p.n}else{if(f)for(s=(u=p.p.z).length-1;s>=0;--s)o.point((h=u[s])[0],h[1]);else i(p.x,p.p.x,-1,o);p=p.p}u=(p=p.o).z,f=!f}while(!p.v);o.lineEnd()}}}function we(t){if(e=t.length){for(var e,n,i=0,o=t[0];++i<e;)o.n=n=t[i],n.p=o,o=n;o.n=n=t[0],n.p=o}}function Ce(t,e,n,i){this.x=t,this.z=e,this.o=n,this.e=i,this.v=!1,this.n=this.p=null}function ke(t,e,n,i){return function(o,r){function a(e,n){var i=o(e,n);t(e=i[0],n=i[1])&&r.point(e,n)}function s(t,e){var n=o(t,e);g.point(n[0],n[1])}function l(){y.point=s,g.lineStart()}function c(){y.point=a,g.lineEnd()}function u(t,e){m.push([t,e]);var n=o(t,e);b.point(n[0],n[1])}function h(){b.lineStart(),m=[]}function d(){u(m[0][0],m[0][1]),b.lineEnd();var t,e=b.clean(),n=_.buffer(),i=n.length;if(m.pop(),f.push(m),m=null,i)if(1&e){var o,a=-1;if((i=(t=n[0]).length-1)>0){for(x||(r.polygonStart(),x=!0),r.lineStart();++a<i;)r.point((o=t[a])[0],o[1]);r.lineEnd()}}else i>1&&2&e&&n.push(n.pop().concat(n.shift())),p.push(n.filter(Me))}var p,f,m,g=e(r),v=o.invert(i[0],i[1]),y={point:a,lineStart:l,lineEnd:c,polygonStart:function(){y.point=u,y.lineStart=h,y.lineEnd=d,p=[],f=[]},polygonEnd:function(){y.point=a,y.lineStart=l,y.lineEnd=c,p=er.merge(p);var t=function(t,e){var n=t[0],i=t[1],o=[Math.sin(n),-Math.cos(n),0],r=0,a=0;fa.reset();for(var s=0,l=e.length;l>s;++s){var c=e[s],u=c.length;if(u)for(var h=c[0],d=h[0],p=h[1]/2+Pr/4,f=Math.sin(p),m=Math.cos(p),g=1;;){g===u&&(g=0);var v=(t=c[g])[0],y=t[1]/2+Pr/4,_=Math.sin(y),b=Math.cos(y),x=v-d,$=x>=0?1:-1,w=$*x,C=w>Pr,k=f*_;if(fa.add(Math.atan2(k*$*Math.sin(w),m*b+k*Math.cos(w))),r+=C?x+$*Lr:x,C^d>=n^v>=n){var M=ce(se(h),se(t));de(M);var S=ce(o,M);de(S);var T=(C^x>=0?-1:1)*K(S[2]);(i>T||i===T&&(M[0]||M[1]))&&(a+=C^x>=0?1:-1)}if(!g++)break;d=v,f=_,m=b,h=t}}return(-Tr>r||Tr>r&&-Tr>fa)^1&a}(v,f);p.length?(x||(r.polygonStart(),x=!0),$e(p,Te,t,n,r)):t&&(x||(r.polygonStart(),x=!0),r.lineStart(),n(null,null,1,r),r.lineEnd()),x&&(r.polygonEnd(),x=!1),p=f=null},sphere:function(){r.polygonStart(),r.lineStart(),n(null,null,1,r),r.lineEnd(),r.polygonEnd()}},_=Se(),b=e(_),x=!1;return y}}function Me(t){return t.length>1}function Se(){var t,e=[];return{lineStart:function(){e.push(t=[])},point:function(e,n){t.push([e,n])},lineEnd:b,buffer:function(){var n=e;return e=[],t=null,n},rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))}}}function Te(t,e){return((t=t.x)[0]<0?t[1]-Nr-Tr:Nr-t[1])-((e=e.x)[0]<0?e[1]-Nr-Tr:Nr-e[1])}function Ae(t,e,n,i){return function(o){var r,a=o.a,s=o.b,l=a.x,c=a.y,u=0,h=1,d=s.x-l,p=s.y-c;if(r=t-l,d||!(r>0)){if(r/=d,0>d){if(u>r)return;h>r&&(h=r)}else if(d>0){if(r>h)return;r>u&&(u=r)}if(r=n-l,d||!(0>r)){if(r/=d,0>d){if(r>h)return;r>u&&(u=r)}else if(d>0){if(u>r)return;h>r&&(h=r)}if(r=e-c,p||!(r>0)){if(r/=p,0>p){if(u>r)return;h>r&&(h=r)}else if(p>0){if(r>h)return;r>u&&(u=r)}if(r=i-c,p||!(0>r)){if(r/=p,0>p){if(r>h)return;r>u&&(u=r)}else if(p>0){if(u>r)return;h>r&&(h=r)}return u>0&&(o.a={x:l+u*d,y:c+u*p}),1>h&&(o.b={x:l+h*d,y:c+h*p}),o}}}}}}function Pe(t,e,n,i){function o(i,o){return hr(i[0]-t)<Tr?o>0?0:3:hr(i[0]-n)<Tr?o>0?2:1:hr(i[1]-e)<Tr?o>0?1:0:o>0?3:2}function r(t,e){return a(t.x,e.x)}function a(t,e){var n=o(t,1),i=o(e,1);return n!==i?n-i:0===n?e[1]-t[1]:1===n?t[0]-e[0]:2===n?t[1]-e[1]:e[0]-t[0]}return function(s){function l(r,s,l,c){var u=0,h=0;if(null==r||(u=o(r,l))!==(h=o(s,l))||a(r,s)<0^l>0)do{c.point(0===u||3===u?t:n,u>1?i:e)}while((u=(u+l+4)%4)!==h);else c.point(s[0],s[1])}function c(o,r){return o>=t&&n>=o&&r>=e&&i>=r}function u(t,e){c(t,e)&&s.point(t,e)}function h(t,e){var n=c(t=Math.max(-Aa,Math.min(Aa,t)),e=Math.max(-Aa,Math.min(Aa,e)));if(p&&f.push([t,e]),x)m=t,g=e,v=n,x=!1,n&&(s.lineStart(),s.point(t,e));else if(n&&b)s.point(t,e);else{var i={a:{x:y,y:_},b:{x:t,y:e}};k(i)?(b||(s.lineStart(),s.point(i.a.x,i.a.y)),s.point(i.b.x,i.b.y),n||s.lineEnd(),$=!1):n&&(s.lineStart(),s.point(t,e),$=!1)}y=t,_=e,b=n}var d,p,f,m,g,v,y,_,b,x,$,w=s,C=Se(),k=Ae(t,e,n,i),M={point:u,lineStart:function(){M.point=h,p&&p.push(f=[]),x=!0,b=!1,y=_=NaN},lineEnd:function(){d&&(h(m,g),v&&b&&C.rejoin(),d.push(C.buffer())),M.point=u,b&&s.lineEnd()},polygonStart:function(){s=C,d=[],p=[],$=!0},polygonEnd:function(){s=w,d=er.merge(d);var e=function(t){for(var e=0,n=p.length,i=t[1],o=0;n>o;++o)for(var r,a=1,s=p[o],l=s.length,c=s[0];l>a;++a)r=s[a],c[1]<=i?r[1]>i&&X(c,r,t)>0&&++e:r[1]<=i&&X(c,r,t)<0&&--e,c=r;return 0!==e}([t,i]),n=$&&e,o=d.length;(n||o)&&(s.polygonStart(),n&&(s.lineStart(),l(null,null,1,s),s.lineEnd()),o&&$e(d,r,e,l,s),s.polygonEnd()),d=p=f=null}};return M}}function Le(t){var e=0,n=Pr/3,i=Ue(t),o=i(e,n);return o.parallels=function(t){return arguments.length?i(e=t[0]*Pr/180,n=t[1]*Pr/180):[e/Pr*180,n/Pr*180]},o}function Ee(t,e){function n(t,e){var n=Math.sqrt(r-2*o*Math.sin(e))/o;return[n*Math.sin(t*=o),a-n*Math.cos(t)]}var i=Math.sin(t),o=(i+Math.sin(e))/2,r=1+i*(2*o-i),a=Math.sqrt(r)/o;return n.invert=function(t,e){var n=a-e;return[Math.atan2(t,n)/o,K((r-(t*t+n*n)*o*o)/(2*o))]},n}function Ne(){function t(t,e){La+=o*t-i*e,i=t,o=e}var e,n,i,o;Ia.point=function(r,a){Ia.point=t,e=i=r,n=o=a},Ia.lineEnd=function(){t(e,n)}}function Be(){function t(t,e){a.push("M",t,",",e,r)}function e(t,e){a.push("M",t,",",e),s.point=n}function n(t,e){a.push("L",t,",",e)}function i(){s.point=t}function o(){a.push("Z")}var r=De(4.5),a=[],s={point:t,lineStart:function(){s.point=e},lineEnd:i,polygonStart:function(){s.lineEnd=o},polygonEnd:function(){s.lineEnd=i,s.point=t},pointRadius:function(t){return r=De(t),s},result:function(){if(a.length){var t=a.join("");return a=[],t}}};return s}function De(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}function Ie(t,e){ya+=t,_a+=e,++ba}function Oe(){function t(t,i){var o=t-e,r=i-n,a=Math.sqrt(o*o+r*r);xa+=a*(e+t)/2,$a+=a*(n+i)/2,wa+=a,Ie(e=t,n=i)}var e,n;Fa.point=function(i,o){Fa.point=t,Ie(e=i,n=o)}}function Fe(){Fa.point=Ie}function je(){function t(t,e){var n=t-i,r=e-o,a=Math.sqrt(n*n+r*r);xa+=a*(i+t)/2,$a+=a*(o+e)/2,wa+=a,Ca+=(a=o*t-i*e)*(i+t),ka+=a*(o+e),Ma+=3*a,Ie(i=t,o=e)}var e,n,i,o;Fa.point=function(r,a){Fa.point=t,Ie(e=i=r,n=o=a)},Fa.lineEnd=function(){t(e,n)}}function ze(t){function e(e,n){t.moveTo(e+a,n),t.arc(e,n,a,0,Lr)}function n(e,n){t.moveTo(e,n),s.point=i}function i(e,n){t.lineTo(e,n)}function o(){s.point=e}function r(){t.closePath()}var a=4.5,s={point:e,lineStart:function(){s.point=n},lineEnd:o,polygonStart:function(){s.lineEnd=r},polygonEnd:function(){s.lineEnd=o,s.point=e},pointRadius:function(t){return a=t,s},result:b};return s}function qe(t){function e(t){return(s?i:n)(t)}function n(e){return He(e,function(n,i){n=t(n,i),e.point(n[0],n[1])})}function i(e){function n(n,i){n=t(n,i),e.point(n[0],n[1])}function i(){y=NaN,w.point=r,e.lineStart()}function r(n,i){var r=se([n,i]),a=t(n,i);o(y,_,v,b,x,$,y=a[0],_=a[1],v=n,b=r[0],x=r[1],$=r[2],s,e),e.point(y,_)}function a(){w.point=n,e.lineEnd()}function l(){i(),w.point=c,w.lineEnd=u}function c(t,e){r(h=t,e),d=y,p=_,f=b,m=x,g=$,w.point=r}function u(){o(y,_,v,b,x,$,d,p,h,f,m,g,s,e),w.lineEnd=a,a()}var h,d,p,f,m,g,v,y,_,b,x,$,w={point:n,lineStart:i,lineEnd:a,polygonStart:function(){e.polygonStart(),w.lineStart=l},polygonEnd:function(){e.polygonEnd(),w.lineStart=i}};return w}function o(e,n,i,s,l,c,u,h,d,p,f,m,g,v){var y=u-e,_=h-n,b=y*y+_*_;if(b>4*r&&g--){var x=s+p,$=l+f,w=c+m,C=Math.sqrt(x*x+$*$+w*w),k=Math.asin(w/=C),M=hr(hr(w)-1)<Tr||hr(i-d)<Tr?(i+d)/2:Math.atan2($,x),S=t(M,k),T=S[0],A=S[1],P=T-e,L=A-n,E=_*P-y*L;(E*E/b>r||hr((y*P+_*L)/b-.5)>.3||a>s*p+l*f+c*m)&&(o(e,n,i,s,l,c,T,A,M,x/=C,$/=C,w,g,v),v.point(T,A),o(T,A,M,x,$,w,u,h,d,p,f,m,g,v))}}var r=.5,a=Math.cos(30*Br),s=16;return e.precision=function(t){return arguments.length?(s=(r=t*t)>0&&16,e):Math.sqrt(r)},e}function Re(t){this.stream=t}function He(t,e){return{point:e,sphere:function(){t.sphere()},lineStart:function(){t.lineStart()},lineEnd:function(){t.lineEnd()},polygonStart:function(){t.polygonStart()},polygonEnd:function(){t.polygonEnd()}}}function Je(t){return Ue(function(){return t})()}function Ue(t){function e(t){return[(t=s(t[0]*Br,t[1]*Br))[0]*d+l,c-t[1]*d]}function n(t){return(t=s.invert((t[0]-l)/d,(c-t[1])/d))&&[t[0]*Dr,t[1]*Dr]}function i(){s=be(a=Ge(y,_,b),r);var t=r(m,g);return l=p-t[0]*d,c=f+t[1]*d,o()}function o(){return u&&(u.valid=!1,u=null),e}var r,a,s,l,c,u,h=qe(function(t,e){return[(t=r(t,e))[0]*d+l,c-t[1]*d]}),d=150,p=480,f=250,m=0,g=0,y=0,_=0,b=0,x=Ta,$=v,w=null,C=null;return e.stream=function(t){return u&&(u.valid=!1),(u=We(x(a,h($(t))))).valid=!0,u},e.clipAngle=function(t){return arguments.length?(x=null==t?(w=t,Ta):function(t){function e(t,e){return Math.cos(t)*Math.cos(e)>o}function n(t,e,n){var i=[1,0,0],r=ce(se(t),se(e)),a=le(r,r),s=r[0],l=a-s*s;if(!l)return!n&&t;var c=o*a/l,u=-o*s/l,h=ce(i,r),d=he(i,c);ue(d,he(r,u));var p=h,f=le(d,p),m=le(p,p),g=f*f-m*(le(d,d)-1);if(!(0>g)){var v=Math.sqrt(g),y=he(p,(-f-v)/m);if(ue(y,d),y=pe(y),!n)return y;var _,b=t[0],x=e[0],$=t[1],w=e[1];b>x&&(_=b,b=x,x=_);var C=x-b,k=hr(C-Pr)<Tr;if(!k&&$>w&&(_=$,$=w,w=_),k||Tr>C?k?$+w>0^y[1]<(hr(y[0]-b)<Tr?$:w):$<=y[1]&&y[1]<=w:C>Pr^(b<=y[0]&&y[0]<=x)){var M=he(p,(-f+v)/m);return ue(M,d),[y,pe(M)]}}}function i(e,n){var i=r?t:Pr-t,o=0;return-i>e?o|=1:e>i&&(o|=2),-i>n?o|=4:n>i&&(o|=8),o}var o=Math.cos(t),r=o>0,a=hr(o)>Tr;return ke(e,function(t){var o,s,l,c,u;return{lineStart:function(){c=l=!1,u=1},point:function(h,d){var p,f=[h,d],m=e(h,d),g=r?m?0:i(h,d):m?i(h+(0>h?Pr:-Pr),d):0;if(!o&&(c=l=m)&&t.lineStart(),m!==l&&(p=n(o,f),(fe(o,p)||fe(f,p))&&(f[0]+=Tr,f[1]+=Tr,m=e(f[0],f[1]))),m!==l)u=0,m?(t.lineStart(),p=n(f,o),t.point(p[0],p[1])):(p=n(o,f),t.point(p[0],p[1]),t.lineEnd()),o=p;else if(a&&o&&r^m){var v;g&s||!(v=n(f,o,!0))||(u=0,r?(t.lineStart(),t.point(v[0][0],v[0][1]),t.point(v[1][0],v[1][1]),t.lineEnd()):(t.point(v[1][0],v[1][1]),t.lineEnd(),t.lineStart(),t.point(v[0][0],v[0][1])))}!m||o&&fe(o,f)||t.point(f[0],f[1]),o=f,l=m,s=g},lineEnd:function(){l&&t.lineEnd(),o=null},clean:function(){return u|(c&&l)<<1}}},Ke(t,6*Br),r?[0,-t]:[-Pr,t-Pr])}((w=+t)*Br),o()):w},e.clipExtent=function(t){return arguments.length?(C=t,$=t?Pe(t[0][0],t[0][1],t[1][0],t[1][1]):v,o()):C},e.scale=function(t){return arguments.length?(d=+t,i()):d},e.translate=function(t){return arguments.length?(p=+t[0],f=+t[1],i()):[p,f]},e.center=function(t){return arguments.length?(m=t[0]%360*Br,g=t[1]%360*Br,i()):[m*Dr,g*Dr]},e.rotate=function(t){return arguments.length?(y=t[0]%360*Br,_=t[1]%360*Br,b=t.length>2?t[2]%360*Br:0,i()):[y*Dr,_*Dr,b*Dr]},er.rebind(e,h,"precision"),function(){return r=t.apply(this,arguments),e.invert=r.invert&&n,i()}}function We(t){return He(t,function(e,n){t.point(e*Br,n*Br)})}function Ve(t,e){return[t,e]}function Ye(t,e){return[t>Pr?t-Lr:-Pr>t?t+Lr:t,e]}function Ge(t,e,n){return t?e||n?be(Xe(t),Qe(e,n)):Xe(t):e||n?Qe(e,n):Ye}function Ze(t){return function(e,n){return[(e+=t)>Pr?e-Lr:-Pr>e?e+Lr:e,n]}}function Xe(t){var e=Ze(t);return e.invert=Ze(-t),e}function Qe(t,e){function n(t,e){var n=Math.cos(e),s=Math.cos(t)*n,l=Math.sin(t)*n,c=Math.sin(e),u=c*i+s*o;return[Math.atan2(l*r-u*a,s*i-c*o),K(u*r+l*a)]}var i=Math.cos(t),o=Math.sin(t),r=Math.cos(e),a=Math.sin(e);return n.invert=function(t,e){var n=Math.cos(e),s=Math.cos(t)*n,l=Math.sin(t)*n,c=Math.sin(e),u=c*r-l*a;return[Math.atan2(l*r+c*a,s*i+u*o),K(u*i-s*o)]},n}function Ke(t,e){var n=Math.cos(t),i=Math.sin(t);return function(o,r,a,s){var l=a*e;null!=o?(o=tn(n,o),r=tn(n,r),(a>0?r>o:o>r)&&(o+=a*Lr)):(o=t+a*Lr,r=t-.5*l);for(var c,u=o;a>0?u>r:r>u;u-=l)s.point((c=pe([n,-i*Math.cos(u),-i*Math.sin(u)]))[0],c[1])}}function tn(t,e){var n=se(e);n[0]-=t,de(n);var i=Q(-n[1]);return((-n[2]<0?-i:i)+2*Math.PI-Tr)%(2*Math.PI)}function en(t,e,n){var i=er.range(t,e-Tr,n).concat(e);return function(t){return i.map(function(e){return[t,e]})}}function nn(t,e,n){var i=er.range(t,e-Tr,n).concat(e);return function(t){return i.map(function(e){return[e,t]})}}function on(t){return t.source}function rn(t){return t.target}function an(t,e){function n(e,n){var i=Math.cos(e),o=Math.cos(n),r=t(i*o);return[r*o*Math.sin(e),r*Math.sin(n)]}return n.invert=function(t,n){var i=Math.sqrt(t*t+n*n),o=e(i),r=Math.sin(o),a=Math.cos(o);return[Math.atan2(t*r,i*a),Math.asin(i&&n*r/i)]},n}function sn(t,e){function n(t,e){a>0?-Nr+Tr>e&&(e=-Nr+Tr):e>Nr-Tr&&(e=Nr-Tr);var n=a/Math.pow(o(e),r);return[n*Math.sin(r*t),a-n*Math.cos(r*t)]}var i=Math.cos(t),o=function(t){return Math.tan(Pr/4+t/2)},r=t===e?Math.sin(t):Math.log(i/Math.cos(e))/Math.log(o(e)/o(t)),a=i*Math.pow(o(t),r)/r;return r?(n.invert=function(t,e){var n=a-e,i=Z(r)*Math.sqrt(t*t+n*n);return[Math.atan2(t,n)/r,2*Math.atan(Math.pow(a/i,1/r))-Nr]},n):cn}function ln(t,e){function n(t,e){var n=r-e;return[n*Math.sin(o*t),r-n*Math.cos(o*t)]}var i=Math.cos(t),o=t===e?Math.sin(t):(i-Math.cos(e))/(e-t),r=i/o+t;return hr(o)<Tr?Ve:(n.invert=function(t,e){var n=r-e;return[Math.atan2(t,n)/o,r-Z(o)*Math.sqrt(t*t+n*n)]},n)}function cn(t,e){return[t,Math.log(Math.tan(Pr/4+e/2))]}function un(t){var e,n=Je(t),i=n.scale,o=n.translate,r=n.clipExtent;return n.scale=function(){var t=i.apply(n,arguments);return t===n?e?n.clipExtent(null):n:t},n.translate=function(){var t=o.apply(n,arguments);return t===n?e?n.clipExtent(null):n:t},n.clipExtent=function(t){var a=r.apply(n,arguments);if(a===n){if(e=null==t){var s=Pr*i(),l=o();r([[l[0]-s,l[1]-s],[l[0]+s,l[1]+s]])}}else e&&(a=null);return a},n.clipExtent(null)}function hn(t,e){return[Math.log(Math.tan(Pr/4+e/2)),-t]}function dn(t){return t[0]}function pn(t){return t[1]}function fn(t){for(var e=t.length,n=[0,1],i=2,o=2;e>o;o++){for(;i>1&&X(t[n[i-2]],t[n[i-1]],t[o])<=0;)--i;n[i++]=o}return n.slice(0,i)}function mn(t,e){return t[0]-e[0]||t[1]-e[1]}function gn(t,e,n){return(n[0]-e[0])*(t[1]-e[1])<(n[1]-e[1])*(t[0]-e[0])}function vn(t,e,n,i){var o=t[0],r=n[0],a=e[0]-o,s=i[0]-r,l=t[1],c=n[1],u=e[1]-l,h=i[1]-c,d=(s*(l-c)-h*(o-r))/(h*a-s*u);return[o+d*a,l+d*u]}function yn(t){var e=t[0],n=t[t.length-1];return!(e[0]-n[0]||e[1]-n[1])}function _n(){Fn(this),this.edge=this.site=this.circle=null}function bn(t){var e=Qa.pop()||new _n;return e.site=t,e}function xn(t){Pn(t),Ga.remove(t),Qa.push(t),Fn(t)}function $n(t){var e=t.circle,n=e.x,i=e.cy,o={x:n,y:i},r=t.P,a=t.N,s=[t];xn(t);for(var l=r;l.circle&&hr(n-l.circle.x)<Tr&&hr(i-l.circle.cy)<Tr;)r=l.P,s.unshift(l),xn(l),l=r;s.unshift(l),Pn(l);for(var c=a;c.circle&&hr(n-c.circle.x)<Tr&&hr(i-c.circle.cy)<Tr;)a=c.N,s.push(c),xn(c),c=a;s.push(c),Pn(c);var u,h=s.length;for(u=1;h>u;++u)c=s[u],l=s[u-1],Dn(c.edge,l.site,c.site,o);l=s[0],(c=s[h-1]).edge=Nn(l.site,c.site,null,o),An(l),An(c)}function wn(t){for(var e,n,i,o,r=t.x,a=t.y,s=Ga._;s;)if((i=Cn(s,a)-r)>Tr)s=s.L;else{if(!((o=r-kn(s,a))>Tr)){i>-Tr?(e=s.P,n=s):o>-Tr?(e=s,n=s.N):e=n=s;break}if(!s.R){e=s;break}s=s.R}var l=bn(t);if(Ga.insert(e,l),e||n){if(e===n)return Pn(e),n=bn(e.site),Ga.insert(l,n),l.edge=n.edge=Nn(e.site,l.site),An(e),void An(n);if(!n)return void(l.edge=Nn(e.site,l.site));Pn(e),Pn(n);var c=e.site,u=c.x,h=c.y,d=t.x-u,p=t.y-h,f=n.site,m=f.x-u,g=f.y-h,v=2*(d*g-p*m),y=d*d+p*p,_=m*m+g*g,b={x:(g*y-p*_)/v+u,y:(d*_-m*y)/v+h};Dn(n.edge,c,f,b),l.edge=Nn(c,t,null,b),n.edge=Nn(t,f,null,b),An(e),An(n)}}function Cn(t,e){var n=t.site,i=n.x,o=n.y,r=o-e;if(!r)return i;var a=t.P;if(!a)return-1/0;var s=(n=a.site).x,l=n.y,c=l-e;if(!c)return s;var u=s-i,h=1/r-1/c,d=u/c;return h?(-d+Math.sqrt(d*d-2*h*(u*u/(-2*c)-l+c/2+o-r/2)))/h+i:(i+s)/2}function kn(t,e){var n=t.N;if(n)return Cn(n,e);var i=t.site;return i.y===e?i.x:1/0}function Mn(t){this.site=t,this.edges=[]}function Sn(t,e){return e.angle-t.angle}function Tn(){Fn(this),this.x=this.y=this.arc=this.site=this.cy=null}function An(t){var e=t.P,n=t.N;if(e&&n){var i=e.site,o=t.site,r=n.site;if(i!==r){var a=o.x,s=o.y,l=i.x-a,c=i.y-s,u=r.x-a,h=2*(l*(g=r.y-s)-c*u);if(!(h>=-Ar)){var d=l*l+c*c,p=u*u+g*g,f=(g*d-c*p)/h,m=(l*p-u*d)/h,g=m+s,v=Ka.pop()||new Tn;v.arc=t,v.site=o,v.x=f+a,v.y=g+Math.sqrt(f*f+m*m),v.cy=g,t.circle=v;for(var y=null,_=Xa._;_;)if(v.y<_.y||v.y===_.y&&v.x<=_.x){if(!_.L){y=_.P;break}_=_.L}else{if(!_.R){y=_;break}_=_.R}Xa.insert(y,v),y||(Za=v)}}}}function Pn(t){var e=t.circle;e&&(e.P||(Za=e.N),Xa.remove(e),Ka.push(e),Fn(e),t.circle=null)}function Ln(t,e){var n=t.b;if(n)return!0;var i,o,r=t.a,a=e[0][0],s=e[1][0],l=e[0][1],c=e[1][1],u=t.l,h=t.r,d=u.x,p=u.y,f=h.x,m=h.y,g=(d+f)/2,v=(p+m)/2;if(m===p){if(a>g||g>=s)return;if(d>f){if(r){if(r.y>=c)return}else r={x:g,y:l};n={x:g,y:c}}else{if(r){if(r.y<l)return}else r={x:g,y:c};n={x:g,y:l}}}else if(o=v-(i=(d-f)/(m-p))*g,-1>i||i>1)if(d>f){if(r){if(r.y>=c)return}else r={x:(l-o)/i,y:l};n={x:(c-o)/i,y:c}}else{if(r){if(r.y<l)return}else r={x:(c-o)/i,y:c};n={x:(l-o)/i,y:l}}else if(m>p){if(r){if(r.x>=s)return}else r={x:a,y:i*a+o};n={x:s,y:i*s+o}}else{if(r){if(r.x<a)return}else r={x:s,y:i*s+o};n={x:a,y:i*a+o}}return t.a=r,t.b=n,!0}function En(t,e){this.l=t,this.r=e,this.a=this.b=null}function Nn(t,e,n,i){var o=new En(t,e);return Va.push(o),n&&Dn(o,t,e,n),i&&Dn(o,e,t,i),Ya[t.i].edges.push(new In(o,t,e)),Ya[e.i].edges.push(new In(o,e,t)),o}function Bn(t,e,n){var i=new En(t,null);return i.a=e,i.b=n,Va.push(i),i}function Dn(t,e,n,i){t.a||t.b?t.l===n?t.b=i:t.a=i:(t.a=i,t.l=e,t.r=n)}function In(t,e,n){var i=t.a,o=t.b;this.edge=t,this.site=e,this.angle=n?Math.atan2(n.y-e.y,n.x-e.x):t.l===e?Math.atan2(o.x-i.x,i.y-o.y):Math.atan2(i.x-o.x,o.y-i.y)}function On(){this._=null}function Fn(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function jn(t,e){var n=e,i=e.R,o=n.U;o?o.L===n?o.L=i:o.R=i:t._=i,i.U=o,n.U=i,n.R=i.L,n.R&&(n.R.U=n),i.L=n}function zn(t,e){var n=e,i=e.L,o=n.U;o?o.L===n?o.L=i:o.R=i:t._=i,i.U=o,n.U=i,n.L=i.R,n.L&&(n.L.U=n),i.R=n}function qn(t){for(;t.L;)t=t.L;return t}function Rn(t,e){var n,i,o,r=t.sort(Hn).pop();for(Va=[],Ya=new Array(t.length),Ga=new On,Xa=new On;;)if(o=Za,r&&(!o||r.y<o.y||r.y===o.y&&r.x<o.x))r.x===n&&r.y===i||(Ya[r.i]=new Mn(r),wn(r),n=r.x,i=r.y),r=t.pop();else{if(!o)break;$n(o.arc)}e&&(function(t){for(var e,n=Va,i=Ae(t[0][0],t[0][1],t[1][0],t[1][1]),o=n.length;o--;)(!Ln(e=n[o],t)||!i(e)||hr(e.a.x-e.b.x)<Tr&&hr(e.a.y-e.b.y)<Tr)&&(e.a=e.b=null,n.splice(o,1))}(e),function(t){for(var e,n,i,o,r,a,s,l,c,u,h=t[0][0],d=t[1][0],p=t[0][1],f=t[1][1],m=Ya,g=m.length;g--;)if((r=m[g])&&r.prepare())for(l=(s=r.edges).length,a=0;l>a;)i=(u=s[a].end()).x,o=u.y,e=(c=s[++a%l].start()).x,n=c.y,(hr(i-e)>Tr||hr(o-n)>Tr)&&(s.splice(a,0,new In(Bn(r.site,u,hr(i-h)<Tr&&f-o>Tr?{x:h,y:hr(e-h)<Tr?n:f}:hr(o-f)<Tr&&d-i>Tr?{x:hr(n-f)<Tr?e:d,y:f}:hr(i-d)<Tr&&o-p>Tr?{x:d,y:hr(e-d)<Tr?n:p}:hr(o-p)<Tr&&i-h>Tr?{x:hr(n-p)<Tr?e:h,y:p}:null),r.site,null)),++l)}(e));var a={cells:Ya,edges:Va};return Ga=Xa=Va=Ya=null,a}function Hn(t,e){return e.y-t.y||e.x-t.x}function Jn(t,e,n){return(t.x-n.x)*(e.y-t.y)-(t.x-e.x)*(n.y-t.y)}function Un(t){return t.x}function Wn(t){return t.y}function Vn(t,e){t=er.rgb(t),e=er.rgb(e);var n=t.r,i=t.g,o=t.b,r=e.r-n,a=e.g-i,s=e.b-o;return function(t){return"#"+gt(Math.round(n+r*t))+gt(Math.round(i+a*t))+gt(Math.round(o+s*t))}}function Yn(t,e){var n,i={},o={};for(n in t)n in e?i[n]=Xn(t[n],e[n]):o[n]=t[n];for(n in e)n in t||(o[n]=e[n]);return function(t){for(n in i)o[n]=i[n](t);return o}}function Gn(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function Zn(t,e){var n,i,o,r=es.lastIndex=ns.lastIndex=0,a=-1,s=[],l=[];for(t+="",e+="";(n=es.exec(t))&&(i=ns.exec(e));)(o=i.index)>r&&(o=e.slice(r,o),s[a]?s[a]+=o:s[++a]=o),(n=n[0])===(i=i[0])?s[a]?s[a]+=i:s[++a]=i:(s[++a]=null,l.push({i:a,x:Gn(n,i)})),r=ns.lastIndex;return r<e.length&&(o=e.slice(r),s[a]?s[a]+=o:s[++a]=o),s.length<2?l[0]?(e=l[0].x,function(t){return e(t)+""}):function(){return e}:(e=l.length,function(t){for(var n,i=0;e>i;++i)s[(n=l[i]).i]=n.x(t);return s.join("")})}function Xn(t,e){for(var n,i=er.interpolators.length;--i>=0&&!(n=er.interpolators[i](t,e)););return n}function Qn(t,e){var n,i=[],o=[],r=t.length,a=e.length,s=Math.min(t.length,e.length);for(n=0;s>n;++n)i.push(Xn(t[n],e[n]));for(;r>n;++n)o[n]=t[n];for(;a>n;++n)o[n]=e[n];return function(t){for(n=0;s>n;++n)o[n]=i[n](t);return o}}function Kn(t){return function(e){return 1-t(1-e)}}function ti(t){return function(e){return.5*(.5>e?t(2*e):2-t(2-2*e))}}function ei(t){return t*t}function ni(t){return t*t*t}function ii(t){if(0>=t)return 0;if(t>=1)return 1;var e=t*t,n=e*t;return 4*(.5>t?n:3*(t-e)+n-.75)}function oi(t){return 1-Math.cos(t*Nr)}function ri(t){return Math.pow(2,10*(t-1))}function ai(t){return 1-Math.sqrt(1-t*t)}function si(t){return 1/2.75>t?7.5625*t*t:2/2.75>t?7.5625*(t-=1.5/2.75)*t+.75:2.5/2.75>t?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375}function li(t,e){return e-=t,function(n){return Math.round(t+e*n)}}function ci(t){var e=[t.a,t.b],n=[t.c,t.d],i=hi(e),o=ui(e,n),r=hi(function(t,e,n){return t[0]+=n*e[0],t[1]+=n*e[1],t}(n,e,-o))||0;e[0]*n[1]<n[0]*e[1]&&(e[0]*=-1,e[1]*=-1,i*=-1,o*=-1),this.rotate=(i?Math.atan2(e[1],e[0]):Math.atan2(-n[0],n[1]))*Dr,this.translate=[t.e,t.f],this.scale=[i,r],this.skew=r?Math.atan2(o,r)*Dr:0}function ui(t,e){return t[0]*e[0]+t[1]*e[1]}function hi(t){var e=Math.sqrt(ui(t,t));return e&&(t[0]/=e,t[1]/=e),e}function di(t){return t.length?t.pop()+",":""}function pi(t,e){var n=[],i=[];return t=er.transform(t),e=er.transform(e),function(t,e,n,i){if(t[0]!==e[0]||t[1]!==e[1]){var o=n.push("translate(",null,",",null,")");i.push({i:o-4,x:Gn(t[0],e[0])},{i:o-2,x:Gn(t[1],e[1])})}else(e[0]||e[1])&&n.push("translate("+e+")")}(t.translate,e.translate,n,i),function(t,e,n,i){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),i.push({i:n.push(di(n)+"rotate(",null,")")-2,x:Gn(t,e)})):e&&n.push(di(n)+"rotate("+e+")")}(t.rotate,e.rotate,n,i),function(t,e,n,i){t!==e?i.push({i:n.push(di(n)+"skewX(",null,")")-2,x:Gn(t,e)}):e&&n.push(di(n)+"skewX("+e+")")}(t.skew,e.skew,n,i),function(t,e,n,i){if(t[0]!==e[0]||t[1]!==e[1]){var o=n.push(di(n)+"scale(",null,",",null,")");i.push({i:o-4,x:Gn(t[0],e[0])},{i:o-2,x:Gn(t[1],e[1])})}else 1===e[0]&&1===e[1]||n.push(di(n)+"scale("+e+")")}(t.scale,e.scale,n,i),t=e=null,function(t){for(var e,o=-1,r=i.length;++o<r;)n[(e=i[o]).i]=e.x(t);return n.join("")}}function fi(t,e){return e=(e-=t=+t)||1/e,function(n){return(n-t)/e}}function mi(t,e){return e=(e-=t=+t)||1/e,function(n){return Math.max(0,Math.min(1,(n-t)/e))}}function gi(t){for(var e=t.source,n=t.target,i=function(t,e){if(t===e)return t;for(var n=vi(t),i=vi(e),o=n.pop(),r=i.pop(),a=null;o===r;)a=o,o=n.pop(),r=i.pop();return a}(e,n),o=[e];e!==i;)e=e.parent,o.push(e);for(var r=o.length;n!==i;)o.splice(r,0,n),n=n.parent;return o}function vi(t){for(var e=[],n=t.parent;null!=n;)e.push(t),t=n,n=n.parent;return e.push(t),e}function yi(t){t.fixed|=2}function _i(t){t.fixed&=-7}function bi(t){t.fixed|=4,t.px=t.x,t.py=t.y}function xi(t){t.fixed&=-5}function $i(t,e){return er.rebind(t,e,"sort","children","value"),t.nodes=t,t.links=Ti,t}function wi(t,e){for(var n=[t];null!=(t=n.pop());)if(e(t),(o=t.children)&&(i=o.length))for(var i,o;--i>=0;)n.push(o[i])}function Ci(t,e){for(var n=[t],i=[];null!=(t=n.pop());)if(i.push(t),(r=t.children)&&(o=r.length))for(var o,r,a=-1;++a<o;)n.push(r[a]);for(;null!=(t=i.pop());)e(t)}function ki(t){return t.children}function Mi(t){return t.value}function Si(t,e){return e.value-t.value}function Ti(t){return er.merge(t.map(function(t){return(t.children||[]).map(function(e){return{source:t,target:e}})}))}function Ai(t){return t.x}function Pi(t){return t.y}function Li(t,e,n){t.y0=e,t.y=n}function Ei(t){return er.range(t.length)}function Ni(t){for(var e=-1,n=t[0].length,i=[];++e<n;)i[e]=0;return i}function Bi(t){for(var e,n=1,i=0,o=t[0][1],r=t.length;r>n;++n)(e=t[n][1])>o&&(i=n,o=e);return i}function Di(t){return t.reduce(Ii,0)}function Ii(t,e){return t+e[1]}function Oi(t,e){return Fi(t,Math.ceil(Math.log(e.length)/Math.LN2+1))}function Fi(t,e){for(var n=-1,i=+t[0],o=(t[1]-i)/e,r=[];++n<=e;)r[n]=o*n+i;return r}function ji(t){return[er.min(t),er.max(t)]}function zi(t,e){return t.value-e.value}function qi(t,e){var n=t._pack_next;t._pack_next=e,e._pack_prev=t,e._pack_next=n,n._pack_prev=e}function Ri(t,e){t._pack_next=e,e._pack_prev=t}function Hi(t,e){var n=e.x-t.x,i=e.y-t.y,o=t.r+e.r;return.999*o*o>n*n+i*i}function Ji(t){function e(t){u=Math.min(t.x-t.r,u),h=Math.max(t.x+t.r,h),d=Math.min(t.y-t.r,d),p=Math.max(t.y+t.r,p)}if((n=t.children)&&(c=n.length)){var n,i,o,r,a,s,l,c,u=1/0,h=-1/0,d=1/0,p=-1/0;if(n.forEach(Ui),(i=n[0]).x=-i.r,i.y=0,e(i),c>1&&((o=n[1]).x=o.r,o.y=0,e(o),c>2))for(Vi(i,o,r=n[2]),e(r),qi(i,r),i._pack_prev=r,qi(r,o),o=i._pack_next,a=3;c>a;a++){Vi(i,o,r=n[a]);var f=0,m=1,g=1;for(s=o._pack_next;s!==o;s=s._pack_next,m++)if(Hi(s,r)){f=1;break}if(1==f)for(l=i._pack_prev;l!==s._pack_prev&&!Hi(l,r);l=l._pack_prev,g++);f?(g>m||m==g&&o.r<i.r?Ri(i,o=s):Ri(i=l,o),a--):(qi(i,r),o=r,e(r))}var v=(u+h)/2,y=(d+p)/2,_=0;for(a=0;c>a;a++)(r=n[a]).x-=v,r.y-=y,_=Math.max(_,r.r+Math.sqrt(r.x*r.x+r.y*r.y));t.r=_,n.forEach(Wi)}}function Ui(t){t._pack_next=t._pack_prev=t}function Wi(t){delete t._pack_next,delete t._pack_prev}function Vi(t,e,n){var i=t.r+n.r,o=e.x-t.x,r=e.y-t.y;if(i&&(o||r)){var a=e.r+n.r,s=o*o+r*r,l=.5+((i*=i)-(a*=a))/(2*s),c=Math.sqrt(Math.max(0,2*a*(i+s)-(i-=s)*i-a*a))/(2*s);n.x=t.x+l*o+c*r,n.y=t.y+l*r-c*o}else n.x=t.x+i,n.y=t.y}function Yi(t,e){return t.parent==e.parent?1:2}function Gi(t){var e=t.children;return e.length?e[0]:t.t}function Zi(t){var e,n=t.children;return(e=n.length)?n[e-1]:t.t}function Xi(t,e,n){var i=n/(e.i-t.i);e.c-=i,e.s+=n,t.c+=i,e.z+=n,e.m+=n}function Qi(t,e,n){return t.a.parent===e.parent?t.a:n}function Ki(t){return{x:t.x,y:t.y,dx:t.dx,dy:t.dy}}function to(t,e){var n=t.x+e[3],i=t.y+e[0],o=t.dx-e[1]-e[3],r=t.dy-e[0]-e[2];return 0>o&&(n+=o/2,o=0),0>r&&(i+=r/2,r=0),{x:n,y:i,dx:o,dy:r}}function eo(t){var e=t[0],n=t[t.length-1];return n>e?[e,n]:[n,e]}function no(t){return t.rangeExtent?t.rangeExtent():eo(t.range())}function io(t,e,n,i){var o=n(t[0],t[1]),r=i(e[0],e[1]);return function(t){return r(o(t))}}function oo(t,e){var n,i=0,o=t.length-1,r=t[i],a=t[o];return r>a&&(n=i,i=o,o=n,n=r,r=a,a=n),t[i]=e.floor(r),t[o]=e.ceil(a),t}function ro(t){return t?{floor:function(e){return Math.floor(e/t)*t},ceil:function(e){return Math.ceil(e/t)*t}}:ps}function ao(t,e,n,i){var o=[],r=[],a=0,s=Math.min(t.length,e.length)-1;for(t[s]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<=s;)o.push(n(t[a-1],t[a])),r.push(i(e[a-1],e[a]));return function(e){var n=er.bisect(t,e,1,s)-1;return r[n](o[n](e))}}function so(t,e){return er.rebind(t,e,"range","rangeRound","interpolate","clamp")}function lo(t,e){return oo(t,ro(co(t,e)[2])),oo(t,ro(co(t,e)[2])),t}function co(t,e){null==e&&(e=10);var n=eo(t),i=n[1]-n[0],o=Math.pow(10,Math.floor(Math.log(i/e)/Math.LN10)),r=e/i*o;return.15>=r?o*=10:.35>=r?o*=5:.75>=r&&(o*=2),n[0]=Math.ceil(n[0]/o)*o,n[1]=Math.floor(n[1]/o)*o+.5*o,n[2]=o,n}function uo(t,e){return er.range.apply(er,co(t,e))}function ho(t,e,n){var i=co(t,e);if(n){var o=ea.exec(n);if(o.shift(),"s"===o[8]){var r=er.formatPrefix(Math.max(hr(i[0]),hr(i[1])));return o[7]||(o[7]="."+po(r.scale(i[2]))),o[8]="f",n=er.format(o.join("")),function(t){return n(r.scale(t))+r.symbol}}o[7]||(o[7]="."+function(t,e){var n=po(e[2]);return t in fs?Math.abs(n-po(Math.max(hr(e[0]),hr(e[1]))))+ +("e"!==t):n-2*("%"===t)}(o[8],i)),n=o.join("")}else n=",."+po(i[2])+"f";return er.format(n)}function po(t){return-Math.floor(Math.log(t)/Math.LN10+.01)}function fo(t){return function(e){return 0>e?-Math.pow(-e,t):Math.pow(e,t)}}function mo(){return 0}function go(t){return t.innerRadius}function vo(t){return t.outerRadius}function yo(t){return t.startAngle}function _o(t){return t.endAngle}function bo(t){return t&&t.padAngle}function xo(t,e,n,i){return(t-n)*e-(e-i)*t>0?0:1}function $o(t,e,n,i,o){var r=t[0]-e[0],a=t[1]-e[1],s=(o?i:-i)/Math.sqrt(r*r+a*a),l=s*a,c=-s*r,u=t[0]+l,h=t[1]+c,d=e[0]+l,p=e[1]+c,f=(u+d)/2,m=(h+p)/2,g=d-u,v=p-h,y=g*g+v*v,_=n-i,b=u*p-d*h,x=(0>v?-1:1)*Math.sqrt(Math.max(0,_*_*y-b*b)),$=(b*v-g*x)/y,w=(-b*g-v*x)/y,C=(b*v+g*x)/y,k=(-b*g+v*x)/y,M=$-f,S=w-m,T=C-f,A=k-m;return M*M+S*S>T*T+A*A&&($=C,w=k),[[$-l,w-c],[$*n/_,w*n/_]]}function wo(t){function e(e){function a(){c.push("M",r(t(u),s))}for(var l,c=[],u=[],h=-1,d=e.length,p=$t(n),f=$t(i);++h<d;)o.call(this,l=e[h],h)?u.push([+p.call(this,l,h),+f.call(this,l,h)]):u.length&&(a(),u=[]);return u.length&&a(),c.length?c.join(""):null}var n=dn,i=pn,o=xe,r=Co,a=r.key,s=.7;return e.x=function(t){return arguments.length?(n=t,e):n},e.y=function(t){return arguments.length?(i=t,e):i},e.defined=function(t){return arguments.length?(o=t,e):o},e.interpolate=function(t){return arguments.length?(a="function"==typeof t?r=t:(r=$s.get(t)||Co).key,e):a},e.tension=function(t){return arguments.length?(s=t,e):s},e}function Co(t){return t.length>1?t.join("L"):t+"Z"}function ko(t){return t.join("L")+"Z"}function Mo(t){for(var e=0,n=t.length,i=t[0],o=[i[0],",",i[1]];++e<n;)o.push("V",(i=t[e])[1],"H",i[0]);return o.join("")}function So(t){for(var e=0,n=t.length,i=t[0],o=[i[0],",",i[1]];++e<n;)o.push("H",(i=t[e])[0],"V",i[1]);return o.join("")}function To(t,e){if(e.length<1||t.length!=e.length&&t.length!=e.length+2)return Co(t);var n=t.length!=e.length,i="",o=t[0],r=t[1],a=e[0],s=a,l=1;if(n&&(i+="Q"+(r[0]-2*a[0]/3)+","+(r[1]-2*a[1]/3)+","+r[0]+","+r[1],o=t[1],l=2),e.length>1){s=e[1],r=t[l],l++,i+="C"+(o[0]+a[0])+","+(o[1]+a[1])+","+(r[0]-s[0])+","+(r[1]-s[1])+","+r[0]+","+r[1];for(var c=2;c<e.length;c++,l++)r=t[l],s=e[c],i+="S"+(r[0]-s[0])+","+(r[1]-s[1])+","+r[0]+","+r[1]}if(n){var u=t[l];i+="Q"+(r[0]+2*s[0]/3)+","+(r[1]+2*s[1]/3)+","+u[0]+","+u[1]}return i}function Ao(t,e){for(var n,i=[],o=(1-e)/2,r=t[0],a=t[1],s=1,l=t.length;++s<l;)n=r,r=a,a=t[s],i.push([o*(a[0]-n[0]),o*(a[1]-n[1])]);return i}function Po(t){if(t.length<3)return Co(t);var e=1,n=t.length,i=t[0],o=i[0],r=i[1],a=[o,o,o,(i=t[1])[0]],s=[r,r,r,i[1]],l=[o,",",r,"L",Lo(ks,a),",",Lo(ks,s)];for(t.push(t[n-1]);++e<=n;)i=t[e],a.shift(),a.push(i[0]),s.shift(),s.push(i[1]),Eo(l,a,s);return t.pop(),l.push("L",i),l.join("")}function Lo(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]}function Eo(t,e,n){t.push("C",Lo(ws,e),",",Lo(ws,n),",",Lo(Cs,e),",",Lo(Cs,n),",",Lo(ks,e),",",Lo(ks,n))}function No(t,e){return(e[1]-t[1])/(e[0]-t[0])}function Bo(t){for(var e,n,i,o,r=[],a=function(t){for(var e=0,n=t.length-1,i=[],o=t[0],r=t[1],a=i[0]=No(o,r);++e<n;)i[e]=(a+(a=No(o=r,r=t[e+1])))/2;return i[e]=a,i}(t),s=-1,l=t.length-1;++s<l;)e=No(t[s],t[s+1]),hr(e)<Tr?a[s]=a[s+1]=0:(o=(n=a[s]/e)*n+(i=a[s+1]/e)*i)>9&&(o=3*e/Math.sqrt(o),a[s]=o*n,a[s+1]=o*i);for(s=-1;++s<=l;)o=(t[Math.min(l,s+1)][0]-t[Math.max(0,s-1)][0])/(6*(1+a[s]*a[s])),r.push([o||0,a[s]*o||0]);return r}function Do(t){for(var e,n,i,o=-1,r=t.length;++o<r;)n=(e=t[o])[0],i=e[1]-Nr,e[0]=n*Math.cos(i),e[1]=n*Math.sin(i);return t}function Io(t){function e(e){function l(){m.push("M",s(t(v),h),u,c(t(g.reverse()),h),"Z")}for(var d,p,f,m=[],g=[],v=[],y=-1,_=e.length,b=$t(n),x=$t(o),$=n===i?function(){return p}:$t(i),w=o===r?function(){return f}:$t(r);++y<_;)a.call(this,d=e[y],y)?(g.push([p=+b.call(this,d,y),f=+x.call(this,d,y)]),v.push([+$.call(this,d,y),+w.call(this,d,y)])):g.length&&(l(),g=[],v=[]);return g.length&&l(),m.length?m.join(""):null}var n=dn,i=dn,o=0,r=pn,a=xe,s=Co,l=s.key,c=s,u="L",h=.7;return e.x=function(t){return arguments.length?(n=i=t,e):i},e.x0=function(t){return arguments.length?(n=t,e):n},e.x1=function(t){return arguments.length?(i=t,e):i},e.y=function(t){return arguments.length?(o=r=t,e):r},e.y0=function(t){return arguments.length?(o=t,e):o},e.y1=function(t){return arguments.length?(r=t,e):r},e.defined=function(t){return arguments.length?(a=t,e):a},e.interpolate=function(t){return arguments.length?(l="function"==typeof t?s=t:(s=$s.get(t)||Co).key,c=s.reverse||s,u=s.closed?"M":"L",e):l},e.tension=function(t){return arguments.length?(h=t,e):h},e}function Oo(t){return t.radius}function Fo(t){return[t.x,t.y]}function jo(){return 64}function zo(){return"circle"}function qo(t){var e=Math.sqrt(t/Pr);return"M0,"+e+"A"+e+","+e+" 0 1,1 0,"+-e+"A"+e+","+e+" 0 1,1 0,"+e+"Z"}function Ro(t){return function(){var e,n,i;(e=this[t])&&(i=e[n=e.active])&&(i.timer.c=null,i.timer.t=NaN,--e.count?delete e[n]:delete this[t],e.active+=.5,i.event&&i.event.interrupt.call(this,this.__data__,i.index))}}function Ho(t,e,n){return gr(t,Es),t.namespace=e,t.id=n,t}function Jo(t,e,n,i){var o=t.id,r=t.namespace;return R(t,"function"==typeof n?function(t,a,s){t[r][o].tween.set(e,i(n.call(t,t.__data__,a,s)))}:(n=i(n),function(t){t[r][o].tween.set(e,n)}))}function Uo(t){return null==t&&(t=""),function(){this.textContent=t}}function Wo(t){return null==t?"__transition__":"__transition_"+t+"__"}function Vo(t,e,n,i,o){function r(n){var o=p.active,r=p[o];for(var l in r&&(r.timer.c=null,r.timer.t=NaN,--p.count,delete p[o],r.event&&r.event.interrupt.call(t,t.__data__,r.index)),p)if(i>+l){var m=p[l];m.timer.c=null,m.timer.t=NaN,--p.count,delete p[l]}c.c=a,kt(function(){return c.c&&a(n||1)&&(c.c=null,c.t=NaN),1},0,s),p.active=i,f.event&&f.event.start.call(t,t.__data__,e),d=[],f.tween.forEach(function(n,i){(i=i.call(t,t.__data__,e))&&d.push(i)}),h=f.ease,u=f.duration}function a(o){for(var r=o/u,a=h(r),s=d.length;s>0;)d[--s].call(t,a);return r>=1?(f.event&&f.event.end.call(t,t.__data__,e),--p.count?delete p[i]:delete t[n],1):void 0}var s,c,u,h,d,p=t[n]||(t[n]={active:0,count:0}),f=p[i];f||(s=o.time,c=kt(function(t){var e=f.delay;return c.t=e+s,t>=e?r(t-e):void(c.c=r)},0,s),f=p[i]={tween:new l,time:s,timer:c,delay:o.delay,duration:o.duration,ease:o.ease,index:e},o=null,++p.count)}function Yo(t,e,n){t.attr("transform",function(t){var i=e(t);return"translate("+(isFinite(i)?i:n(t))+",0)"})}function Go(t,e,n){t.attr("transform",function(t){var i=e(t);return"translate(0,"+(isFinite(i)?i:n(t))+")"})}function Zo(t){return t.toISOString()}function Xo(t,e,n){function i(e){return t(e)}function o(t,n){var i=(t[1]-t[0])/n,o=er.bisect(qs,i);return o==qs.length?[e.year,co(t.map(function(t){return t/31536e6}),n)[2]]:o?e[i/qs[o-1]<qs[o]/i?o-1:o]:[Js,co(t,n)[2]]}return i.invert=function(e){return Qo(t.invert(e))},i.domain=function(e){return arguments.length?(t.domain(e),i):t.domain().map(Qo)},i.nice=function(t,e){function n(n){return!isNaN(n)&&!t.range(n,Qo(+n+1),e).length}var r=i.domain(),a=eo(r),s=null==t?o(a,10):"number"==typeof t&&o(a,t);return s&&(t=s[0],e=s[1]),i.domain(oo(r,e>1?{floor:function(e){for(;n(e=t.floor(e));)e=Qo(e-1);return e},ceil:function(e){for(;n(e=t.ceil(e));)e=Qo(+e+1);return e}}:t))},i.ticks=function(t,e){var n=eo(i.domain()),r=null==t?o(n,10):"number"==typeof t?o(n,t):!t.range&&[{range:t},e];return r&&(t=r[0],e=r[1]),t.range(n[0],Qo(+n[1]+1),1>e?1:e)},i.tickFormat=function(){return n},i.copy=function(){return Xo(t.copy(),e,n)},so(i,t)}function Qo(t){return new Date(t)}function Ko(t){return JSON.parse(t.responseText)}function tr(t){var e=or.createRange();return e.selectNode(or.body),e.createContextualFragment(t.responseText)}var er={version:"3.5.17"},nr=[].slice,ir=function(t){return nr.call(t)},or=this.document;if(or)try{ir(or.documentElement.childNodes)[0].nodeType}catch(t){ir=function(t){for(var e=t.length,n=new Array(e);e--;)n[e]=t[e];return n}}if(Date.now||(Date.now=function(){return+new Date}),or)try{or.createElement("DIV").style.setProperty("opacity",0,"")}catch(t){var rr=this.Element.prototype,ar=rr.setAttribute,sr=rr.setAttributeNS,lr=this.CSSStyleDeclaration.prototype,cr=lr.setProperty;rr.setAttribute=function(t,e){ar.call(this,t,e+"")},rr.setAttributeNS=function(t,e,n){sr.call(this,t,e,n+"")},lr.setProperty=function(t,e,n){cr.call(this,t,e+"",n)}}er.ascending=n,er.descending=function(t,e){return t>e?-1:e>t?1:e>=t?0:NaN},er.min=function(t,e){var n,i,o=-1,r=t.length;if(1===arguments.length){for(;++o<r;)if(null!=(i=t[o])&&i>=i){n=i;break}for(;++o<r;)null!=(i=t[o])&&n>i&&(n=i)}else{for(;++o<r;)if(null!=(i=e.call(t,t[o],o))&&i>=i){n=i;break}for(;++o<r;)null!=(i=e.call(t,t[o],o))&&n>i&&(n=i)}return n},er.max=function(t,e){var n,i,o=-1,r=t.length;if(1===arguments.length){for(;++o<r;)if(null!=(i=t[o])&&i>=i){n=i;break}for(;++o<r;)null!=(i=t[o])&&i>n&&(n=i)}else{for(;++o<r;)if(null!=(i=e.call(t,t[o],o))&&i>=i){n=i;break}for(;++o<r;)null!=(i=e.call(t,t[o],o))&&i>n&&(n=i)}return n},er.extent=function(t,e){var n,i,o,r=-1,a=t.length;if(1===arguments.length){for(;++r<a;)if(null!=(i=t[r])&&i>=i){n=o=i;break}for(;++r<a;)null!=(i=t[r])&&(n>i&&(n=i),i>o&&(o=i))}else{for(;++r<a;)if(null!=(i=e.call(t,t[r],r))&&i>=i){n=o=i;break}for(;++r<a;)null!=(i=e.call(t,t[r],r))&&(n>i&&(n=i),i>o&&(o=i))}return[n,o]},er.sum=function(t,e){var n,i=0,r=t.length,a=-1;if(1===arguments.length)for(;++a<r;)o(n=+t[a])&&(i+=n);else for(;++a<r;)o(n=+e.call(t,t[a],a))&&(i+=n);return i},er.mean=function(t,e){var n,r=0,a=t.length,s=-1,l=a;if(1===arguments.length)for(;++s<a;)o(n=i(t[s]))?r+=n:--l;else for(;++s<a;)o(n=i(e.call(t,t[s],s)))?r+=n:--l;return l?r/l:void 0},er.quantile=function(t,e){var n=(t.length-1)*e+1,i=Math.floor(n),o=+t[i-1],r=n-i;return r?o+r*(t[i]-o):o},er.median=function(t,e){var r,a=[],s=t.length,l=-1;if(1===arguments.length)for(;++l<s;)o(r=i(t[l]))&&a.push(r);else for(;++l<s;)o(r=i(e.call(t,t[l],l)))&&a.push(r);return a.length?er.quantile(a.sort(n),.5):void 0},er.variance=function(t,e){var n,r,a=t.length,s=0,l=0,c=-1,u=0;if(1===arguments.length)for(;++c<a;)o(n=i(t[c]))&&(l+=(r=n-s)*(n-(s+=r/++u)));else for(;++c<a;)o(n=i(e.call(t,t[c],c)))&&(l+=(r=n-s)*(n-(s+=r/++u)));return u>1?l/(u-1):void 0},er.deviation=function(){var t=er.variance.apply(this,arguments);return t?Math.sqrt(t):t};var ur=r(n);er.bisectLeft=ur.left,er.bisect=er.bisectRight=ur.right,er.bisector=function(t){return r(1===t.length?function(e,i){return n(t(e),i)}:t)},er.shuffle=function(t,e,n){(r=arguments.length)<3&&(n=t.length,2>r&&(e=0));for(var i,o,r=n-e;r;)o=Math.random()*r--|0,i=t[r+e],t[r+e]=t[o+e],t[o+e]=i;return t},er.permute=function(t,e){for(var n=e.length,i=new Array(n);n--;)i[n]=t[e[n]];return i},er.pairs=function(t){for(var e=0,n=t.length-1,i=t[0],o=new Array(0>n?0:n);n>e;)o[e]=[i,i=t[++e]];return o},er.transpose=function(t){if(!(o=t.length))return[];for(var e=-1,n=er.min(t,a),i=new Array(n);++e<n;)for(var o,r=-1,s=i[e]=new Array(o);++r<o;)s[r]=t[r][e];return i},er.zip=function(){return er.transpose(arguments)},er.keys=function(t){var e=[];for(var n in t)e.push(n);return e},er.values=function(t){var e=[];for(var n in t)e.push(t[n]);return e},er.entries=function(t){var e=[];for(var n in t)e.push({key:n,value:t[n]});return e},er.merge=function(t){for(var e,n,i,o=t.length,r=-1,a=0;++r<o;)a+=t[r].length;for(n=new Array(a);--o>=0;)for(e=(i=t[o]).length;--e>=0;)n[--a]=i[e];return n};var hr=Math.abs;er.range=function(t,e,n){if(arguments.length<3&&(n=1,arguments.length<2&&(e=t,t=0)),(e-t)/n==1/0)throw new Error("infinite range");var i,o=[],r=function(t){for(var e=1;t*e%1;)e*=10;return e}(hr(n)),a=-1;if(t*=r,e*=r,0>(n*=r))for(;(i=t+n*++a)>e;)o.push(i/r);else for(;(i=t+n*++a)<e;)o.push(i/r);return o},er.map=function(t,e){var n=new l;if(t instanceof l)t.forEach(function(t,e){n.set(t,e)});else if(Array.isArray(t)){var i,o=-1,r=t.length;if(1===arguments.length)for(;++o<r;)n.set(o,t[o]);else for(;++o<r;)n.set(e.call(t,i=t[o],o),i)}else for(var a in t)n.set(a,t[a]);return n};var dr="__proto__",pr="\0";s(l,{has:h,get:function(t){return this._[c(t)]},set:function(t,e){return this._[c(t)]=e},remove:d,keys:p,values:function(){var t=[];for(var e in this._)t.push(this._[e]);return t},entries:function(){var t=[];for(var e in this._)t.push({key:u(e),value:this._[e]});return t},size:f,empty:m,forEach:function(t){for(var e in this._)t.call(this,u(e),this._[e])}}),er.nest=function(){function t(r,a,s){if(s>=o.length)return n?n.call(i,a):e?a.sort(e):a;for(var c,u,h,d,p=-1,f=a.length,m=o[s++],g=new l;++p<f;)(d=g.get(c=m(u=a[p])))?d.push(u):g.set(c,[u]);return r?(u=r(),h=function(e,n){u.set(e,t(r,n,s))}):(u={},h=function(e,n){u[e]=t(r,n,s)}),g.forEach(h),u}var e,n,i={},o=[],r=[];return i.map=function(e,n){return t(n,e,0)},i.entries=function(e){return function t(e,n){if(n>=o.length)return e;var i=[],a=r[n++];return e.forEach(function(e,o){i.push({key:e,values:t(o,n)})}),a?i.sort(function(t,e){return a(t.key,e.key)}):i}(t(er.map,e,0),0)},i.key=function(t){return o.push(t),i},i.sortKeys=function(t){return r[o.length-1]=t,i},i.sortValues=function(t){return e=t,i},i.rollup=function(t){return n=t,i},i},er.set=function(t){var e=new g;if(t)for(var n=0,i=t.length;i>n;++n)e.add(t[n]);return e},s(g,{has:h,add:function(t){return this._[c(t+="")]=!0,t},remove:d,values:p,size:f,empty:m,forEach:function(t){for(var e in this._)t.call(this,u(e))}}),er.behavior={},er.rebind=function(t,e){for(var n,i=1,o=arguments.length;++i<o;)t[n=arguments[i]]=y(t,e,e[n]);return t};var fr=["webkit","ms","moz","Moz","o","O"];er.dispatch=function(){for(var t=new x,e=-1,n=arguments.length;++e<n;)t[arguments[e]]=$(t);return t},x.prototype.on=function(t,e){var n=t.indexOf("."),i="";if(n>=0&&(i=t.slice(n+1),t=t.slice(0,n)),t)return arguments.length<2?this[t].on(i):this[t].on(i,e);if(2===arguments.length){if(null==e)for(t in this)this.hasOwnProperty(t)&&this[t].on(i,null);return this}},er.event=null,er.requote=function(t){return t.replace(mr,"\\$&")};var mr=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,gr={}.__proto__?function(t,e){t.__proto__=e}:function(t,e){for(var n in e)t[n]=e[n]},vr=function(t,e){return e.querySelector(t)},yr=function(t,e){return e.querySelectorAll(t)},_r=function(t,e){var n=t.matches||t[_(t,"matchesSelector")];return(_r=function(t,e){return n.call(t,e)})(t,e)};"function"==typeof Sizzle&&(vr=function(t,e){return Sizzle(t,e)[0]||null},yr=Sizzle,_r=Sizzle.matchesSelector),er.selection=function(){return er.select(or.documentElement)};var br=er.selection.prototype=[];br.select=function(t){var e,n,i,o,r=[];t=S(t);for(var a=-1,s=this.length;++a<s;){r.push(e=[]),e.parentNode=(i=this[a]).parentNode;for(var l=-1,c=i.length;++l<c;)(o=i[l])?(e.push(n=t.call(o,o.__data__,l,a)),n&&"__data__"in o&&(n.__data__=o.__data__)):e.push(null)}return M(r)},br.selectAll=function(t){var e,n,i=[];t=T(t);for(var o=-1,r=this.length;++o<r;)for(var a=this[o],s=-1,l=a.length;++s<l;)(n=a[s])&&(i.push(e=ir(t.call(n,n.__data__,s,o))),e.parentNode=n);return M(i)};var xr="http://www.w3.org/1999/xhtml",$r={svg:"http://www.w3.org/2000/svg",xhtml:xr,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};er.ns={prefix:$r,qualify:function(t){var e=t.indexOf(":"),n=t;return e>=0&&"xmlns"!==(n=t.slice(0,e))&&(t=t.slice(e+1)),$r.hasOwnProperty(n)?{space:$r[n],local:t}:t}},br.attr=function(t,e){if(arguments.length<2){if("string"==typeof t){var n=this.node();return(t=er.ns.qualify(t)).local?n.getAttributeNS(t.space,t.local):n.getAttribute(t)}for(e in t)this.each(A(e,t[e]));return this}return this.each(A(t,e))},br.classed=function(t,e){if(arguments.length<2){if("string"==typeof t){var n=this.node(),i=(t=E(t)).length,o=-1;if(e=n.classList){for(;++o<i;)if(!e.contains(t[o]))return!1}else for(e=n.getAttribute("class");++o<i;)if(!L(t[o]).test(e))return!1;return!0}for(e in t)this.each(N(e,t[e]));return this}return this.each(N(t,e))},br.style=function(t,n,i){var o=arguments.length;if(3>o){if("string"!=typeof t){for(i in 2>o&&(n=""),t)this.each(D(i,t[i],n));return this}if(2>o){var r=this.node();return e(r).getComputedStyle(r,null).getPropertyValue(t)}i=""}return this.each(D(t,n,i))},br.property=function(t,e){if(arguments.length<2){if("string"==typeof t)return this.node()[t];for(e in t)this.each(I(e,t[e]));return this}return this.each(I(t,e))},br.text=function(t){return arguments.length?this.each("function"==typeof t?function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}:null==t?function(){this.textContent=""}:function(){this.textContent=t}):this.node().textContent},br.html=function(t){return arguments.length?this.each("function"==typeof t?function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}:null==t?function(){this.innerHTML=""}:function(){this.innerHTML=t}):this.node().innerHTML},br.append=function(t){return t=O(t),this.select(function(){return this.appendChild(t.apply(this,arguments))})},br.insert=function(t,e){return t=O(t),e=S(e),this.select(function(){return this.insertBefore(t.apply(this,arguments),e.apply(this,arguments)||null)})},br.remove=function(){return this.each(F)},br.data=function(t,e){function n(t,n){var i,o,r,a=t.length,h=n.length,d=Math.min(a,h),p=new Array(h),f=new Array(h),m=new Array(a);if(e){var g,v=new l,y=new Array(a);for(i=-1;++i<a;)(o=t[i])&&(v.has(g=e.call(o,o.__data__,i))?m[i]=o:v.set(g,o),y[i]=g);for(i=-1;++i<h;)(o=v.get(g=e.call(n,r=n[i],i)))?!0!==o&&(p[i]=o,o.__data__=r):f[i]=j(r),v.set(g,!0);for(i=-1;++i<a;)i in y&&!0!==v.get(y[i])&&(m[i]=t[i])}else{for(i=-1;++i<d;)o=t[i],r=n[i],o?(o.__data__=r,p[i]=o):f[i]=j(r);for(;h>i;++i)f[i]=j(n[i]);for(;a>i;++i)m[i]=t[i]}f.update=p,f.parentNode=p.parentNode=m.parentNode=t.parentNode,s.push(f),c.push(p),u.push(m)}var i,o,r=-1,a=this.length;if(!arguments.length){for(t=new Array(a=(i=this[0]).length);++r<a;)(o=i[r])&&(t[r]=o.__data__);return t}var s=H([]),c=M([]),u=M([]);if("function"==typeof t)for(;++r<a;)n(i=this[r],t.call(i,i.parentNode.__data__,r));else for(;++r<a;)n(i=this[r],t);return c.enter=function(){return s},c.exit=function(){return u},c},br.datum=function(t){return arguments.length?this.property("__data__",t):this.property("__data__")},br.filter=function(t){var e,n,i,o=[];"function"!=typeof t&&(t=z(t));for(var r=0,a=this.length;a>r;r++){o.push(e=[]),e.parentNode=(n=this[r]).parentNode;for(var s=0,l=n.length;l>s;s++)(i=n[s])&&t.call(i,i.__data__,s,r)&&e.push(i)}return M(o)},br.order=function(){for(var t=-1,e=this.length;++t<e;)for(var n,i=this[t],o=i.length-1,r=i[o];--o>=0;)(n=i[o])&&(r&&r!==n.nextSibling&&r.parentNode.insertBefore(n,r),r=n);return this},br.sort=function(t){t=q.apply(this,arguments);for(var e=-1,n=this.length;++e<n;)this[e].sort(t);return this.order()},br.each=function(t){return R(this,function(e,n,i){t.call(e,e.__data__,n,i)})},br.call=function(t){var e=ir(arguments);return t.apply(e[0]=this,e),this},br.empty=function(){return!this.node()},br.node=function(){for(var t=0,e=this.length;e>t;t++)for(var n=this[t],i=0,o=n.length;o>i;i++){var r=n[i];if(r)return r}return null},br.size=function(){var t=0;return R(this,function(){++t}),t};var wr=[];er.selection.enter=H,er.selection.enter.prototype=wr,wr.append=br.append,wr.empty=br.empty,wr.node=br.node,wr.call=br.call,wr.size=br.size,wr.select=function(t){for(var e,n,i,o,r,a=[],s=-1,l=this.length;++s<l;){i=(o=this[s]).update,a.push(e=[]),e.parentNode=o.parentNode;for(var c=-1,u=o.length;++c<u;)(r=o[c])?(e.push(i[c]=n=t.call(o.parentNode,r.__data__,c,s)),n.__data__=r.__data__):e.push(null)}return M(a)},wr.insert=function(t,e){return arguments.length<2&&(e=function(t){var e,n;return function(i,o,r){var a,s=t[r].update,l=s.length;for(r!=n&&(n=r,e=0),o>=e&&(e=o+1);!(a=s[e])&&++e<l;);return a}}(this)),br.insert.call(this,t,e)},er.select=function(e){var n;return"string"==typeof e?(n=[vr(e,or)]).parentNode=or.documentElement:(n=[e]).parentNode=t(e),M([n])},er.selectAll=function(t){var e;return"string"==typeof t?(e=ir(yr(t,or))).parentNode=or.documentElement:(e=ir(t)).parentNode=null,M([e])},br.on=function(t,e,n){var i=arguments.length;if(3>i){if("string"!=typeof t){for(n in 2>i&&(e=!1),t)this.each(J(n,t[n],e));return this}if(2>i)return(i=this.node()["__on"+t])&&i._;n=!1}return this.each(J(t,e,n))};var Cr=er.map({mouseenter:"mouseover",mouseleave:"mouseout"});or&&Cr.forEach(function(t){"on"+t in or&&Cr.remove(t)});var kr,Mr=0;er.mouse=function(t){return Y(t,C())};var Sr=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;er.touch=function(t,e,n){if(arguments.length<3&&(n=e,e=C().changedTouches),e)for(var i,o=0,r=e.length;r>o;++o)if((i=e[o]).identifier===n)return Y(t,i)},er.behavior.drag=function(){function t(){this.on("mousedown.drag",r).on("touchstart.drag",a)}function n(t,e,n,r,a){return function(){var s,l=this,c=er.event.target.correspondingElement||er.event.target,u=l.parentNode,h=i.of(l,arguments),d=0,p=t(),f=".drag"+(null==p?"":"-"+p),m=er.select(n(c)).on(r+f,function(){var t,n,i=e(u,p);i&&(t=i[0]-v[0],n=i[1]-v[1],d|=t|n,v=i,h({type:"drag",x:i[0]+s[0],y:i[1]+s[1],dx:t,dy:n}))}).on(a+f,function(){e(u,p)&&(m.on(r+f,null).on(a+f,null),g(d),h({type:"dragend"}))}),g=V(c),v=e(u,p);o?s=[(s=o.apply(l,arguments)).x-v[0],s.y-v[1]]:s=[0,0],h({type:"dragstart"})}}var i=k(t,"drag","dragstart","dragend"),o=null,r=n(b,er.mouse,e,"mousemove","mouseup"),a=n(G,er.touch,v,"touchmove","touchend");return t.origin=function(e){return arguments.length?(o=e,t):o},er.rebind(t,i,"on")},er.touches=function(t,e){return arguments.length<2&&(e=C().touches),e?ir(e).map(function(e){var n=Y(t,e);return n.identifier=e.identifier,n}):[]};var Tr=1e-6,Ar=Tr*Tr,Pr=Math.PI,Lr=2*Pr,Er=Lr-Tr,Nr=Pr/2,Br=Pr/180,Dr=180/Pr,Ir=Math.SQRT2;er.interpolateZoom=function(t,e){var n,i,o=t[0],r=t[1],a=t[2],s=e[0],l=e[1],c=e[2],u=s-o,h=l-r,d=u*u+h*h;if(Ar>d)i=Math.log(c/a)/Ir,n=function(t){return[o+t*u,r+t*h,a*Math.exp(Ir*t*i)]};else{var p=Math.sqrt(d),f=(c*c-a*a+4*d)/(2*a*2*p),m=(c*c-a*a-4*d)/(2*c*2*p),g=Math.log(Math.sqrt(f*f+1)-f),v=Math.log(Math.sqrt(m*m+1)-m);i=(v-g)/Ir,n=function(t){var e=t*i,n=tt(g),s=a/(2*p)*(n*function(t){return((t=Math.exp(2*t))-1)/(t+1)}(Ir*e+g)-function(t){return((t=Math.exp(t))-1/t)/2}(g));return[o+s*u,r+s*h,a*n/tt(Ir*e+g)]}}return n.duration=1e3*i,n},er.behavior.zoom=function(){function t(t){t.on(P,u).on(Fr+".zoom",d).on("dblclick.zoom",p).on(N,h)}function n(t){return[(t[0]-C.x)/C.k,(t[1]-C.y)/C.k]}function i(t){C.k=Math.max(S[0],Math.min(S[1],t))}function o(t,e){e=function(t){return[t[0]*C.k+C.x,t[1]*C.k+C.y]}(e),C.x+=t[0]-e[0],C.y+=t[1]-e[1]}function r(e,n,r,a){e.__chart__={x:C.x,y:C.y,k:C.k},i(Math.pow(2,a)),o(m=n,r),e=er.select(e),T>0&&(e=e.transition().duration(T)),e.call(t.event)}function a(){b&&b.domain(_.range().map(function(t){return(t-C.x)/C.k}).map(_.invert)),$&&$.domain(x.range().map(function(t){return(t-C.y)/C.k}).map(x.invert))}function s(t){A++||t({type:"zoomstart"})}function l(t){a(),t({type:"zoom",scale:C.k,translate:[C.x,C.y]})}function c(t){--A||(t({type:"zoomend"}),m=null)}function u(){var t=this,i=B.of(t,arguments),r=0,a=er.select(e(t)).on(L,function(){r=1,o(er.mouse(t),u),l(i)}).on(E,function(){a.on(L,null).on(E,null),h(r),c(i)}),u=n(er.mouse(t)),h=V(t);Ls.call(t),s(i)}function h(){function t(){var t=er.touches(f);return p=C.k,t.forEach(function(t){t.identifier in g&&(g[t.identifier]=n(t))}),t}function e(){var e=er.event.target;er.select(e).on(b,a).on(x,d),$.push(e);for(var n=er.event.changedTouches,i=0,o=n.length;o>i;++i)g[n[i].identifier]=null;var s=t(),l=Date.now();if(1===s.length){if(500>l-y){var c=s[0];r(f,c,g[c.identifier],Math.floor(Math.log(C.k)/Math.LN2)+1),w()}y=l}else if(s.length>1){c=s[0];var u=s[1],h=c[0]-u[0],p=c[1]-u[1];v=h*h+p*p}}function a(){var t,e,n,r,a=er.touches(f);Ls.call(f);for(var s=0,c=a.length;c>s;++s,r=null)if(n=a[s],r=g[n.identifier]){if(e)break;t=n,e=r}if(r){var u=(u=n[0]-t[0])*u+(u=n[1]-t[1])*u,h=v&&Math.sqrt(u/v);t=[(t[0]+n[0])/2,(t[1]+n[1])/2],e=[(e[0]+r[0])/2,(e[1]+r[1])/2],i(h*p)}y=null,o(t,e),l(m)}function d(){if(er.event.touches.length){for(var e=er.event.changedTouches,n=0,i=e.length;i>n;++n)delete g[e[n].identifier];for(var o in g)return void t()}er.selectAll($).on(_,null),k.on(P,u).on(N,h),M(),c(m)}var p,f=this,m=B.of(f,arguments),g={},v=0,_=".zoom-"+er.event.changedTouches[0].identifier,b="touchmove"+_,x="touchend"+_,$=[],k=er.select(f),M=V(f);e(),s(m),k.on(P,null).on(N,e)}function d(){var t=B.of(this,arguments);v?clearTimeout(v):(Ls.call(this),f=n(m=g||er.mouse(this)),s(t)),v=setTimeout(function(){v=null,c(t)},50),w(),i(Math.pow(2,.002*Or())*C.k),o(m,f),l(t)}function p(){var t=er.mouse(this),e=Math.log(C.k)/Math.LN2;r(this,t,n(t),er.event.shiftKey?Math.ceil(e)-1:Math.floor(e)+1)}var f,m,g,v,y,_,b,x,$,C={x:0,y:0,k:1},M=[960,500],S=jr,T=250,A=0,P="mousedown.zoom",L="mousemove.zoom",E="mouseup.zoom",N="touchstart.zoom",B=k(t,"zoomstart","zoom","zoomend");return Fr||(Fr="onwheel"in or?(Or=function(){return-er.event.deltaY*(er.event.deltaMode?120:1)},"wheel"):"onmousewheel"in or?(Or=function(){return er.event.wheelDelta},"mousewheel"):(Or=function(){return-er.event.detail},"MozMousePixelScroll")),t.event=function(t){t.each(function(){var t=B.of(this,arguments),e=C;As?er.select(this).transition().each("start.zoom",function(){C=this.__chart__||{x:0,y:0,k:1},s(t)}).tween("zoom:zoom",function(){var n=M[0],i=M[1],o=m?m[0]:n/2,r=m?m[1]:i/2,a=er.interpolateZoom([(o-C.x)/C.k,(r-C.y)/C.k,n/C.k],[(o-e.x)/e.k,(r-e.y)/e.k,n/e.k]);return function(e){var i=a(e),s=n/i[2];this.__chart__=C={x:o-i[0]*s,y:r-i[1]*s,k:s},l(t)}}).each("interrupt.zoom",function(){c(t)}).each("end.zoom",function(){c(t)}):(this.__chart__=C,s(t),l(t),c(t))})},t.translate=function(e){return arguments.length?(C={x:+e[0],y:+e[1],k:C.k},a(),t):[C.x,C.y]},t.scale=function(e){return arguments.length?(C={x:C.x,y:C.y,k:null},i(+e),a(),t):C.k},t.scaleExtent=function(e){return arguments.length?(S=null==e?jr:[+e[0],+e[1]],t):S},t.center=function(e){return arguments.length?(g=e&&[+e[0],+e[1]],t):g},t.size=function(e){return arguments.length?(M=e&&[+e[0],+e[1]],t):M},t.duration=function(e){return arguments.length?(T=+e,t):T},t.x=function(e){return arguments.length?(b=e,_=e.copy(),C={x:0,y:0,k:1},t):b},t.y=function(e){return arguments.length?($=e,x=e.copy(),C={x:0,y:0,k:1},t):$},er.rebind(t,B,"on")};var Or,Fr,jr=[0,1/0];er.color=nt,nt.prototype.toString=function(){return this.rgb()+""},er.hsl=it;var zr=it.prototype=new nt;zr.brighter=function(t){return t=Math.pow(.7,arguments.length?t:1),new it(this.h,this.s,this.l/t)},zr.darker=function(t){return t=Math.pow(.7,arguments.length?t:1),new it(this.h,this.s,t*this.l)},zr.rgb=function(){return ot(this.h,this.s,this.l)},er.hcl=rt;var qr=rt.prototype=new nt;qr.brighter=function(t){return new rt(this.h,this.c,Math.min(100,this.l+Rr*(arguments.length?t:1)))},qr.darker=function(t){return new rt(this.h,this.c,Math.max(0,this.l-Rr*(arguments.length?t:1)))},qr.rgb=function(){return at(this.h,this.c,this.l).rgb()},er.lab=st;var Rr=18,Hr=.95047,Jr=1,Ur=1.08883,Wr=st.prototype=new nt;Wr.brighter=function(t){return new st(Math.min(100,this.l+Rr*(arguments.length?t:1)),this.a,this.b)},Wr.darker=function(t){return new st(Math.max(0,this.l-Rr*(arguments.length?t:1)),this.a,this.b)},Wr.rgb=function(){return lt(this.l,this.a,this.b)},er.rgb=pt;var Vr=pt.prototype=new nt;Vr.brighter=function(t){t=Math.pow(.7,arguments.length?t:1);var e=this.r,n=this.g,i=this.b,o=30;return e||n||i?(e&&o>e&&(e=o),n&&o>n&&(n=o),i&&o>i&&(i=o),new pt(Math.min(255,e/t),Math.min(255,n/t),Math.min(255,i/t))):new pt(o,o,o)},Vr.darker=function(t){return new pt((t=Math.pow(.7,arguments.length?t:1))*this.r,t*this.g,t*this.b)},Vr.hsl=function(){return yt(this.r,this.g,this.b)},Vr.toString=function(){return"#"+gt(this.r)+gt(this.g)+gt(this.b)};var Yr=er.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});Yr.forEach(function(t,e){Yr.set(t,ft(e))}),er.functor=$t,er.xhr=wt(v),er.dsv=function(t,e){function n(t,n,r){arguments.length<3&&(r=n,n=null);var a=Ct(t,e,null==n?i:o(n),r);return a.row=function(t){return arguments.length?a.response(null==(n=t)?i:o(t)):n},a}function i(t){return n.parse(t.responseText)}function o(t){return function(e){return n.parse(e.responseText,t)}}function r(e){return e.map(a).join(t)}function a(t){return s.test(t)?'"'+t.replace(/\"/g,'""')+'"':t}var s=new RegExp('["'+t+"\n]"),l=t.charCodeAt(0);return n.parse=function(t,e){var i;return n.parseRows(t,function(t,n){if(i)return i(t,n-1);var o=new Function("d","return {"+t.map(function(t,e){return JSON.stringify(t)+": d["+e+"]"}).join(",")+"}");i=e?function(t,n){return e(o(t),n)}:o})},n.parseRows=function(t,e){function n(){if(u>=c)return a;if(o)return o=!1,r;var e=u;if(34===t.charCodeAt(e)){for(var n=e;n++<c;)if(34===t.charCodeAt(n)){if(34!==t.charCodeAt(n+1))break;++n}return u=n+2,13===(i=t.charCodeAt(n+1))?(o=!0,10===t.charCodeAt(n+2)&&++u):10===i&&(o=!0),t.slice(e+1,n).replace(/""/g,'"')}for(;c>u;){var i,s=1;if(10===(i=t.charCodeAt(u++)))o=!0;else if(13===i)o=!0,10===t.charCodeAt(u)&&(++u,++s);else if(i!==l)continue;return t.slice(e,u-s)}return t.slice(e)}for(var i,o,r={},a={},s=[],c=t.length,u=0,h=0;(i=n())!==a;){for(var d=[];i!==r&&i!==a;)d.push(i),i=n();e&&null==(d=e(d,h++))||s.push(d)}return s},n.format=function(e){if(Array.isArray(e[0]))return n.formatRows(e);var i=new g,o=[];return e.forEach(function(t){for(var e in t)i.has(e)||o.push(i.add(e))}),[o.map(a).join(t)].concat(e.map(function(e){return o.map(function(t){return a(e[t])}).join(t)})).join("\n")},n.formatRows=function(t){return t.map(r).join("\n")},n},er.csv=er.dsv(",","text/csv"),er.tsv=er.dsv("\t","text/tab-separated-values");var Gr,Zr,Xr,Qr,Kr=this[_(this,"requestAnimationFrame")]||function(t){setTimeout(t,17)};er.timer=function(){kt.apply(this,arguments)},er.timer.flush=function(){St(),Tt()},er.round=function(t,e){return e?Math.round(t*(e=Math.pow(10,e)))/e:Math.round(t)};var ta=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"].map(function(t,e){var n=Math.pow(10,3*hr(8-e));return{scale:e>8?function(t){return t/n}:function(t){return t*n},symbol:t}});er.formatPrefix=function(t,e){var n=0;return(t=+t)&&(0>t&&(t*=-1),e&&(t=er.round(t,At(t,e))),n=1+Math.floor(1e-12+Math.log(t)/Math.LN10),n=Math.max(-24,Math.min(24,3*Math.floor((n-1)/3)))),ta[8+n/3]};var ea=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,na=er.map({b:function(t){return t.toString(2)},c:function(t){return String.fromCharCode(t)},o:function(t){return t.toString(8)},x:function(t){return t.toString(16)},X:function(t){return t.toString(16).toUpperCase()},g:function(t,e){return t.toPrecision(e)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},r:function(t,e){return(t=er.round(t,At(t,e))).toFixed(Math.max(0,Math.min(20,At(t*(1+1e-15),e))))}}),ia=er.time={},oa=Date;Et.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){ra.setUTCDate.apply(this._,arguments)},setDay:function(){ra.setUTCDay.apply(this._,arguments)},setFullYear:function(){ra.setUTCFullYear.apply(this._,arguments)},setHours:function(){ra.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){ra.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){ra.setUTCMinutes.apply(this._,arguments)},setMonth:function(){ra.setUTCMonth.apply(this._,arguments)},setSeconds:function(){ra.setUTCSeconds.apply(this._,arguments)},setTime:function(){ra.setTime.apply(this._,arguments)}};var ra=Date.prototype;ia.year=Nt(function(t){return(t=ia.day(t)).setMonth(0,1),t},function(t,e){t.setFullYear(t.getFullYear()+e)},function(t){return t.getFullYear()}),ia.years=ia.year.range,ia.years.utc=ia.year.utc.range,ia.day=Nt(function(t){var e=new oa(2e3,0);return e.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),e},function(t,e){t.setDate(t.getDate()+e)},function(t){return t.getDate()-1}),ia.days=ia.day.range,ia.days.utc=ia.day.utc.range,ia.dayOfYear=function(t){var e=ia.year(t);return Math.floor((t-e-6e4*(t.getTimezoneOffset()-e.getTimezoneOffset()))/864e5)},["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].forEach(function(t,e){e=7-e;var n=ia[t]=Nt(function(t){return(t=ia.day(t)).setDate(t.getDate()-(t.getDay()+e)%7),t},function(t,e){t.setDate(t.getDate()+7*Math.floor(e))},function(t){var n=ia.year(t).getDay();return Math.floor((ia.dayOfYear(t)+(n+e)%7)/7)-(n!==e)});ia[t+"s"]=n.range,ia[t+"s"].utc=n.utc.range,ia[t+"OfYear"]=function(t){var n=ia.year(t).getDay();return Math.floor((ia.dayOfYear(t)+(n+e)%7)/7)}}),ia.week=ia.sunday,ia.weeks=ia.sunday.range,ia.weeks.utc=ia.sunday.utc.range,ia.weekOfYear=ia.sundayOfYear;var aa={"-":"",_:" ",0:"0"},sa=/^\s*\d+/,la=/^%/;er.locale=function(t){return{numberFormat:Pt(t),timeFormat:Dt(t)}};var ca=er.locale({decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});er.format=ca.numberFormat,er.geo={},ee.prototype={s:0,t:0,add:function(t){ne(t,this.t,ua),ne(ua.s,this.s,this),this.s?this.t+=ua.t:this.s=ua.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var ua=new ee;er.geo.stream=function(t,e){t&&ha.hasOwnProperty(t.type)?ha[t.type](t,e):ie(t,e)};var ha={Feature:function(t,e){ie(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,i=-1,o=n.length;++i<o;)ie(n[i].geometry,e)}},da={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,i=-1,o=n.length;++i<o;)t=n[i],e.point(t[0],t[1],t[2])},LineString:function(t,e){oe(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,i=-1,o=n.length;++i<o;)oe(n[i],e,0)},Polygon:function(t,e){re(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,i=-1,o=n.length;++i<o;)re(n[i],e)},GeometryCollection:function(t,e){for(var n=t.geometries,i=-1,o=n.length;++i<o;)ie(n[i],e)}};er.geo.area=function(t){return pa=0,er.geo.stream(t,ma),pa};var pa,fa=new ee,ma={sphere:function(){pa+=4*Pr},point:b,lineStart:b,lineEnd:b,polygonStart:function(){fa.reset(),ma.lineStart=ae},polygonEnd:function(){var t=2*fa;pa+=0>t?4*Pr+t:t,ma.lineStart=ma.lineEnd=ma.point=b}};er.geo.bounds=function(){function t(t,e){_.push(b=[u=t,d=t]),h>e&&(h=e),e>p&&(p=e)}function e(e,n){var i=se([e*Br,n*Br]);if(v){var o=ce(v,i),r=ce([o[1],-o[0],0],o);de(r),r=pe(r);var a=e-f,l=a>0?1:-1,c=r[0]*Dr*l,m=hr(a)>180;if(m^(c>l*f&&l*e>c))(g=r[1]*Dr)>p&&(p=g);else if(m^((c=(c+360)%360-180)>l*f&&l*e>c)){var g=-r[1]*Dr;h>g&&(h=g)}else h>n&&(h=n),n>p&&(p=n);m?f>e?s(u,e)>s(u,d)&&(d=e):s(e,d)>s(u,d)&&(u=e):d>=u?(u>e&&(u=e),e>d&&(d=e)):e>f?s(u,e)>s(u,d)&&(d=e):s(e,d)>s(u,d)&&(u=e)}else t(e,n);v=i,f=e}function n(){x.point=e}function i(){b[0]=u,b[1]=d,x.point=t,v=null}function o(t,n){if(v){var i=t-f;y+=hr(i)>180?i+(i>0?360:-360):i}else m=t,g=n;ma.point(t,n),e(t,n)}function r(){ma.lineStart()}function a(){o(m,g),ma.lineEnd(),hr(y)>Tr&&(u=-(d=180)),b[0]=u,b[1]=d,v=null}function s(t,e){return(e-=t)<0?e+360:e}function l(t,e){return t[0]-e[0]}function c(t,e){return e[0]<=e[1]?e[0]<=t&&t<=e[1]:t<e[0]||e[1]<t}var u,h,d,p,f,m,g,v,y,_,b,x={point:t,lineStart:n,lineEnd:i,polygonStart:function(){x.point=o,x.lineStart=r,x.lineEnd=a,y=0,ma.polygonStart()},polygonEnd:function(){ma.polygonEnd(),x.point=t,x.lineStart=n,x.lineEnd=i,0>fa?(u=-(d=180),h=-(p=90)):y>Tr?p=90:-Tr>y&&(h=-90),b[0]=u,b[1]=d}};return function(t){if(p=d=-(u=h=1/0),_=[],er.geo.stream(t,x),r=_.length){_.sort(l);for(var e=1,n=[f=_[0]];r>e;++e)c((o=_[e])[0],f)||c(o[1],f)?(s(f[0],o[1])>s(f[0],f[1])&&(f[1]=o[1]),s(o[0],f[1])>s(f[0],f[1])&&(f[0]=o[0])):n.push(f=o);for(var i,o,r,a=-1/0,f=(e=0,n[r=n.length-1]);r>=e;f=o,++e)o=n[e],(i=s(f[1],o[0]))>a&&(a=i,u=o[0],d=f[1])}return _=b=null,u===1/0||h===1/0?[[NaN,NaN],[NaN,NaN]]:[[u,h],[d,p]]}}(),er.geo.centroid=function(t){ga=va=ya=_a=ba=xa=$a=wa=Ca=ka=Ma=0,er.geo.stream(t,Sa);var e=Ca,n=ka,i=Ma,o=e*e+n*n+i*i;return Ar>o&&(e=xa,n=$a,i=wa,Tr>va&&(e=ya,n=_a,i=ba),Ar>(o=e*e+n*n+i*i))?[NaN,NaN]:[Math.atan2(n,e)*Dr,K(i/Math.sqrt(o))*Dr]};var ga,va,ya,_a,ba,xa,$a,wa,Ca,ka,Ma,Sa={sphere:b,point:me,lineStart:ve,lineEnd:ye,polygonStart:function(){Sa.lineStart=_e},polygonEnd:function(){Sa.lineStart=ve}},Ta=ke(xe,function(t){var e,n=NaN,i=NaN,o=NaN;return{lineStart:function(){t.lineStart(),e=1},point:function(r,a){var s=r>0?Pr:-Pr,l=hr(r-n);hr(l-Pr)<Tr?(t.point(n,i=(i+a)/2>0?Nr:-Nr),t.point(o,i),t.lineEnd(),t.lineStart(),t.point(s,i),t.point(r,i),e=0):o!==s&&l>=Pr&&(hr(n-o)<Tr&&(n-=o*Tr),hr(r-s)<Tr&&(r-=s*Tr),i=function(t,e,n,i){var o,r,a=Math.sin(t-n);return hr(a)>Tr?Math.atan((Math.sin(e)*(r=Math.cos(i))*Math.sin(n)-Math.sin(i)*(o=Math.cos(e))*Math.sin(t))/(o*r*a)):(e+i)/2}(n,i,r,a),t.point(o,i),t.lineEnd(),t.lineStart(),t.point(s,i),e=0),t.point(n=r,i=a),o=s},lineEnd:function(){t.lineEnd(),n=i=NaN},clean:function(){return 2-e}}},function(t,e,n,i){var o;if(null==t)o=n*Nr,i.point(-Pr,o),i.point(0,o),i.point(Pr,o),i.point(Pr,0),i.point(Pr,-o),i.point(0,-o),i.point(-Pr,-o),i.point(-Pr,0),i.point(-Pr,o);else if(hr(t[0]-e[0])>Tr){var r=t[0]<e[0]?Pr:-Pr;o=n*r/2,i.point(-r,o),i.point(0,o),i.point(r,o)}else i.point(e[0],e[1])},[-Pr,-Pr/2]),Aa=1e9;er.geo.clipExtent=function(){var t,e,n,i,o,r,a={stream:function(t){return o&&(o.valid=!1),(o=r(t)).valid=!0,o},extent:function(s){return arguments.length?(r=Pe(t=+s[0][0],e=+s[0][1],n=+s[1][0],i=+s[1][1]),o&&(o.valid=!1,o=null),a):[[t,e],[n,i]]}};return a.extent([[0,0],[960,500]])},(er.geo.conicEqualArea=function(){return Le(Ee)}).raw=Ee,er.geo.albers=function(){return er.geo.conicEqualArea().rotate([96,0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070)},er.geo.albersUsa=function(){function t(t){var r=t[0],a=t[1];return e=null,n(r,a),e||(i(r,a),e)||o(r,a),e}var e,n,i,o,r=er.geo.albers(),a=er.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),s=er.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),l={point:function(t,n){e=[t,n]}};return t.invert=function(t){var e=r.scale(),n=r.translate(),i=(t[0]-n[0])/e,o=(t[1]-n[1])/e;return(o>=.12&&.234>o&&i>=-.425&&-.214>i?a:o>=.166&&.234>o&&i>=-.214&&-.115>i?s:r).invert(t)},t.stream=function(t){var e=r.stream(t),n=a.stream(t),i=s.stream(t);return{point:function(t,o){e.point(t,o),n.point(t,o),i.point(t,o)},sphere:function(){e.sphere(),n.sphere(),i.sphere()},lineStart:function(){e.lineStart(),n.lineStart(),i.lineStart()},lineEnd:function(){e.lineEnd(),n.lineEnd(),i.lineEnd()},polygonStart:function(){e.polygonStart(),n.polygonStart(),i.polygonStart()},polygonEnd:function(){e.polygonEnd(),n.polygonEnd(),i.polygonEnd()}}},t.precision=function(e){return arguments.length?(r.precision(e),a.precision(e),s.precision(e),t):r.precision()},t.scale=function(e){return arguments.length?(r.scale(e),a.scale(.35*e),s.scale(e),t.translate(r.translate())):r.scale()},t.translate=function(e){if(!arguments.length)return r.translate();var c=r.scale(),u=+e[0],h=+e[1];return n=r.translate(e).clipExtent([[u-.455*c,h-.238*c],[u+.455*c,h+.238*c]]).stream(l).point,i=a.translate([u-.307*c,h+.201*c]).clipExtent([[u-.425*c+Tr,h+.12*c+Tr],[u-.214*c-Tr,h+.234*c-Tr]]).stream(l).point,o=s.translate([u-.205*c,h+.212*c]).clipExtent([[u-.214*c+Tr,h+.166*c+Tr],[u-.115*c-Tr,h+.234*c-Tr]]).stream(l).point,t},t.scale(1070)};var Pa,La,Ea,Na,Ba,Da,Ia={point:b,lineStart:b,lineEnd:b,polygonStart:function(){La=0,Ia.lineStart=Ne},polygonEnd:function(){Ia.lineStart=Ia.lineEnd=Ia.point=b,Pa+=hr(La/2)}},Oa={point:function(t,e){Ea>t&&(Ea=t),t>Ba&&(Ba=t),Na>e&&(Na=e),e>Da&&(Da=e)},lineStart:b,lineEnd:b,polygonStart:b,polygonEnd:b},Fa={point:Ie,lineStart:Oe,lineEnd:Fe,polygonStart:function(){Fa.lineStart=je},polygonEnd:function(){Fa.point=Ie,Fa.lineStart=Oe,Fa.lineEnd=Fe}};er.geo.path=function(){function t(t){return t&&("function"==typeof s&&r.pointRadius(+s.apply(this,arguments)),a&&a.valid||(a=o(r)),er.geo.stream(t,a)),r.result()}function e(){return a=null,t}var n,i,o,r,a,s=4.5;return t.area=function(t){return Pa=0,er.geo.stream(t,o(Ia)),Pa},t.centroid=function(t){return ya=_a=ba=xa=$a=wa=Ca=ka=Ma=0,er.geo.stream(t,o(Fa)),Ma?[Ca/Ma,ka/Ma]:wa?[xa/wa,$a/wa]:ba?[ya/ba,_a/ba]:[NaN,NaN]},t.bounds=function(t){return Ba=Da=-(Ea=Na=1/0),er.geo.stream(t,o(Oa)),[[Ea,Na],[Ba,Da]]},t.projection=function(t){return arguments.length?(o=(n=t)?t.stream||function(t){var e=qe(function(e,n){return t([e*Dr,n*Dr])});return function(t){return We(e(t))}}(t):v,e()):n},t.context=function(t){return arguments.length?(r=null==(i=t)?new Be:new ze(t),"function"!=typeof s&&r.pointRadius(s),e()):i},t.pointRadius=function(e){return arguments.length?(s="function"==typeof e?e:(r.pointRadius(+e),+e),t):s},t.projection(er.geo.albersUsa()).context(null)},er.geo.transform=function(t){return{stream:function(e){var n=new Re(e);for(var i in t)n[i]=t[i];return n}}},Re.prototype={point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}},er.geo.projection=Je,er.geo.projectionMutator=Ue,(er.geo.equirectangular=function(){return Je(Ve)}).raw=Ve.invert=Ve,er.geo.rotation=function(t){function e(e){return(e=t(e[0]*Br,e[1]*Br))[0]*=Dr,e[1]*=Dr,e}return t=Ge(t[0]%360*Br,t[1]*Br,t.length>2?t[2]*Br:0),e.invert=function(e){return(e=t.invert(e[0]*Br,e[1]*Br))[0]*=Dr,e[1]*=Dr,e},e},Ye.invert=Ve,er.geo.circle=function(){function t(){var t="function"==typeof i?i.apply(this,arguments):i,e=Ge(-t[0]*Br,-t[1]*Br,0).invert,o=[];return n(null,null,1,{point:function(t,n){o.push(t=e(t,n)),t[0]*=Dr,t[1]*=Dr}}),{type:"Polygon",coordinates:[o]}}var e,n,i=[0,0],o=6;return t.origin=function(e){return arguments.length?(i=e,t):i},t.angle=function(i){return arguments.length?(n=Ke((e=+i)*Br,o*Br),t):e},t.precision=function(i){return arguments.length?(n=Ke(e*Br,(o=+i)*Br),t):o},t.angle(90)},er.geo.distance=function(t,e){var n,i=(e[0]-t[0])*Br,o=t[1]*Br,r=e[1]*Br,a=Math.sin(i),s=Math.cos(i),l=Math.sin(o),c=Math.cos(o),u=Math.sin(r),h=Math.cos(r);return Math.atan2(Math.sqrt((n=h*a)*n+(n=c*u-l*h*s)*n),l*u+c*h*s)},er.geo.graticule=function(){function t(){return{type:"MultiLineString",coordinates:e()}}function e(){return er.range(Math.ceil(r/g)*g,o,g).map(d).concat(er.range(Math.ceil(c/v)*v,l,v).map(p)).concat(er.range(Math.ceil(i/f)*f,n,f).filter(function(t){return hr(t%g)>Tr}).map(u)).concat(er.range(Math.ceil(s/m)*m,a,m).filter(function(t){return hr(t%v)>Tr}).map(h))}var n,i,o,r,a,s,l,c,u,h,d,p,f=10,m=f,g=90,v=360,y=2.5;return t.lines=function(){return e().map(function(t){return{type:"LineString",coordinates:t}})},t.outline=function(){return{type:"Polygon",coordinates:[d(r).concat(p(l).slice(1),d(o).reverse().slice(1),p(c).reverse().slice(1))]}},t.extent=function(e){return arguments.length?t.majorExtent(e).minorExtent(e):t.minorExtent()},t.majorExtent=function(e){return arguments.length?(r=+e[0][0],o=+e[1][0],c=+e[0][1],l=+e[1][1],r>o&&(e=r,r=o,o=e),c>l&&(e=c,c=l,l=e),t.precision(y)):[[r,c],[o,l]]},t.minorExtent=function(e){return arguments.length?(i=+e[0][0],n=+e[1][0],s=+e[0][1],a=+e[1][1],i>n&&(e=i,i=n,n=e),s>a&&(e=s,s=a,a=e),t.precision(y)):[[i,s],[n,a]]},t.step=function(e){return arguments.length?t.majorStep(e).minorStep(e):t.minorStep()},t.majorStep=function(e){return arguments.length?(g=+e[0],v=+e[1],t):[g,v]},t.minorStep=function(e){return arguments.length?(f=+e[0],m=+e[1],t):[f,m]},t.precision=function(e){return arguments.length?(y=+e,u=en(s,a,90),h=nn(i,n,y),d=en(c,l,90),p=nn(r,o,y),t):y},t.majorExtent([[-180,-90+Tr],[180,90-Tr]]).minorExtent([[-180,-80-Tr],[180,80+Tr]])},er.geo.greatArc=function(){function t(){return{type:"LineString",coordinates:[e||i.apply(this,arguments),n||o.apply(this,arguments)]}}var e,n,i=on,o=rn;return t.distance=function(){return er.geo.distance(e||i.apply(this,arguments),n||o.apply(this,arguments))},t.source=function(n){return arguments.length?(i=n,e="function"==typeof n?null:n,t):i},t.target=function(e){return arguments.length?(o=e,n="function"==typeof e?null:e,t):o},t.precision=function(){return arguments.length?t:0},t},er.geo.interpolate=function(t,e){return function(t,e,n,i){var o=Math.cos(e),r=Math.sin(e),a=Math.cos(i),s=Math.sin(i),l=o*Math.cos(t),c=o*Math.sin(t),u=a*Math.cos(n),h=a*Math.sin(n),d=2*Math.asin(Math.sqrt(et(i-e)+o*a*et(n-t))),p=1/Math.sin(d),f=d?function(t){var e=Math.sin(t*=d)*p,n=Math.sin(d-t)*p,i=n*l+e*u,o=n*c+e*h,a=n*r+e*s;return[Math.atan2(o,i)*Dr,Math.atan2(a,Math.sqrt(i*i+o*o))*Dr]}:function(){return[t*Dr,e*Dr]};return f.distance=d,f}(t[0]*Br,t[1]*Br,e[0]*Br,e[1]*Br)},er.geo.length=function(t){return ja=0,er.geo.stream(t,za),ja};var ja,za={sphere:b,point:b,lineStart:function(){function t(t,o){var r=Math.sin(o*=Br),a=Math.cos(o),s=hr((t*=Br)-e),l=Math.cos(s);ja+=Math.atan2(Math.sqrt((s=a*Math.sin(s))*s+(s=i*r-n*a*l)*s),n*r+i*a*l),e=t,n=r,i=a}var e,n,i;za.point=function(o,r){e=o*Br,n=Math.sin(r*=Br),i=Math.cos(r),za.point=t},za.lineEnd=function(){za.point=za.lineEnd=b}},lineEnd:b,polygonStart:b,polygonEnd:b},qa=an(function(t){return Math.sqrt(2/(1+t))},function(t){return 2*Math.asin(t/2)});(er.geo.azimuthalEqualArea=function(){return Je(qa)}).raw=qa;var Ra=an(function(t){var e=Math.acos(t);return e&&e/Math.sin(e)},v);(er.geo.azimuthalEquidistant=function(){return Je(Ra)}).raw=Ra,(er.geo.conicConformal=function(){return Le(sn)}).raw=sn,(er.geo.conicEquidistant=function(){return Le(ln)}).raw=ln;var Ha=an(function(t){return 1/t},Math.atan);(er.geo.gnomonic=function(){return Je(Ha)}).raw=Ha,cn.invert=function(t,e){return[t,2*Math.atan(Math.exp(e))-Nr]},(er.geo.mercator=function(){return un(cn)}).raw=cn;var Ja=an(function(){return 1},Math.asin);(er.geo.orthographic=function(){return Je(Ja)}).raw=Ja;var Ua=an(function(t){return 1/(1+t)},function(t){return 2*Math.atan(t)});(er.geo.stereographic=function(){return Je(Ua)}).raw=Ua,hn.invert=function(t,e){return[-e,2*Math.atan(Math.exp(t))-Nr]},(er.geo.transverseMercator=function(){var t=un(hn),e=t.center,n=t.rotate;return t.center=function(t){return t?e([-t[1],t[0]]):[(t=e())[1],-t[0]]},t.rotate=function(t){return t?n([t[0],t[1],t.length>2?t[2]+90:90]):[(t=n())[0],t[1],t[2]-90]},n([0,0,90])}).raw=hn,er.geom={},er.geom.hull=function(t){function e(t){if(t.length<3)return[];var e,o=$t(n),r=$t(i),a=t.length,s=[],l=[];for(e=0;a>e;e++)s.push([+o.call(this,t[e],e),+r.call(this,t[e],e),e]);for(s.sort(mn),e=0;a>e;e++)l.push([s[e][0],-s[e][1]]);var c=fn(s),u=fn(l),h=u[0]===c[0],d=u[u.length-1]===c[c.length-1],p=[];for(e=c.length-1;e>=0;--e)p.push(t[s[c[e]][2]]);for(e=+h;e<u.length-d;++e)p.push(t[s[u[e]][2]]);return p}var n=dn,i=pn;return arguments.length?e(t):(e.x=function(t){return arguments.length?(n=t,e):n},e.y=function(t){return arguments.length?(i=t,e):i},e)},er.geom.polygon=function(t){return gr(t,Wa),t};var Wa=er.geom.polygon.prototype=[];Wa.area=function(){for(var t,e=-1,n=this.length,i=this[n-1],o=0;++e<n;)t=i,i=this[e],o+=t[1]*i[0]-t[0]*i[1];return.5*o},Wa.centroid=function(t){var e,n,i=-1,o=this.length,r=0,a=0,s=this[o-1];for(arguments.length||(t=-1/(6*this.area()));++i<o;)e=s,s=this[i],n=e[0]*s[1]-s[0]*e[1],r+=(e[0]+s[0])*n,a+=(e[1]+s[1])*n;return[r*t,a*t]},Wa.clip=function(t){for(var e,n,i,o,r,a,s=yn(t),l=-1,c=this.length-yn(this),u=this[c-1];++l<c;){for(e=t.slice(),t.length=0,o=this[l],r=e[(i=e.length-s)-1],n=-1;++n<i;)gn(a=e[n],u,o)?(gn(r,u,o)||t.push(vn(r,a,u,o)),t.push(a)):gn(r,u,o)&&t.push(vn(r,a,u,o)),r=a;s&&t.push(t[0]),u=o}return t};var Va,Ya,Ga,Za,Xa,Qa=[],Ka=[];Mn.prototype.prepare=function(){for(var t,e=this.edges,n=e.length;n--;)(t=e[n].edge).b&&t.a||e.splice(n,1);return e.sort(Sn),e.length},In.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},On.prototype={insert:function(t,e){var n,i,o;if(t){if(e.P=t,e.N=t.N,t.N&&(t.N.P=e),t.N=e,t.R){for(t=t.R;t.L;)t=t.L;t.L=e}else t.R=e;n=t}else this._?(t=qn(this._),e.P=null,e.N=t,t.P=t.L=e,n=t):(e.P=e.N=null,this._=e,n=null);for(e.L=e.R=null,e.U=n,e.C=!0,t=e;n&&n.C;)n===(i=n.U).L?(o=i.R)&&o.C?(n.C=o.C=!1,i.C=!0,t=i):(t===n.R&&(jn(this,n),n=(t=n).U),n.C=!1,i.C=!0,zn(this,i)):(o=i.L)&&o.C?(n.C=o.C=!1,i.C=!0,t=i):(t===n.L&&(zn(this,n),n=(t=n).U),n.C=!1,i.C=!0,jn(this,i)),n=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var e,n,i,o=t.U,r=t.L,a=t.R;if(n=r?a?qn(a):r:a,o?o.L===t?o.L=n:o.R=n:this._=n,r&&a?(i=n.C,n.C=t.C,n.L=r,r.U=n,n!==a?(o=n.U,n.U=t.U,t=n.R,o.L=t,n.R=a,a.U=n):(n.U=o,o=n,t=n.R)):(i=t.C,t=n),t&&(t.U=o),!i){if(t&&t.C)return void(t.C=!1);do{if(t===this._)break;if(t===o.L){if((e=o.R).C&&(e.C=!1,o.C=!0,jn(this,o),e=o.R),e.L&&e.L.C||e.R&&e.R.C){e.R&&e.R.C||(e.L.C=!1,e.C=!0,zn(this,e),e=o.R),e.C=o.C,o.C=e.R.C=!1,jn(this,o),t=this._;break}}else if((e=o.L).C&&(e.C=!1,o.C=!0,zn(this,o),e=o.L),e.L&&e.L.C||e.R&&e.R.C){e.L&&e.L.C||(e.R.C=!1,e.C=!0,jn(this,e),e=o.L),e.C=o.C,o.C=e.L.C=!1,zn(this,o),t=this._;break}e.C=!0,t=o,o=o.U}while(!t.C);t&&(t.C=!1)}}},er.geom.voronoi=function(t){function e(t){var e=new Array(t.length),i=s[0][0],o=s[0][1],r=s[1][0],a=s[1][1];return Rn(n(t),s).cells.forEach(function(n,s){var l=n.edges,c=n.site;(e[s]=l.length?l.map(function(t){var e=t.start();return[e.x,e.y]}):c.x>=i&&c.x<=r&&c.y>=o&&c.y<=a?[[i,a],[r,a],[r,o],[i,o]]:[]).point=t[s]}),e}function n(t){return t.map(function(t,e){return{x:Math.round(r(t,e)/Tr)*Tr,y:Math.round(a(t,e)/Tr)*Tr,i:e}})}var i=dn,o=pn,r=i,a=o,s=ts;return t?e(t):(e.links=function(t){return Rn(n(t)).edges.filter(function(t){return t.l&&t.r}).map(function(e){return{source:t[e.l.i],target:t[e.r.i]}})},e.triangles=function(t){var e=[];return Rn(n(t)).cells.forEach(function(n,i){for(var o,r=n.site,a=n.edges.sort(Sn),s=-1,l=a.length,c=a[l-1].edge,u=c.l===r?c.r:c.l;++s<l;)c,o=u,u=(c=a[s].edge).l===r?c.r:c.l,i<o.i&&i<u.i&&Jn(r,o,u)<0&&e.push([t[i],t[o.i],t[u.i]])}),e},e.x=function(t){return arguments.length?(r=$t(i=t),e):i},e.y=function(t){return arguments.length?(a=$t(o=t),e):o},e.clipExtent=function(t){return arguments.length?(s=null==t?ts:t,e):s===ts?null:s},e.size=function(t){return arguments.length?e.clipExtent(t&&[[0,0],t]):s===ts?null:s&&s[1]},e)};var ts=[[-1e6,-1e6],[1e6,1e6]];er.geom.delaunay=function(t){return er.geom.voronoi().triangles(t)},er.geom.quadtree=function(t,e,n,i,o){function r(t){function r(t,e,n,i,o,r,a,s){if(!isNaN(n)&&!isNaN(i))if(t.leaf){var l=t.x,u=t.y;if(null!=l)if(hr(l-n)+hr(u-i)<.01)c(t,e,n,i,o,r,a,s);else{var h=t.point;t.x=t.y=t.point=null,c(t,h,l,u,o,r,a,s),c(t,e,n,i,o,r,a,s)}else t.x=n,t.y=i,t.point=e}else c(t,e,n,i,o,r,a,s)}function c(t,e,n,i,o,a,s,l){var c=.5*(o+s),u=.5*(a+l),h=n>=c,d=i>=u,p=d<<1|h;t.leaf=!1,h?o=c:s=c,d?a=u:l=u,r(t=t.nodes[p]||(t.nodes[p]={leaf:!0,nodes:[],point:null,x:null,y:null}),e,n,i,o,a,s,l)}var u,h,d,p,f,m,g,v,y,_=$t(s),b=$t(l);if(null!=e)m=e,g=n,v=i,y=o;else if(v=y=-(m=g=1/0),h=[],d=[],f=t.length,a)for(p=0;f>p;++p)(u=t[p]).x<m&&(m=u.x),u.y<g&&(g=u.y),u.x>v&&(v=u.x),u.y>y&&(y=u.y),h.push(u.x),d.push(u.y);else for(p=0;f>p;++p){var x=+_(u=t[p],p),$=+b(u,p);m>x&&(m=x),g>$&&(g=$),x>v&&(v=x),$>y&&(y=$),h.push(x),d.push($)}var w=v-m,C=y-g;w>C?y=g+w:v=m+C;var k={leaf:!0,nodes:[],point:null,x:null,y:null,add:function(t){r(k,t,+_(t,++p),+b(t,p),m,g,v,y)}};if(k.visit=function(t){!function t(e,n,i,o,r,a){if(!e(n,i,o,r,a)){var s=.5*(i+r),l=.5*(o+a),c=n.nodes;c[0]&&t(e,c[0],i,o,s,l),c[1]&&t(e,c[1],s,o,r,l),c[2]&&t(e,c[2],i,l,s,a),c[3]&&t(e,c[3],s,l,r,a)}}(t,k,m,g,v,y)},k.find=function(t){return function(t,e,n,i,o,r,a){var s,l=1/0;return function t(c,u,h,d,p){if(!(u>r||h>a||i>d||o>p)){if(f=c.point){var f,m=e-c.x,g=n-c.y,v=m*m+g*g;if(l>v){var y=Math.sqrt(l=v);i=e-y,o=n-y,r=e+y,a=n+y,s=f}}for(var _=c.nodes,b=.5*(u+d),x=.5*(h+p),$=(n>=x)<<1|e>=b,w=$+4;w>$;++$)if(c=_[3&$])switch(3&$){case 0:t(c,u,h,b,x);break;case 1:t(c,b,h,d,x);break;case 2:t(c,u,x,b,p);break;case 3:t(c,b,x,d,p)}}}(t,i,o,r,a),s}(k,t[0],t[1],m,g,v,y)},p=-1,null==e){for(;++p<f;)r(k,t[p],h[p],d[p],m,g,v,y);--p}else t.forEach(k.add);return h=d=t=u=null,k}var a,s=dn,l=pn;return(a=arguments.length)?(s=Un,l=Wn,3===a&&(o=n,i=e,n=e=0),r(t)):(r.x=function(t){return arguments.length?(s=t,r):s},r.y=function(t){return arguments.length?(l=t,r):l},r.extent=function(t){return arguments.length?(null==t?e=n=i=o=null:(e=+t[0][0],n=+t[0][1],i=+t[1][0],o=+t[1][1]),r):null==e?null:[[e,n],[i,o]]},r.size=function(t){return arguments.length?(null==t?e=n=i=o=null:(e=n=0,i=+t[0],o=+t[1]),r):null==e?null:[i-e,o-n]},r)},er.interpolateRgb=Vn,er.interpolateObject=Yn,er.interpolateNumber=Gn,er.interpolateString=Zn;var es=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ns=new RegExp(es.source,"g");er.interpolate=Xn,er.interpolators=[function(t,e){var n=typeof e;return("string"===n?Yr.has(e.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(e)?Vn:Zn:e instanceof nt?Vn:Array.isArray(e)?Qn:"object"===n&&isNaN(e)?Yn:Gn)(t,e)}],er.interpolateArray=Qn;var is=function(){return v},os=er.map({linear:is,poly:function(t){return function(e){return Math.pow(e,t)}},quad:function(){return ei},cubic:function(){return ni},sin:function(){return oi},exp:function(){return ri},circle:function(){return ai},elastic:function(t,e){var n;return arguments.length<2&&(e=.45),arguments.length?n=e/Lr*Math.asin(1/t):(t=1,n=e/4),function(i){return 1+t*Math.pow(2,-10*i)*Math.sin((i-n)*Lr/e)}},back:function(t){return t||(t=1.70158),function(e){return e*e*((t+1)*e-t)}},bounce:function(){return si}}),rs=er.map({in:v,out:Kn,"in-out":ti,"out-in":function(t){return ti(Kn(t))}});er.ease=function(t){var e=t.indexOf("-"),n=e>=0?t.slice(0,e):t,i=e>=0?t.slice(e+1):"in";return n=os.get(n)||is,function(t){return function(e){return 0>=e?0:e>=1?1:t(e)}}((i=rs.get(i)||v)(n.apply(null,nr.call(arguments,1))))},er.interpolateHcl=function(t,e){t=er.hcl(t),e=er.hcl(e);var n=t.h,i=t.c,o=t.l,r=e.h-n,a=e.c-i,s=e.l-o;return isNaN(a)&&(a=0,i=isNaN(i)?e.c:i),isNaN(r)?(r=0,n=isNaN(n)?e.h:n):r>180?r-=360:-180>r&&(r+=360),function(t){return at(n+r*t,i+a*t,o+s*t)+""}},er.interpolateHsl=function(t,e){t=er.hsl(t),e=er.hsl(e);var n=t.h,i=t.s,o=t.l,r=e.h-n,a=e.s-i,s=e.l-o;return isNaN(a)&&(a=0,i=isNaN(i)?e.s:i),isNaN(r)?(r=0,n=isNaN(n)?e.h:n):r>180?r-=360:-180>r&&(r+=360),function(t){return ot(n+r*t,i+a*t,o+s*t)+""}},er.interpolateLab=function(t,e){t=er.lab(t),e=er.lab(e);var n=t.l,i=t.a,o=t.b,r=e.l-n,a=e.a-i,s=e.b-o;return function(t){return lt(n+r*t,i+a*t,o+s*t)+""}},er.interpolateRound=li,er.transform=function(t){var e=or.createElementNS(er.ns.prefix.svg,"g");return(er.transform=function(t){if(null!=t){e.setAttribute("transform",t);var n=e.transform.baseVal.consolidate()}return new ci(n?n.matrix:as)})(t)},ci.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var as={a:1,b:0,c:0,d:1,e:0,f:0};er.interpolateTransform=pi,er.layout={},er.layout.bundle=function(){return function(t){for(var e=[],n=-1,i=t.length;++n<i;)e.push(gi(t[n]));return e}},er.layout.chord=function(){function t(){var t,c,h,d,p,f={},m=[],g=er.range(r),v=[];for(n=[],i=[],t=0,d=-1;++d<r;){for(c=0,p=-1;++p<r;)c+=o[d][p];m.push(c),v.push(er.range(r)),t+=c}for(a&&g.sort(function(t,e){return a(m[t],m[e])}),s&&v.forEach(function(t,e){t.sort(function(t,n){return s(o[e][t],o[e][n])})}),t=(Lr-u*r)/t,c=0,d=-1;++d<r;){for(h=c,p=-1;++p<r;){var y=g[d],_=v[y][p],b=o[y][_],x=c,$=c+=b*t;f[y+"-"+_]={index:y,subindex:_,startAngle:x,endAngle:$,value:b}}i[y]={index:y,startAngle:h,endAngle:c,value:m[y]},c+=u}for(d=-1;++d<r;)for(p=d-1;++p<r;){var w=f[d+"-"+p],C=f[p+"-"+d];(w.value||C.value)&&n.push(w.value<C.value?{source:C,target:w}:{source:w,target:C})}l&&e()}function e(){n.sort(function(t,e){return l((t.source.value+t.target.value)/2,(e.source.value+e.target.value)/2)})}var n,i,o,r,a,s,l,c={},u=0;return c.matrix=function(t){return arguments.length?(r=(o=t)&&o.length,n=i=null,c):o},c.padding=function(t){return arguments.length?(u=t,n=i=null,c):u},c.sortGroups=function(t){return arguments.length?(a=t,n=i=null,c):a},c.sortSubgroups=function(t){return arguments.length?(s=t,n=null,c):s},c.sortChords=function(t){return arguments.length?(l=t,n&&e(),c):l},c.chords=function(){return n||t(),n},c.groups=function(){return i||t(),i},c},er.layout.force=function(){function t(t){return function(e,n,i,o){if(e.point!==t){var r=e.cx-t.x,a=e.cy-t.y,s=o-n,l=r*r+a*a;if(l>s*s/y){if(m>l){var c=e.charge/l;t.px-=r*c,t.py-=a*c}return!0}if(e.point&&l&&m>l){c=e.pointCharge/l;t.px-=r*c,t.py-=a*c}}return!e.charge}}function e(t){t.px=er.event.x,t.py=er.event.y,l.resume()}var n,i,o,r,a,s,l={},c=er.dispatch("start","tick","end"),u=[1,1],h=.9,d=ss,p=ls,f=-30,m=cs,g=.1,y=.64,_=[],b=[];return l.tick=function(){if((o*=.99)<.005)return n=null,c.end({type:"end",alpha:o=0}),!0;var e,i,l,d,p,m,v,y,x,$=_.length,w=b.length;for(i=0;w>i;++i)d=(l=b[i]).source,(m=(y=(p=l.target).x-d.x)*y+(x=p.y-d.y)*x)&&(y*=m=o*a[i]*((m=Math.sqrt(m))-r[i])/m,x*=m,p.x-=y*(v=d.weight+p.weight?d.weight/(d.weight+p.weight):.5),p.y-=x*v,d.x+=y*(v=1-v),d.y+=x*v);if((v=o*g)&&(y=u[0]/2,x=u[1]/2,i=-1,v))for(;++i<$;)(l=_[i]).x+=(y-l.x)*v,l.y+=(x-l.y)*v;if(f)for(function t(e,n,i){var o=0,r=0;if(e.charge=0,!e.leaf)for(var a,s=e.nodes,l=s.length,c=-1;++c<l;)null!=(a=s[c])&&(t(a,n,i),e.charge+=a.charge,o+=a.charge*a.cx,r+=a.charge*a.cy);if(e.point){e.leaf||(e.point.x+=Math.random()-.5,e.point.y+=Math.random()-.5);var u=n*i[e.point.index];e.charge+=e.pointCharge=u,o+=u*e.point.x,r+=u*e.point.y}e.cx=o/e.charge,e.cy=r/e.charge}(e=er.geom.quadtree(_),o,s),i=-1;++i<$;)(l=_[i]).fixed||e.visit(t(l));for(i=-1;++i<$;)(l=_[i]).fixed?(l.x=l.px,l.y=l.py):(l.x-=(l.px-(l.px=l.x))*h,l.y-=(l.py-(l.py=l.y))*h);c.tick({type:"tick",alpha:o})},l.nodes=function(t){return arguments.length?(_=t,l):_},l.links=function(t){return arguments.length?(b=t,l):b},l.size=function(t){return arguments.length?(u=t,l):u},l.linkDistance=function(t){return arguments.length?(d="function"==typeof t?t:+t,l):d},l.distance=l.linkDistance,l.linkStrength=function(t){return arguments.length?(p="function"==typeof t?t:+t,l):p},l.friction=function(t){return arguments.length?(h=+t,l):h},l.charge=function(t){return arguments.length?(f="function"==typeof t?t:+t,l):f},l.chargeDistance=function(t){return arguments.length?(m=t*t,l):Math.sqrt(m)},l.gravity=function(t){return arguments.length?(g=+t,l):g},l.theta=function(t){return arguments.length?(y=t*t,l):Math.sqrt(y)},l.alpha=function(t){return arguments.length?(t=+t,o?t>0?o=t:(n.c=null,n.t=NaN,n=null,c.end({type:"end",alpha:o=0})):t>0&&(c.start({type:"start",alpha:o=t}),n=kt(l.tick)),l):o},l.start=function(){function t(t,i){if(!n){for(n=new Array(o),l=0;o>l;++l)n[l]=[];for(l=0;c>l;++l){var r=b[l];n[r.source.index].push(r.target),n[r.target.index].push(r.source)}}for(var a,s=n[e],l=-1,u=s.length;++l<u;)if(!isNaN(a=s[l][t]))return a;return Math.random()*i}var e,n,i,o=_.length,c=b.length,h=u[0],m=u[1];for(e=0;o>e;++e)(i=_[e]).index=e,i.weight=0;for(e=0;c>e;++e)"number"==typeof(i=b[e]).source&&(i.source=_[i.source]),"number"==typeof i.target&&(i.target=_[i.target]),++i.source.weight,++i.target.weight;for(e=0;o>e;++e)i=_[e],isNaN(i.x)&&(i.x=t("x",h)),isNaN(i.y)&&(i.y=t("y",m)),isNaN(i.px)&&(i.px=i.x),isNaN(i.py)&&(i.py=i.y);if(r=[],"function"==typeof d)for(e=0;c>e;++e)r[e]=+d.call(this,b[e],e);else for(e=0;c>e;++e)r[e]=d;if(a=[],"function"==typeof p)for(e=0;c>e;++e)a[e]=+p.call(this,b[e],e);else for(e=0;c>e;++e)a[e]=p;if(s=[],"function"==typeof f)for(e=0;o>e;++e)s[e]=+f.call(this,_[e],e);else for(e=0;o>e;++e)s[e]=f;return l.resume()},l.resume=function(){return l.alpha(.1)},l.stop=function(){return l.alpha(0)},l.drag=function(){return i||(i=er.behavior.drag().origin(v).on("dragstart.force",yi).on("drag.force",e).on("dragend.force",_i)),arguments.length?void this.on("mouseover.force",bi).on("mouseout.force",xi).call(i):i},er.rebind(l,c,"on")};var ss=20,ls=1,cs=1/0;er.layout.hierarchy=function(){function t(o){var r,a=[o],s=[];for(o.depth=0;null!=(r=a.pop());)if(s.push(r),(c=n.call(t,r,r.depth))&&(l=c.length)){for(var l,c,u;--l>=0;)a.push(u=c[l]),u.parent=r,u.depth=r.depth+1;i&&(r.value=0),r.children=c}else i&&(r.value=+i.call(t,r,r.depth)||0),delete r.children;return Ci(o,function(t){var n,o;e&&(n=t.children)&&n.sort(e),i&&(o=t.parent)&&(o.value+=t.value)}),s}var e=Si,n=ki,i=Mi;return t.sort=function(n){return arguments.length?(e=n,t):e},t.children=function(e){return arguments.length?(n=e,t):n},t.value=function(e){return arguments.length?(i=e,t):i},t.revalue=function(e){return i&&(wi(e,function(t){t.children&&(t.value=0)}),Ci(e,function(e){var n;e.children||(e.value=+i.call(t,e,e.depth)||0),(n=e.parent)&&(n.value+=e.value)})),e},t},er.layout.partition=function(){function t(t,i){var o=e.call(this,t,i);return function t(e,n,i,o){var r=e.children;if(e.x=n,e.y=e.depth*o,e.dx=i,e.dy=o,r&&(a=r.length)){var a,s,l,c=-1;for(i=e.value?i/e.value:0;++c<a;)t(s=r[c],n,l=s.value*i,o),n+=l}}(o[0],0,n[0],n[1]/function t(e){var n=e.children,i=0;if(n&&(o=n.length))for(var o,r=-1;++r<o;)i=Math.max(i,t(n[r]));return 1+i}(o[0])),o}var e=er.layout.hierarchy(),n=[1,1];return t.size=function(e){return arguments.length?(n=e,t):n},$i(t,e)},er.layout.pie=function(){function t(a){var s,l=a.length,c=a.map(function(n,i){return+e.call(t,n,i)}),u=+("function"==typeof i?i.apply(this,arguments):i),h=("function"==typeof o?o.apply(this,arguments):o)-u,d=Math.min(Math.abs(h)/l,+("function"==typeof r?r.apply(this,arguments):r)),p=d*(0>h?-1:1),f=er.sum(c),m=f?(h-l*p)/f:0,g=er.range(l),v=[];return null!=n&&g.sort(n===us?function(t,e){return c[e]-c[t]}:function(t,e){return n(a[t],a[e])}),g.forEach(function(t){v[t]={data:a[t],value:s=c[t],startAngle:u,endAngle:u+=s*m+p,padAngle:d}}),v}var e=Number,n=us,i=0,o=Lr,r=0;return t.value=function(n){return arguments.length?(e=n,t):e},t.sort=function(e){return arguments.length?(n=e,t):n},t.startAngle=function(e){return arguments.length?(i=e,t):i},t.endAngle=function(e){return arguments.length?(o=e,t):o},t.padAngle=function(e){return arguments.length?(r=e,t):r},t};var us={};er.layout.stack=function(){function t(s,l){if(!(d=s.length))return s;var c=s.map(function(n,i){return e.call(t,n,i)}),u=c.map(function(e){return e.map(function(e,n){return[r.call(t,e,n),a.call(t,e,n)]})}),h=n.call(t,u,l);c=er.permute(c,h),u=er.permute(u,h);var d,p,f,m,g=i.call(t,u,l),v=c[0].length;for(f=0;v>f;++f)for(o.call(t,c[0][f],m=g[f],u[0][f][1]),p=1;d>p;++p)o.call(t,c[p][f],m+=u[p-1][f][1],u[p][f][1]);return s}var e=v,n=Ei,i=Ni,o=Li,r=Ai,a=Pi;return t.values=function(n){return arguments.length?(e=n,t):e},t.order=function(e){return arguments.length?(n="function"==typeof e?e:hs.get(e)||Ei,t):n},t.offset=function(e){return arguments.length?(i="function"==typeof e?e:ds.get(e)||Ni,t):i},t.x=function(e){return arguments.length?(r=e,t):r},t.y=function(e){return arguments.length?(a=e,t):a},t.out=function(e){return arguments.length?(o=e,t):o},t};var hs=er.map({"inside-out":function(t){var e,n,i=t.length,o=t.map(Bi),r=t.map(Di),a=er.range(i).sort(function(t,e){return o[t]-o[e]}),s=0,l=0,c=[],u=[];for(e=0;i>e;++e)n=a[e],l>s?(s+=r[n],c.push(n)):(l+=r[n],u.push(n));return u.reverse().concat(c)},reverse:function(t){return er.range(t.length).reverse()},default:Ei}),ds=er.map({silhouette:function(t){var e,n,i,o=t.length,r=t[0].length,a=[],s=0,l=[];for(n=0;r>n;++n){for(e=0,i=0;o>e;e++)i+=t[e][n][1];i>s&&(s=i),a.push(i)}for(n=0;r>n;++n)l[n]=(s-a[n])/2;return l},wiggle:function(t){var e,n,i,o,r,a,s,l,c,u=t.length,h=t[0],d=h.length,p=[];for(p[0]=l=c=0,n=1;d>n;++n){for(e=0,o=0;u>e;++e)o+=t[e][n][1];for(e=0,r=0,s=h[n][0]-h[n-1][0];u>e;++e){for(i=0,a=(t[e][n][1]-t[e][n-1][1])/(2*s);e>i;++i)a+=(t[i][n][1]-t[i][n-1][1])/s;r+=a*t[e][n][1]}p[n]=l-=o?r/o*s:0,c>l&&(c=l)}for(n=0;d>n;++n)p[n]-=c;return p},expand:function(t){var e,n,i,o=t.length,r=t[0].length,a=1/o,s=[];for(n=0;r>n;++n){for(e=0,i=0;o>e;e++)i+=t[e][n][1];if(i)for(e=0;o>e;e++)t[e][n][1]/=i;else for(e=0;o>e;e++)t[e][n][1]=a}for(n=0;r>n;++n)s[n]=0;return s},zero:Ni});er.layout.histogram=function(){function t(t,r){for(var a,s,l=[],c=t.map(n,this),u=i.call(this,c,r),h=o.call(this,u,c,r),d=(r=-1,c.length),p=h.length-1,f=e?1:1/d;++r<p;)(a=l[r]=[]).dx=h[r+1]-(a.x=h[r]),a.y=0;if(p>0)for(r=-1;++r<d;)(s=c[r])>=u[0]&&s<=u[1]&&((a=l[er.bisect(h,s,1,p)-1]).y+=f,a.push(t[r]));return l}var e=!0,n=Number,i=ji,o=Oi;return t.value=function(e){return arguments.length?(n=e,t):n},t.range=function(e){return arguments.length?(i=$t(e),t):i},t.bins=function(e){return arguments.length?(o="number"==typeof e?function(t){return Fi(t,e)}:$t(e),t):o},t.frequency=function(n){return arguments.length?(e=!!n,t):e},t},er.layout.pack=function(){function t(t,r){var a=n.call(this,t,r),s=a[0],l=o[0],c=o[1],u=null==e?Math.sqrt:"function"==typeof e?e:function(){return e};if(s.x=s.y=0,Ci(s,function(t){t.r=+u(t.value)}),Ci(s,Ji),i){var h=i*(e?1:Math.max(2*s.r/l,2*s.r/c))/2;Ci(s,function(t){t.r+=h}),Ci(s,Ji),Ci(s,function(t){t.r-=h})}return function t(e,n,i,o){var r=e.children;if(e.x=n+=o*e.x,e.y=i+=o*e.y,e.r*=o,r)for(var a=-1,s=r.length;++a<s;)t(r[a],n,i,o)}(s,l/2,c/2,e?1:1/Math.max(2*s.r/l,2*s.r/c)),a}var e,n=er.layout.hierarchy().sort(zi),i=0,o=[1,1];return t.size=function(e){return arguments.length?(o=e,t):o},t.radius=function(n){return arguments.length?(e=null==n||"function"==typeof n?n:+n,t):e},t.padding=function(e){return arguments.length?(i=+e,t):i},$i(t,n)},er.layout.tree=function(){function t(t,l){var c=o.call(this,t,l),u=c[0],h=function(t){for(var e,n={A:null,children:[t]},i=[n];null!=(e=i.pop());)for(var o,r=e.children,a=0,s=r.length;s>a;++a)i.push((r[a]=o={_:r[a],parent:e,children:(o=r[a].children)&&o.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:a}).a=o);return n.children[0]}(u);if(Ci(h,e),h.parent.m=-h.z,wi(h,n),s)wi(u,i);else{var d=u,p=u,f=u;wi(u,function(t){t.x<d.x&&(d=t),t.x>p.x&&(p=t),t.depth>f.depth&&(f=t)});var m=r(d,p)/2-d.x,g=a[0]/(p.x+r(p,d)/2+m),v=a[1]/(f.depth||1);wi(u,function(t){t.x=(t.x+m)*g,t.y=t.depth*v})}return c}function e(t){var e=t.children,n=t.parent.children,i=t.i?n[t.i-1]:null;if(e.length){!function(t){for(var e,n=0,i=0,o=t.children,r=o.length;--r>=0;)(e=o[r]).z+=n,e.m+=n,n+=e.s+(i+=e.c)}(t);var o=(e[0].z+e[e.length-1].z)/2;i?(t.z=i.z+r(t._,i._),t.m=t.z-o):t.z=o}else i&&(t.z=i.z+r(t._,i._));t.parent.A=function(t,e,n){if(e){for(var i,o=t,a=t,s=e,l=o.parent.children[0],c=o.m,u=a.m,h=s.m,d=l.m;s=Zi(s),o=Gi(o),s&&o;)l=Gi(l),(a=Zi(a)).a=t,(i=s.z+h-o.z-c+r(s._,o._))>0&&(Xi(Qi(s,t,n),t,i),c+=i,u+=i),h+=s.m,c+=o.m,d+=l.m,u+=a.m;s&&!Zi(a)&&(a.t=s,a.m+=h-u),o&&!Gi(l)&&(l.t=o,l.m+=c-d,n=t)}return n}(t,i,t.parent.A||n[0])}function n(t){t._.x=t.z+t.parent.m,t.m+=t.parent.m}function i(t){t.x*=a[0],t.y=t.depth*a[1]}var o=er.layout.hierarchy().sort(null).value(null),r=Yi,a=[1,1],s=null;return t.separation=function(e){return arguments.length?(r=e,t):r},t.size=function(e){return arguments.length?(s=null==(a=e)?i:null,t):s?null:a},t.nodeSize=function(e){return arguments.length?(s=null==(a=e)?null:i,t):s?a:null},$i(t,o)},er.layout.cluster=function(){function t(t,r){var a,s=e.call(this,t,r),l=s[0],c=0;Ci(l,function(t){var e=t.children;e&&e.length?(t.x=function(t){return t.reduce(function(t,e){return t+e.x},0)/t.length}(e),t.y=function(t){return 1+er.max(t,function(t){return t.y})}(e)):(t.x=a?c+=n(t,a):0,t.y=0,a=t)});var u=function t(e){var n=e.children;return n&&n.length?t(n[0]):e}(l),h=function t(e){var n,i=e.children;return i&&(n=i.length)?t(i[n-1]):e}(l),d=u.x-n(u,h)/2,p=h.x+n(h,u)/2;return Ci(l,o?function(t){t.x=(t.x-l.x)*i[0],t.y=(l.y-t.y)*i[1]}:function(t){t.x=(t.x-d)/(p-d)*i[0],t.y=(1-(l.y?t.y/l.y:1))*i[1]}),s}var e=er.layout.hierarchy().sort(null).value(null),n=Yi,i=[1,1],o=!1;return t.separation=function(e){return arguments.length?(n=e,t):n},t.size=function(e){return arguments.length?(o=null==(i=e),t):o?null:i},t.nodeSize=function(e){return arguments.length?(o=null!=(i=e),t):o?i:null},$i(t,e)},er.layout.treemap=function(){function t(t,e){for(var n,i,o=-1,r=t.length;++o<r;)i=(n=t[o]).value*(0>e?0:e),n.area=isNaN(i)||0>=i?0:i}function e(n){var r=n.children;if(r&&r.length){var a,s,l,c=h(n),u=[],d=r.slice(),f=1/0,m="slice"===p?c.dx:"dice"===p?c.dy:"slice-dice"===p?1&n.depth?c.dy:c.dx:Math.min(c.dx,c.dy);for(t(d,c.dx*c.dy/n.value),u.area=0;(l=d.length)>0;)u.push(a=d[l-1]),u.area+=a.area,"squarify"!==p||(s=i(u,m))<=f?(d.pop(),f=s):(u.area-=u.pop().area,o(u,m,c,!1),m=Math.min(c.dx,c.dy),u.length=u.area=0,f=1/0);u.length&&(o(u,m,c,!0),u.length=u.area=0),r.forEach(e)}}function n(e){var i=e.children;if(i&&i.length){var r,a=h(e),s=i.slice(),l=[];for(t(s,a.dx*a.dy/e.value),l.area=0;r=s.pop();)l.push(r),l.area+=r.area,null!=r.z&&(o(l,r.z?a.dx:a.dy,a,!s.length),l.length=l.area=0);i.forEach(n)}}function i(t,e){for(var n,i=t.area,o=0,r=1/0,a=-1,s=t.length;++a<s;)(n=t[a].area)&&(r>n&&(r=n),n>o&&(o=n));return e*=e,(i*=i)?Math.max(e*o*f/i,i/(e*r*f)):1/0}function o(t,e,n,i){var o,r=-1,a=t.length,s=n.x,c=n.y,u=e?l(t.area/e):0;if(e==n.dx){for((i||u>n.dy)&&(u=n.dy);++r<a;)(o=t[r]).x=s,o.y=c,o.dy=u,s+=o.dx=Math.min(n.x+n.dx-s,u?l(o.area/u):0);o.z=!0,o.dx+=n.x+n.dx-s,n.y+=u,n.dy-=u}else{for((i||u>n.dx)&&(u=n.dx);++r<a;)(o=t[r]).x=s,o.y=c,o.dx=u,c+=o.dy=Math.min(n.y+n.dy-c,u?l(o.area/u):0);o.z=!1,o.dy+=n.y+n.dy-c,n.x+=u,n.dx-=u}}function r(i){var o=a||s(i),r=o[0];return r.x=r.y=0,r.value?(r.dx=c[0],r.dy=c[1]):r.dx=r.dy=0,a&&s.revalue(r),t([r],r.dx*r.dy/r.value),(a?n:e)(r),d&&(a=o),o}var a,s=er.layout.hierarchy(),l=Math.round,c=[1,1],u=null,h=Ki,d=!1,p="squarify",f=.5*(1+Math.sqrt(5));return r.size=function(t){return arguments.length?(c=t,r):c},r.padding=function(t){function e(e){return to(e,t)}return arguments.length?(h=null==(u=t)?Ki:"function"==(n=typeof t)?function(e){var n=t.call(r,e,e.depth);return null==n?Ki(e):to(e,"number"==typeof n?[n,n,n,n]:n)}:"number"===n?(t=[t,t,t,t],e):e,r):u;var n},r.round=function(t){return arguments.length?(l=t?Math.round:Number,r):l!=Number},r.sticky=function(t){return arguments.length?(d=t,a=null,r):d},r.ratio=function(t){return arguments.length?(f=t,r):f},r.mode=function(t){return arguments.length?(p=t+"",r):p},$i(r,s)},er.random={normal:function(t,e){var n=arguments.length;return 2>n&&(e=1),1>n&&(t=0),function(){var n,i,o;do{o=(n=2*Math.random()-1)*n+(i=2*Math.random()-1)*i}while(!o||o>1);return t+e*n*Math.sqrt(-2*Math.log(o)/o)}},logNormal:function(){var t=er.random.normal.apply(er,arguments);return function(){return Math.exp(t())}},bates:function(t){var e=er.random.irwinHall(t);return function(){return e()/t}},irwinHall:function(t){return function(){for(var e=0,n=0;t>n;n++)e+=Math.random();return e}}},er.scale={};var ps={floor:v,ceil:v};er.scale.linear=function(){return function t(e,n,i,o){function r(){var t=Math.min(e.length,n.length)>2?ao:io,r=o?mi:fi;return s=t(e,n,r,i),l=t(n,e,r,Xn),a}function a(t){return s(t)}var s,l;return a.invert=function(t){return l(t)},a.domain=function(t){return arguments.length?(e=t.map(Number),r()):e},a.range=function(t){return arguments.length?(n=t,r()):n},a.rangeRound=function(t){return a.range(t).interpolate(li)},a.clamp=function(t){return arguments.length?(o=t,r()):o},a.interpolate=function(t){return arguments.length?(i=t,r()):i},a.ticks=function(t){return uo(e,t)},a.tickFormat=function(t,n){return ho(e,t,n)},a.nice=function(t){return lo(e,t),r()},a.copy=function(){return t(e,n,i,o)},r()}([0,1],[0,1],Xn,!1)};var fs={s:1,g:1,p:1,r:1,e:1};er.scale.log=function(){return function t(e,n,i,o){function r(t){return(i?Math.log(0>t?0:t):-Math.log(t>0?0:-t))/Math.log(n)}function a(t){return i?Math.pow(n,t):-Math.pow(n,-t)}function s(t){return e(r(t))}return s.invert=function(t){return a(e.invert(t))},s.domain=function(t){return arguments.length?(i=t[0]>=0,e.domain((o=t.map(Number)).map(r)),s):o},s.base=function(t){return arguments.length?(n=+t,e.domain(o.map(r)),s):n},s.nice=function(){var t=oo(o.map(r),i?Math:gs);return e.domain(t),o=t.map(a),s},s.ticks=function(){var t=eo(o),e=[],s=t[0],l=t[1],c=Math.floor(r(s)),u=Math.ceil(r(l)),h=n%1?2:n;if(isFinite(u-c)){if(i){for(;u>c;c++)for(var d=1;h>d;d++)e.push(a(c)*d);e.push(a(c))}else for(e.push(a(c));c++<u;)for(d=h-1;d>0;d--)e.push(a(c)*d);for(c=0;e[c]<s;c++);for(u=e.length;e[u-1]>l;u--);e=e.slice(c,u)}return e},s.tickFormat=function(t,e){if(!arguments.length)return ms;arguments.length<2?e=ms:"function"!=typeof e&&(e=er.format(e));var i=Math.max(1,n*t/s.ticks().length);return function(t){var o=t/a(Math.round(r(t)));return n-.5>o*n&&(o*=n),i>=o?e(t):""}},s.copy=function(){return t(e.copy(),n,i,o)},so(s,e)}(er.scale.linear().domain([0,1]),10,!0,[1,10])};var ms=er.format(".0e"),gs={floor:function(t){return-Math.ceil(-t)},ceil:function(t){return-Math.floor(-t)}};er.scale.pow=function(){return function t(e,n,i){function o(t){return e(r(t))}var r=fo(n),a=fo(1/n);return o.invert=function(t){return a(e.invert(t))},o.domain=function(t){return arguments.length?(e.domain((i=t.map(Number)).map(r)),o):i},o.ticks=function(t){return uo(i,t)},o.tickFormat=function(t,e){return ho(i,t,e)},o.nice=function(t){return o.domain(lo(i,t))},o.exponent=function(t){return arguments.length?(r=fo(n=t),a=fo(1/n),e.domain(i.map(r)),o):n},o.copy=function(){return t(e.copy(),n,i)},so(o,e)}(er.scale.linear(),1,[0,1])},er.scale.sqrt=function(){return er.scale.pow().exponent(.5)},er.scale.ordinal=function(){return function t(e,n){function i(t){return a[((r.get(t)||("range"===n.t?r.set(t,e.push(t)):NaN))-1)%a.length]}function o(t,n){return er.range(e.length).map(function(e){return t+n*e})}var r,a,s;return i.domain=function(t){if(!arguments.length)return e;e=[],r=new l;for(var o,a=-1,s=t.length;++a<s;)r.has(o=t[a])||r.set(o,e.push(o));return i[n.t].apply(i,n.a)},i.range=function(t){return arguments.length?(a=t,s=0,n={t:"range",a:arguments},i):a},i.rangePoints=function(t,r){arguments.length<2&&(r=0);var l=t[0],c=t[1],u=e.length<2?(l=(l+c)/2,0):(c-l)/(e.length-1+r);return a=o(l+u*r/2,u),s=0,n={t:"rangePoints",a:arguments},i},i.rangeRoundPoints=function(t,r){arguments.length<2&&(r=0);var l=t[0],c=t[1],u=e.length<2?(l=c=Math.round((l+c)/2),0):(c-l)/(e.length-1+r)|0;return a=o(l+Math.round(u*r/2+(c-l-(e.length-1+r)*u)/2),u),s=0,n={t:"rangeRoundPoints",a:arguments},i},i.rangeBands=function(t,r,l){arguments.length<2&&(r=0),arguments.length<3&&(l=r);var c=t[1]<t[0],u=t[c-0],h=(t[1-c]-u)/(e.length-r+2*l);return a=o(u+h*l,h),c&&a.reverse(),s=h*(1-r),n={t:"rangeBands",a:arguments},i},i.rangeRoundBands=function(t,r,l){arguments.length<2&&(r=0),arguments.length<3&&(l=r);var c=t[1]<t[0],u=t[c-0],h=t[1-c],d=Math.floor((h-u)/(e.length-r+2*l));return a=o(u+Math.round((h-u-(e.length-r)*d)/2),d),c&&a.reverse(),s=Math.round(d*(1-r)),n={t:"rangeRoundBands",a:arguments},i},i.rangeBand=function(){return s},i.rangeExtent=function(){return eo(n.a[0])},i.copy=function(){return t(e,n)},i.domain(e)}([],{t:"range",a:[[]]})},er.scale.category10=function(){return er.scale.ordinal().range(vs)},er.scale.category20=function(){return er.scale.ordinal().range(ys)},er.scale.category20b=function(){return er.scale.ordinal().range(_s)},er.scale.category20c=function(){return er.scale.ordinal().range(bs)};var vs=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(mt),ys=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(mt),_s=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(mt),bs=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(mt);er.scale.quantile=function(){return function t(e,r){function a(){var t=0,n=r.length;for(l=[];++t<n;)l[t-1]=er.quantile(e,t/n);return s}function s(t){return isNaN(t=+t)?void 0:r[er.bisect(l,t)]}var l;return s.domain=function(t){return arguments.length?(e=t.map(i).filter(o).sort(n),a()):e},s.range=function(t){return arguments.length?(r=t,a()):r},s.quantiles=function(){return l},s.invertExtent=function(t){return 0>(t=r.indexOf(t))?[NaN,NaN]:[t>0?l[t-1]:e[0],t<l.length?l[t]:e[e.length-1]]},s.copy=function(){return t(e,r)},a()}([],[])},er.scale.quantize=function(){return function t(e,n,i){function o(t){return i[Math.max(0,Math.min(s,Math.floor(a*(t-e))))]}function r(){return a=i.length/(n-e),s=i.length-1,o}var a,s;return o.domain=function(t){return arguments.length?(e=+t[0],n=+t[t.length-1],r()):[e,n]},o.range=function(t){return arguments.length?(i=t,r()):i},o.invertExtent=function(t){return[t=0>(t=i.indexOf(t))?NaN:t/a+e,t+1/a]},o.copy=function(){return t(e,n,i)},r()}(0,1,[0,1])},er.scale.threshold=function(){return function t(e,n){function i(t){return t>=t?n[er.bisect(e,t)]:void 0}return i.domain=function(t){return arguments.length?(e=t,i):e},i.range=function(t){return arguments.length?(n=t,i):n},i.invertExtent=function(t){return t=n.indexOf(t),[e[t-1],e[t]]},i.copy=function(){return t(e,n)},i}([.5],[0,1])},er.scale.identity=function(){return function t(e){function n(t){return+t}return n.invert=n,n.domain=n.range=function(t){return arguments.length?(e=t.map(n),n):e},n.ticks=function(t){return uo(e,t)},n.tickFormat=function(t,n){return ho(e,t,n)},n.copy=function(){return t(e)},n}([0,1])},er.svg={},er.svg.arc=function(){function t(){var t=Math.max(0,+n.apply(this,arguments)),c=Math.max(0,+i.apply(this,arguments)),u=a.apply(this,arguments)-Nr,h=s.apply(this,arguments)-Nr,d=Math.abs(h-u),p=u>h?0:1;if(t>c&&(f=c,c=t,t=f),d>=Er)return e(c,p)+(t?e(t,1-p):"")+"Z";var f,m,g,v,y,_,b,x,$,w,C,k,M=0,S=0,T=[];if((v=(+l.apply(this,arguments)||0)/2)&&(g=r===xs?Math.sqrt(t*t+c*c):+r.apply(this,arguments),p||(S*=-1),c&&(S=K(g/c*Math.sin(v))),t&&(M=K(g/t*Math.sin(v)))),c){y=c*Math.cos(u+S),_=c*Math.sin(u+S),b=c*Math.cos(h-S),x=c*Math.sin(h-S);var A=Math.abs(h-u-2*S)<=Pr?0:1;if(S&&xo(y,_,b,x)===p^A){var P=(u+h)/2;y=c*Math.cos(P),_=c*Math.sin(P),b=x=null}}else y=_=0;if(t){$=t*Math.cos(h-M),w=t*Math.sin(h-M),C=t*Math.cos(u+M),k=t*Math.sin(u+M);var L=Math.abs(u-h+2*M)<=Pr?0:1;if(M&&xo($,w,C,k)===1-p^L){var E=(u+h)/2;$=t*Math.cos(E),w=t*Math.sin(E),C=k=null}}else $=w=0;if(d>Tr&&(f=Math.min(Math.abs(c-t)/2,+o.apply(this,arguments)))>.001){m=c>t^p?0:1;var N=f,B=f;if(Pr>d){var D=null==C?[$,w]:null==b?[y,_]:vn([y,_],[C,k],[b,x],[$,w]),I=y-D[0],O=_-D[1],F=b-D[0],j=x-D[1],z=1/Math.sin(Math.acos((I*F+O*j)/(Math.sqrt(I*I+O*O)*Math.sqrt(F*F+j*j)))/2),q=Math.sqrt(D[0]*D[0]+D[1]*D[1]);B=Math.min(f,(t-q)/(z-1)),N=Math.min(f,(c-q)/(z+1))}if(null!=b){var R=$o(null==C?[$,w]:[C,k],[y,_],c,N,p),H=$o([b,x],[$,w],c,N,p);f===N?T.push("M",R[0],"A",N,",",N," 0 0,",m," ",R[1],"A",c,",",c," 0 ",1-p^xo(R[1][0],R[1][1],H[1][0],H[1][1]),",",p," ",H[1],"A",N,",",N," 0 0,",m," ",H[0]):T.push("M",R[0],"A",N,",",N," 0 1,",m," ",H[0])}else T.push("M",y,",",_);if(null!=C){var J=$o([y,_],[C,k],t,-B,p),U=$o([$,w],null==b?[y,_]:[b,x],t,-B,p);f===B?T.push("L",U[0],"A",B,",",B," 0 0,",m," ",U[1],"A",t,",",t," 0 ",p^xo(U[1][0],U[1][1],J[1][0],J[1][1]),",",1-p," ",J[1],"A",B,",",B," 0 0,",m," ",J[0]):T.push("L",U[0],"A",B,",",B," 0 0,",m," ",J[0])}else T.push("L",$,",",w)}else T.push("M",y,",",_),null!=b&&T.push("A",c,",",c," 0 ",A,",",p," ",b,",",x),T.push("L",$,",",w),null!=C&&T.push("A",t,",",t," 0 ",L,",",1-p," ",C,",",k);return T.push("Z"),T.join("")}function e(t,e){return"M0,"+t+"A"+t+","+t+" 0 1,"+e+" 0,"+-t+"A"+t+","+t+" 0 1,"+e+" 0,"+t}var n=go,i=vo,o=mo,r=xs,a=yo,s=_o,l=bo;return t.innerRadius=function(e){return arguments.length?(n=$t(e),t):n},t.outerRadius=function(e){return arguments.length?(i=$t(e),t):i},t.cornerRadius=function(e){return arguments.length?(o=$t(e),t):o},t.padRadius=function(e){return arguments.length?(r=e==xs?xs:$t(e),t):r},t.startAngle=function(e){return arguments.length?(a=$t(e),t):a},t.endAngle=function(e){return arguments.length?(s=$t(e),t):s},t.padAngle=function(e){return arguments.length?(l=$t(e),t):l},t.centroid=function(){var t=(+n.apply(this,arguments)+ +i.apply(this,arguments))/2,e=(+a.apply(this,arguments)+ +s.apply(this,arguments))/2-Nr;return[Math.cos(e)*t,Math.sin(e)*t]},t};var xs="auto";er.svg.line=function(){return wo(v)};var $s=er.map({linear:Co,"linear-closed":ko,step:function(t){for(var e=0,n=t.length,i=t[0],o=[i[0],",",i[1]];++e<n;)o.push("H",(i[0]+(i=t[e])[0])/2,"V",i[1]);return n>1&&o.push("H",i[0]),o.join("")},"step-before":Mo,"step-after":So,basis:Po,"basis-open":function(t){if(t.length<4)return Co(t);for(var e,n=[],i=-1,o=t.length,r=[0],a=[0];++i<3;)e=t[i],r.push(e[0]),a.push(e[1]);for(n.push(Lo(ks,r)+","+Lo(ks,a)),--i;++i<o;)e=t[i],r.shift(),r.push(e[0]),a.shift(),a.push(e[1]),Eo(n,r,a);return n.join("")},"basis-closed":function(t){for(var e,n,i=-1,o=t.length,r=o+4,a=[],s=[];++i<4;)n=t[i%o],a.push(n[0]),s.push(n[1]);for(e=[Lo(ks,a),",",Lo(ks,s)],--i;++i<r;)n=t[i%o],a.shift(),a.push(n[0]),s.shift(),s.push(n[1]),Eo(e,a,s);return e.join("")},bundle:function(t,e){var n=t.length-1;if(n)for(var i,o,r=t[0][0],a=t[0][1],s=t[n][0]-r,l=t[n][1]-a,c=-1;++c<=n;)o=c/n,(i=t[c])[0]=e*i[0]+(1-e)*(r+o*s),i[1]=e*i[1]+(1-e)*(a+o*l);return Po(t)},cardinal:function(t,e){return t.length<3?Co(t):t[0]+To(t,Ao(t,e))},"cardinal-open":function(t,e){return t.length<4?Co(t):t[1]+To(t.slice(1,-1),Ao(t,e))},"cardinal-closed":function(t,e){return t.length<3?ko(t):t[0]+To((t.push(t[0]),t),Ao([t[t.length-2]].concat(t,[t[1]]),e))},monotone:function(t){return t.length<3?Co(t):t[0]+To(t,Bo(t))}});$s.forEach(function(t,e){e.key=t,e.closed=/-closed$/.test(t)});var ws=[0,2/3,1/3,0],Cs=[0,1/3,2/3,0],ks=[0,1/6,2/3,1/6];er.svg.line.radial=function(){var t=wo(Do);return t.radius=t.x,delete t.x,t.angle=t.y,delete t.y,t},Mo.reverse=So,So.reverse=Mo,er.svg.area=function(){return Io(v)},er.svg.area.radial=function(){var t=Io(Do);return t.radius=t.x,delete t.x,t.innerRadius=t.x0,delete t.x0,t.outerRadius=t.x1,delete t.x1,t.angle=t.y,delete t.y,t.startAngle=t.y0,delete t.y0,t.endAngle=t.y1,delete t.y1,t},er.svg.chord=function(){function t(t,a){var s=e(this,o,t,a),l=e(this,r,t,a);return"M"+s.p0+n(s.r,s.p1,s.a1-s.a0)+(function(t,e){return t.a0==e.a0&&t.a1==e.a1}(s,l)?i(s.r,s.p1,s.r,s.p0):i(s.r,s.p1,l.r,l.p0)+n(l.r,l.p1,l.a1-l.a0)+i(l.r,l.p1,s.r,s.p0))+"Z"}function e(t,e,n,i){var o=e.call(t,n,i),r=a.call(t,o,i),c=s.call(t,o,i)-Nr,u=l.call(t,o,i)-Nr;return{r:r,a0:c,a1:u,p0:[r*Math.cos(c),r*Math.sin(c)],p1:[r*Math.cos(u),r*Math.sin(u)]}}function n(t,e,n){return"A"+t+","+t+" 0 "+ +(n>Pr)+",1 "+e}function i(t,e,n,i){return"Q 0,0 "+i}var o=on,r=rn,a=Oo,s=yo,l=_o;return t.radius=function(e){return arguments.length?(a=$t(e),t):a},t.source=function(e){return arguments.length?(o=$t(e),t):o},t.target=function(e){return arguments.length?(r=$t(e),t):r},t.startAngle=function(e){return arguments.length?(s=$t(e),t):s},t.endAngle=function(e){return arguments.length?(l=$t(e),t):l},t},er.svg.diagonal=function(){function t(t,o){var r=e.call(this,t,o),a=n.call(this,t,o),s=(r.y+a.y)/2,l=[r,{x:r.x,y:s},{x:a.x,y:s},a];return"M"+(l=l.map(i))[0]+"C"+l[1]+" "+l[2]+" "+l[3]}var e=on,n=rn,i=Fo;return t.source=function(n){return arguments.length?(e=$t(n),t):e},t.target=function(e){return arguments.length?(n=$t(e),t):n},t.projection=function(e){return arguments.length?(i=e,t):i},t},er.svg.diagonal.radial=function(){var t=er.svg.diagonal(),e=Fo,n=t.projection;return t.projection=function(t){return arguments.length?n(function(t){return function(){var e=t.apply(this,arguments),n=e[0],i=e[1]-Nr;return[n*Math.cos(i),n*Math.sin(i)]}}(e=t)):e},t},er.svg.symbol=function(){function t(t,i){return(Ms.get(e.call(this,t,i))||qo)(n.call(this,t,i))}var e=zo,n=jo;return t.type=function(n){return arguments.length?(e=$t(n),t):e},t.size=function(e){return arguments.length?(n=$t(e),t):n},t};var Ms=er.map({circle:qo,cross:function(t){var e=Math.sqrt(t/5)/2;return"M"+-3*e+","+-e+"H"+-e+"V"+-3*e+"H"+e+"V"+-e+"H"+3*e+"V"+e+"H"+e+"V"+3*e+"H"+-e+"V"+e+"H"+-3*e+"Z"},diamond:function(t){var e=Math.sqrt(t/(2*Ts)),n=e*Ts;return"M0,"+-e+"L"+n+",0 0,"+e+" "+-n+",0Z"},square:function(t){var e=Math.sqrt(t)/2;return"M"+-e+","+-e+"L"+e+","+-e+" "+e+","+e+" "+-e+","+e+"Z"},"triangle-down":function(t){var e=Math.sqrt(t/Ss),n=e*Ss/2;return"M0,"+n+"L"+e+","+-n+" "+-e+","+-n+"Z"},"triangle-up":function(t){var e=Math.sqrt(t/Ss),n=e*Ss/2;return"M0,"+-n+"L"+e+","+n+" "+-e+","+n+"Z"}});er.svg.symbolTypes=Ms.keys();var Ss=Math.sqrt(3),Ts=Math.tan(30*Br);br.transition=function(t){for(var e,n,i=As||++Ns,o=Wo(t),r=[],a=Ps||{time:Date.now(),ease:ii,delay:0,duration:250},s=-1,l=this.length;++s<l;){r.push(e=[]);for(var c=this[s],u=-1,h=c.length;++u<h;)(n=c[u])&&Vo(n,u,o,i,a),e.push(n)}return Ho(r,o,i)},br.interrupt=function(t){return this.each(null==t?Ls:Ro(Wo(t)))};var As,Ps,Ls=Ro(Wo()),Es=[],Ns=0;Es.call=br.call,Es.empty=br.empty,Es.node=br.node,Es.size=br.size,er.transition=function(t,e){return t&&t.transition?As?t.transition(e):t:er.selection().transition(t)},er.transition.prototype=Es,Es.select=function(t){var e,n,i,o=this.id,r=this.namespace,a=[];t=S(t);for(var s=-1,l=this.length;++s<l;){a.push(e=[]);for(var c=this[s],u=-1,h=c.length;++u<h;)(i=c[u])&&(n=t.call(i,i.__data__,u,s))?("__data__"in i&&(n.__data__=i.__data__),Vo(n,u,r,o,i[r][o]),e.push(n)):e.push(null)}return Ho(a,r,o)},Es.selectAll=function(t){var e,n,i,o,r,a=this.id,s=this.namespace,l=[];t=T(t);for(var c=-1,u=this.length;++c<u;)for(var h=this[c],d=-1,p=h.length;++d<p;)if(i=h[d]){r=i[s][a],n=t.call(i,i.__data__,d,c),l.push(e=[]);for(var f=-1,m=n.length;++f<m;)(o=n[f])&&Vo(o,f,s,a,r),e.push(o)}return Ho(l,s,a)},Es.filter=function(t){var e,n,i=[];"function"!=typeof t&&(t=z(t));for(var o=0,r=this.length;r>o;o++){i.push(e=[]);for(var a,s=0,l=(a=this[o]).length;l>s;s++)(n=a[s])&&t.call(n,n.__data__,s,o)&&e.push(n)}return Ho(i,this.namespace,this.id)},Es.tween=function(t,e){var n=this.id,i=this.namespace;return arguments.length<2?this.node()[i][n].tween.get(t):R(this,null==e?function(e){e[i][n].tween.remove(t)}:function(o){o[i][n].tween.set(t,e)})},Es.attr=function(t,e){function n(){this.removeAttribute(r)}function i(){this.removeAttributeNS(r.space,r.local)}if(arguments.length<2){for(e in t)this.attr(e,t[e]);return this}var o="transform"==t?pi:Xn,r=er.ns.qualify(t);return Jo(this,"attr."+t,e,r.local?function(t){return null==t?i:(t+="",function(){var e,n=this.getAttributeNS(r.space,r.local);return n!==t&&(e=o(n,t),function(t){this.setAttributeNS(r.space,r.local,e(t))})})}:function(t){return null==t?n:(t+="",function(){var e,n=this.getAttribute(r);return n!==t&&(e=o(n,t),function(t){this.setAttribute(r,e(t))})})})},Es.attrTween=function(t,e){var n=er.ns.qualify(t);return this.tween("attr."+t,n.local?function(t,i){var o=e.call(this,t,i,this.getAttributeNS(n.space,n.local));return o&&function(t){this.setAttributeNS(n.space,n.local,o(t))}}:function(t,i){var o=e.call(this,t,i,this.getAttribute(n));return o&&function(t){this.setAttribute(n,o(t))}})},Es.style=function(t,n,i){function o(){this.style.removeProperty(t)}var r=arguments.length;if(3>r){if("string"!=typeof t){for(i in 2>r&&(n=""),t)this.style(i,t[i],n);return this}i=""}return Jo(this,"style."+t,n,function(n){return null==n?o:(n+="",function(){var o,r=e(this).getComputedStyle(this,null).getPropertyValue(t);return r!==n&&(o=Xn(r,n),function(e){this.style.setProperty(t,o(e),i)})})})},Es.styleTween=function(t,n,i){return arguments.length<3&&(i=""),this.tween("style."+t,function(o,r){var a=n.call(this,o,r,e(this).getComputedStyle(this,null).getPropertyValue(t));return a&&function(e){this.style.setProperty(t,a(e),i)}})},Es.text=function(t){return Jo(this,"text",t,Uo)},Es.remove=function(){var t=this.namespace;return this.each("end.transition",function(){var e;this[t].count<2&&(e=this.parentNode)&&e.removeChild(this)})},Es.ease=function(t){var e=this.id,n=this.namespace;return arguments.length<1?this.node()[n][e].ease:("function"!=typeof t&&(t=er.ease.apply(er,arguments)),R(this,function(i){i[n][e].ease=t}))},Es.delay=function(t){var e=this.id,n=this.namespace;return arguments.length<1?this.node()[n][e].delay:R(this,"function"==typeof t?function(i,o,r){i[n][e].delay=+t.call(i,i.__data__,o,r)}:(t=+t,function(i){i[n][e].delay=t}))},Es.duration=function(t){var e=this.id,n=this.namespace;return arguments.length<1?this.node()[n][e].duration:R(this,"function"==typeof t?function(i,o,r){i[n][e].duration=Math.max(1,t.call(i,i.__data__,o,r))}:(t=Math.max(1,t),function(i){i[n][e].duration=t}))},Es.each=function(t,e){var n=this.id,i=this.namespace;if(arguments.length<2){var o=Ps,r=As;try{As=n,R(this,function(e,o,r){Ps=e[i][n],t.call(e,e.__data__,o,r)})}finally{Ps=o,As=r}}else R(this,function(o){var r=o[i][n];(r.event||(r.event=er.dispatch("start","end","interrupt"))).on(t,e)});return this},Es.transition=function(){for(var t,e,n,i=this.id,o=++Ns,r=this.namespace,a=[],s=0,l=this.length;l>s;s++){a.push(t=[]);for(var c,u=0,h=(c=this[s]).length;h>u;u++)(e=c[u])&&Vo(e,u,r,o,{time:(n=e[r][i]).time,ease:n.ease,delay:n.delay+n.duration,duration:n.duration}),t.push(e)}return Ho(a,r,o)},er.svg.axis=function(){function t(t){t.each(function(){var t,c=er.select(this),u=this.__chart__||n,h=this.__chart__=n.copy(),d=null==l?h.ticks?h.ticks.apply(h,s):h.domain():l,p=null==e?h.tickFormat?h.tickFormat.apply(h,s):v:e,f=c.selectAll(".tick").data(d,h),m=f.enter().insert("g",".domain").attr("class","tick").style("opacity",Tr),g=er.transition(f.exit()).style("opacity",Tr).remove(),y=er.transition(f.order()).style("opacity",1),_=Math.max(o,0)+a,b=no(h),x=c.selectAll(".domain").data([0]),$=(x.enter().append("path").attr("class","domain"),er.transition(x));m.append("line"),m.append("text");var w,C,k,M,S=m.select("line"),T=y.select("line"),A=f.select("text").text(p),P=m.select("text"),L=y.select("text"),E="top"===i||"left"===i?-1:1;if("bottom"===i||"top"===i?(t=Yo,w="x",k="y",C="x2",M="y2",A.attr("dy",0>E?"0em":".71em").style("text-anchor","middle"),$.attr("d","M"+b[0]+","+E*r+"V0H"+b[1]+"V"+E*r)):(t=Go,w="y",k="x",C="y2",M="x2",A.attr("dy",".32em").style("text-anchor",0>E?"end":"start"),$.attr("d","M"+E*r+","+b[0]+"H0V"+b[1]+"H"+E*r)),S.attr(M,E*o),P.attr(k,E*_),T.attr(C,0).attr(M,E*o),L.attr(w,0).attr(k,E*_),h.rangeBand){var N=h,B=N.rangeBand()/2;u=h=function(t){return N(t)+B}}else u.rangeBand?u=h:g.call(t,h,u);m.call(t,u,h),y.call(t,h,h)})}var e,n=er.scale.linear(),i=Bs,o=6,r=6,a=3,s=[10],l=null;return t.scale=function(e){return arguments.length?(n=e,t):n},t.orient=function(e){return arguments.length?(i=e in Ds?e+"":Bs,t):i},t.ticks=function(){return arguments.length?(s=ir(arguments),t):s},t.tickValues=function(e){return arguments.length?(l=e,t):l},t.tickFormat=function(n){return arguments.length?(e=n,t):e},t.tickSize=function(e){var n=arguments.length;return n?(o=+e,r=+arguments[n-1],t):o},t.innerTickSize=function(e){return arguments.length?(o=+e,t):o},t.outerTickSize=function(e){return arguments.length?(r=+e,t):r},t.tickPadding=function(e){return arguments.length?(a=+e,t):a},t.tickSubdivide=function(){return arguments.length&&t},t};var Bs="bottom",Ds={top:1,right:1,bottom:1,left:1};er.svg.brush=function(){function t(e){e.each(function(){var e=er.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",r).on("touchstart.brush",r),a=e.selectAll(".background").data([0]);a.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),e.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var s=e.selectAll(".resize").data(m,v);s.exit().remove(),s.enter().append("g").attr("class",function(t){return"resize "+t}).style("cursor",function(t){return Is[t]}).append("rect").attr("x",function(t){return/[ew]$/.test(t)?-3:null}).attr("y",function(t){return/^[ns]/.test(t)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),s.style("display",t.empty()?"none":null);var l,h=er.transition(e),d=er.transition(a);c&&(l=no(c),d.attr("x",l[0]).attr("width",l[1]-l[0]),i(h)),u&&(l=no(u),d.attr("y",l[0]).attr("height",l[1]-l[0]),o(h)),n(h)})}function n(t){t.selectAll(".resize").attr("transform",function(t){return"translate("+h[+/e$/.test(t)]+","+d[+/^s/.test(t)]+")"})}function i(t){t.select(".extent").attr("x",h[0]),t.selectAll(".extent,.n>rect,.s>rect").attr("width",h[1]-h[0])}function o(t){t.select(".extent").attr("y",d[0]),t.selectAll(".extent,.e>rect,.w>rect").attr("height",d[1]-d[0])}function r(){function r(){var t=er.mouse(_),e=!1;y&&(t[0]+=y[0],t[1]+=y[1]),S||(er.event.altKey?(v||(v=[(h[0]+h[1])/2,(d[0]+d[1])/2]),A[0]=h[+(t[0]<v[0])],A[1]=d[+(t[1]<v[1])]):v=null),k&&m(t,c,0)&&(i($),e=!0),M&&m(t,u,1)&&(o($),e=!0),e&&(n($),x({type:"brush",mode:S?"move":"resize"}))}function m(t,e,n){var i,o,r=no(e),l=r[0],c=r[1],u=A[n],m=n?d:h,g=m[1]-m[0];return S&&(l-=u,c-=g+u),i=(n?f:p)?Math.max(l,Math.min(c,t[n])):t[n],S?o=(i+=u)+g:(v&&(u=Math.max(l,Math.min(c,2*v[n]-i))),i>u?(o=i,i=u):o=u),m[0]!=i||m[1]!=o?(n?s=null:a=null,m[0]=i,m[1]=o,!0):void 0}function g(){r(),$.style("pointer-events","all").selectAll(".resize").style("display",t.empty()?"none":null),er.select("body").style("cursor",null),P.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),T(),x({type:"brushend"})}var v,y,_=this,b=er.select(er.event.target),x=l.of(_,arguments),$=er.select(_),C=b.datum(),k=!/^(n|s)$/.test(C)&&c,M=!/^(e|w)$/.test(C)&&u,S=b.classed("extent"),T=V(_),A=er.mouse(_),P=er.select(e(_)).on("keydown.brush",function(){32==er.event.keyCode&&(S||(v=null,A[0]-=h[1],A[1]-=d[1],S=2),w())}).on("keyup.brush",function(){32==er.event.keyCode&&2==S&&(A[0]+=h[1],A[1]+=d[1],S=0,w())});if(er.event.changedTouches?P.on("touchmove.brush",r).on("touchend.brush",g):P.on("mousemove.brush",r).on("mouseup.brush",g),$.interrupt().selectAll("*").interrupt(),S)A[0]=h[0]-A[0],A[1]=d[0]-A[1];else if(C){var L=+/w$/.test(C),E=+/^n/.test(C);y=[h[1-L]-A[0],d[1-E]-A[1]],A[0]=h[L],A[1]=d[E]}else er.event.altKey&&(v=A.slice());$.style("pointer-events","none").selectAll(".resize").style("display",null),er.select("body").style("cursor",b.style("cursor")),x({type:"brushstart"}),r()}var a,s,l=k(t,"brushstart","brush","brushend"),c=null,u=null,h=[0,0],d=[0,0],p=!0,f=!0,m=Os[0];return t.event=function(t){t.each(function(){var t=l.of(this,arguments),e={x:h,y:d,i:a,j:s},n=this.__chart__||e;this.__chart__=e,As?er.select(this).transition().each("start.brush",function(){a=n.i,s=n.j,h=n.x,d=n.y,t({type:"brushstart"})}).tween("brush:brush",function(){var n=Qn(h,e.x),i=Qn(d,e.y);return a=s=null,function(o){h=e.x=n(o),d=e.y=i(o),t({type:"brush",mode:"resize"})}}).each("end.brush",function(){a=e.i,s=e.j,t({type:"brush",mode:"resize"}),t({type:"brushend"})}):(t({type:"brushstart"}),t({type:"brush",mode:"resize"}),t({type:"brushend"}))})},t.x=function(e){return arguments.length?(m=Os[!(c=e)<<1|!u],t):c},t.y=function(e){return arguments.length?(m=Os[!c<<1|!(u=e)],t):u},t.clamp=function(e){return arguments.length?(c&&u?(p=!!e[0],f=!!e[1]):c?p=!!e:u&&(f=!!e),t):c&&u?[p,f]:c?p:u?f:null},t.extent=function(e){var n,i,o,r,l;return arguments.length?(c&&(n=e[0],i=e[1],u&&(n=n[0],i=i[0]),a=[n,i],c.invert&&(n=c(n),i=c(i)),n>i&&(l=n,n=i,i=l),n==h[0]&&i==h[1]||(h=[n,i])),u&&(o=e[0],r=e[1],c&&(o=o[1],r=r[1]),s=[o,r],u.invert&&(o=u(o),r=u(r)),o>r&&(l=o,o=r,r=l),o==d[0]&&r==d[1]||(d=[o,r])),t):(c&&(a?(n=a[0],i=a[1]):(n=h[0],i=h[1],c.invert&&(n=c.invert(n),i=c.invert(i)),n>i&&(l=n,n=i,i=l))),u&&(s?(o=s[0],r=s[1]):(o=d[0],r=d[1],u.invert&&(o=u.invert(o),r=u.invert(r)),o>r&&(l=o,o=r,r=l))),c&&u?[[n,o],[i,r]]:c?[n,i]:u&&[o,r])},t.clear=function(){return t.empty()||(h=[0,0],d=[0,0],a=s=null),t},t.empty=function(){return!!c&&h[0]==h[1]||!!u&&d[0]==d[1]},er.rebind(t,l,"on")};var Is={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Os=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]],Fs=ia.format=ca.timeFormat,js=Fs.utc,zs=js("%Y-%m-%dT%H:%M:%S.%LZ");Fs.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?Zo:zs,Zo.parse=function(t){var e=new Date(t);return isNaN(e)?null:e},Zo.toString=zs.toString,ia.second=Nt(function(t){return new oa(1e3*Math.floor(t/1e3))},function(t,e){t.setTime(t.getTime()+1e3*Math.floor(e))},function(t){return t.getSeconds()}),ia.seconds=ia.second.range,ia.seconds.utc=ia.second.utc.range,ia.minute=Nt(function(t){return new oa(6e4*Math.floor(t/6e4))},function(t,e){t.setTime(t.getTime()+6e4*Math.floor(e))},function(t){return t.getMinutes()}),ia.minutes=ia.minute.range,ia.minutes.utc=ia.minute.utc.range,ia.hour=Nt(function(t){var e=t.getTimezoneOffset()/60;return new oa(36e5*(Math.floor(t/36e5-e)+e))},function(t,e){t.setTime(t.getTime()+36e5*Math.floor(e))},function(t){return t.getHours()}),ia.hours=ia.hour.range,ia.hours.utc=ia.hour.utc.range,ia.month=Nt(function(t){return(t=ia.day(t)).setDate(1),t},function(t,e){t.setMonth(t.getMonth()+e)},function(t){return t.getMonth()}),ia.months=ia.month.range,ia.months.utc=ia.month.utc.range;var qs=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6],Rs=[[ia.second,1],[ia.second,5],[ia.second,15],[ia.second,30],[ia.minute,1],[ia.minute,5],[ia.minute,15],[ia.minute,30],[ia.hour,1],[ia.hour,3],[ia.hour,6],[ia.hour,12],[ia.day,1],[ia.day,2],[ia.week,1],[ia.month,1],[ia.month,3],[ia.year,1]],Hs=Fs.multi([[".%L",function(t){return t.getMilliseconds()}],[":%S",function(t){return t.getSeconds()}],["%I:%M",function(t){return t.getMinutes()}],["%I %p",function(t){return t.getHours()}],["%a %d",function(t){return t.getDay()&&1!=t.getDate()}],["%b %d",function(t){return 1!=t.getDate()}],["%B",function(t){return t.getMonth()}],["%Y",xe]]),Js={range:function(t,e,n){return er.range(Math.ceil(t/n)*n,+e,n).map(Qo)},floor:v,ceil:v};Rs.year=ia.year,ia.scale=function(){return Xo(er.scale.linear(),Rs,Hs)};var Us=Rs.map(function(t){return[t[0].utc,t[1]]}),Ws=js.multi([[".%L",function(t){return t.getUTCMilliseconds()}],[":%S",function(t){return t.getUTCSeconds()}],["%I:%M",function(t){return t.getUTCMinutes()}],["%I %p",function(t){return t.getUTCHours()}],["%a %d",function(t){return t.getUTCDay()&&1!=t.getUTCDate()}],["%b %d",function(t){return 1!=t.getUTCDate()}],["%B",function(t){return t.getUTCMonth()}],["%Y",xe]]);Us.year=ia.year.utc,ia.scale.utc=function(){return Xo(er.scale.linear(),Us,Ws)},er.text=wt(function(t){return t.responseText}),er.json=function(t,e){return Ct(t,"application/json",Ko,e)},er.html=function(t,e){return Ct(t,"text/html",tr,e)},er.xml=wt(function(t){return t.responseXML}),"function"==typeof define&&define.amd?(this.d3=er,define(er)):"object"==typeof module&&module.exports?module.exports=er:this.d3=er}();