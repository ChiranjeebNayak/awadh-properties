var onesAndTeens=['','one ','two ','three ','four ','five ','six ','seven ','eight ','nine ','ten ','eleven ','twelve ','thirteen ','fourteen ','fifteen ','sixteen ','seventeen ','eighteen ','nineteen '];var tens=['','','twenty','thirty','forty','fifty','sixty','seventy','eighty','ninety'];const helperJS={setCookie:(keyName,keyValue,expireHours=24)=>{const d=new Date();d.setTime(d.getTime()+(expireHours*60*60*1000));if(typeof keyValue=='object')keyValue=JSON.stringify(keyValue);const expires="expires="+d.toUTCString();const cookie=keyName+"="+keyValue+";"+expires+";path=/";document.cookie=cookie;},getCookie:(keyName)=>{const allcookies=document.cookie;const cookieArray=allcookies.split(';');let returnVal=null;for(var i=0;i<cookieArray.length;i++){let cookie=cookieArray[i];let name=cookie.split('=')[0].trim();if(name==keyName){let value=cookie.split('=')[1].trim();try{try{returnVal=JSON.parse(value);}catch(error){returnVal=value;}}catch{returnVal=[];}
break;}}
return returnVal;},setLocalItem:(keyName,value)=>{const valueJson=JSON.stringify(value);localStorage.setItem(keyName,valueJson);},getLocalItem:(keyName)=>{let resp=localStorage.getItem(keyName);if(resp)resp=JSON.parse(resp);return resp;},setSessionItem:(keyName,value)=>{const valueJson=JSON.stringify(value);sessionStorage.setItem(keyName,valueJson);},getSessionItem:(keyName)=>{let resp=sessionStorage.getItem(keyName);if(resp)resp=JSON.parse(resp);return resp;},ajaxGetData:async(url)=>{return new Promise(function(resolve,reject){var options={url:url,method:'GET',success:function(res){resolve(res);},failure:function(res){console.log('failure',res);reject(res);},error:function(res){console.log('error',res);reject(res);}};$.ajax(options);});},bindCompare:()=>{let checkedFavTab=helperJS.getCookie('selected_fav_tab').type||'PROJECT';let checkedFavs=helperJS.getCookie('checkedFavs')||[];let checkedRentalFavs=helperJS.getCookie('rental_checkedFavs')||[];let checkedResaleFavs=helperJS.getCookie('resale_checkedFavs')||[];if((checkedFavTab=='RENTAL'&&checkedRentalFavs.length>1)||(checkedFavTab=='RESALE'&&checkedResaleFavs.length>1)||(checkedFavTab=='PROJECT'&&checkedFavs.length>1)){$('#shortlist-compare').removeAttr('disabled');$("#shortlist-error").hide();}else{$('#shortlist-compare').attr('disabled','disabled');$("#shortlist-error").hide();}},addCheckedShortlist:(projectId,type)=>{checkedFavs=helperJS.getCookie(type+'_checkedFavs')||[];if(type==''){checkedFavs=helperJS.getCookie('checkedFavs')||[];}
let indexToRemove=-1;for(let i=0;i<checkedFavs.length;i++){if(checkedFavs[i]==projectId){indexToRemove=i;}}
if(indexToRemove<0){checkedFavs.push(projectId);}
if(type==''){helperJS.setCookie('checkedFavs',checkedFavs);}
else{helperJS.setCookie(type+'_checkedFavs',checkedFavs);}
helperJS.addShortListInUserDB(projectId,type);},addShortListInUserDB:(projectId,type)=>{var ptype="new";if(type!=""){ptype=type;if(type.toLowerCase()=="resale"){ptype="sale";}
if(type.toLowerCase()=="rental"){ptype="rent";}}
$.ajax({type:"POST",url:'/user/shortlist/add',dataType:"json",data:{type:ptype,projectId:projectId},success:function(response){console.log(response);},failure:function(error){console.log(`error: ${error}`)}});},removeCheckedShortlist:(projectId,type)=>{if(type==''){let checkedFavs=helperJS.getCookie('checkedFavs')||[];let indexToRemove=-1;for(let i=0;i<checkedFavs.length;i++){if(checkedFavs[i]==projectId){indexToRemove=i;}}
if(indexToRemove>-1){checkedFavs.splice(indexToRemove,1);}
helperJS.setCookie('checkedFavs',checkedFavs);}
else{let checkedFavs=helperJS.getCookie(type+'_checkedFavs')||[];let indexToRemove=-1;for(let i=0;i<checkedFavs.length;i++){if(checkedFavs[i]==projectId){indexToRemove=i;}}
if(indexToRemove>-1){checkedFavs.splice(indexToRemove,1);}
helperJS.setCookie(type+'_checkedFavs',checkedFavs);}
helperJS.removeShortListInUserDB(projectId,type);},removeShortListInUserDB:(projectId,type)=>{var ptype="new";if(type!=""){ptype=type;if(type.toLowerCase()=="resale"){ptype="sale";}
if(type.toLowerCase()=="rental"){ptype="rent";}}
$.ajax({type:"POST",url:'/user/shortlist/delete',dataType:"json",data:{type:ptype,projectId:projectId},success:function(response){console.log(response);},failure:function(error){console.log(`error: ${error}`)}});},addOrRemoveFav:(projectId,unitId,type,data)=>{if(type==''&&data==''){let favs=helperJS.getCookie('favs')||[];let indexToRemove=-1;for(let i=0;i<favs.length;i++){if(favs[i].projectId==projectId&&favs[i].unitId==unitId){indexToRemove=i;}}
let dLayer_pagetype='';if(typeof(dataLayer)!="undefined"){for(let i=0;i<dataLayer.length;i++){if(dataLayer[i].PageType){dLayer_pagetype=dataLayer[i].PageType;break;}}}
let eventName={"projectId":projectId,"type":"New Projects","pageType":dLayer_pagetype}
if(indexToRemove>-1){favs.splice(indexToRemove,1);helperJS.removeShortListInUserDB(projectId,type);_paq.push(['trackEvent','shortlist','remove',JSON.stringify(eventName)]);}else{favs.push({projectId,unitId});helperJS.addCheckedShortlist(projectId,type,'add');_paq.push(['trackEvent','shortlist','add',JSON.stringify(eventName)]);}
helperJS.setCookie('favs',favs);}
else{let favs=helperJS.getCookie(type+'_favs')||[];let indexToRemove=-1;for(let i=0;i<favs.length;i++){if(favs[i].propertyid==projectId){indexToRemove=i;}}
let dLayer_pagetype='';if(typeof(dataLayer)!="undefined"){for(let i=0;i<dataLayer.length;i++){if(dataLayer[i].PageType){dLayer_pagetype=dataLayer[i].PageType;break;}}}
let eventName={"propertyId":projectId,"type":type=='resale'?'Resale':'Rental','agentName':$('#prop_'+projectId+' .infoBox strong span ').html(),'agentId':$('#prop_'+projectId).attr('data-user'),"pageType":dLayer_pagetype}
if(indexToRemove>-1){favs.splice(indexToRemove,1);helperJS.removeShortListInUserDB(projectId,type);_paq.push(['trackEvent','shortlist','remove',JSON.stringify(eventName)]);}else{favs.push(data);helperJS.addCheckedShortlist(projectId,type,'');_paq.push(['trackEvent','shortlist','add',JSON.stringify(eventName)]);}
helperJS.setCookie(type+'_favs',favs);}},removeFavByProjectId:(projectId,type)=>{if(type==''){let favs=helperJS.getCookie('favs')||[];let newFavs=favs.filter((fav)=>{return fav.projectId!=projectId;});helperJS.setCookie('favs',newFavs);}
else{let favs=helperJS.getCookie(type+'_favs')||[];let newFavs=favs.filter((fav)=>{return fav.propertyid!=projectId;});helperJS.setCookie(type+'_favs',newFavs);}},bindShortlistWindow:()=>{var seq=(Math.floor(Math.random()*10000)+10000).toString().substring(1);let url=baseUrl+"shortlist/"+seq;var pagename=$("header").attr("page");if(pagename!=undefined&&pagename!=null&&pagename!=""){if(pagename=="DSE"||pagename=="DSE-SEARCH"||pagename=="LISTING"||pagename=="AZURO_LISTING"){url=baseUrl+"shortlistDSE/"+seq;}}
helperJS.ajaxGetData(url).then(function(res){let favs=helperJS.getCookie('favs')||[];let resaleFavs=helperJS.getCookie('resale_favs')||[];let rentalFavs=helperJS.getCookie('rental_favs')||[];let selectedTab=helperJS.getCookie('selected_fav_tab').type||'PROJECT';let totalFavs=favs.length+resaleFavs.length+rentalFavs.length;if(totalFavs>0){$('header .topNav ul li#Favorite_Icon em').addClass('active');}
else{$('header .topNav ul li#Favorite_Icon em').removeClass('active');}
if($('#favnumber').length>0){if(totalFavs>0){$('#favnumber').show().html(totalFavs);}else{$('#favnumber').hide();}}
if($('#favnumber').length>0){if(totalFavs>0){$('.countNum').html(totalFavs);if(screen.width<800){$('.countNum').show();}}
else{$('.countNum').hide();}}
$("#shortlist-error").hide();$('#projectTiles').html(res);$('#shotlistPopup .projectcheckboxes').click(function(){let $this=$(this);let projectId=$(this).data('projectid');if(this.checked){helperJS.addCheckedShortlist(projectId,'');}else{helperJS.removeCheckedShortlist(projectId,'');}
helperJS.bindCompare();});$('#shotlistPopup .resalecheckboxes').click(function(){let $this=$(this);let projectId=$(this).data('projectid');if(this.checked){helperJS.addCheckedShortlist(projectId,'resale');}else{helperJS.removeCheckedShortlist(projectId,'resale');}
helperJS.bindCompare();});$('#shotlistPopup .rentalcheckboxes').click(function(){let $this=$(this);let projectId=$(this).data('projectid');if(this.checked){helperJS.addCheckedShortlist(projectId,'rental');}else{helperJS.removeCheckedShortlist(projectId,'rental');}
helperJS.bindCompare();});$('#shotlistPopup .deleteItem em').click(function(){let projectId=$(this).data('projectid');let type='';if(typeof $(this).data('type')!='undefined'){type=$(this).data('type')}
else{type='';}
let projectTile=$(this).parents('.projectTile');projectTile.remove();helperJS.removeFavByProjectId(projectId,type);helperJS.removeCheckedShortlist(projectId,type);helperJS.bindShortlistWindow();});let checkedFavs=helperJS.getCookie('checkedFavs')||[];let projectCheckboxes=$('#shotlistPopup .projectcheckboxes');projectCheckboxes.removeAttr("checked");$.each(projectCheckboxes,function(index,projectCheckbox){$projectCheckbox=$(projectCheckbox);let projectId=$projectCheckbox.data("projectid");for(let i=0;i<checkedFavs.length;i++){if(projectId==checkedFavs[i]){$projectCheckbox.attr("checked","checked");}}});let resalecheckedFavs=helperJS.getCookie('resale_checkedFavs')||[];let resaleCheckboxes=$('#shotlistPopup .resalecheckboxes');resaleCheckboxes.removeAttr("checked");$.each(resaleCheckboxes,function(index,resaleCheckbox){$resaleCheckbox=$(resaleCheckbox);let resaleId=$resaleCheckbox.data("projectid");for(let i=0;i<resalecheckedFavs.length;i++){if(resaleId==resalecheckedFavs[i]){$resaleCheckbox.attr("checked","checked");}}});let rentalcheckedFavs=helperJS.getCookie('rental_checkedFavs')||[];let rentalCheckboxes=$('#shotlistPopup .rentalcheckboxes');rentalCheckboxes.removeAttr("checked");$.each(rentalCheckboxes,function(index,rentalCheckbox){$rentalCheckbox=$(rentalCheckbox);let rentalId=$rentalCheckbox.data("projectid");for(let i=0;i<rentalcheckedFavs.length;i++){if(rentalId==rentalcheckedFavs[i]){$rentalCheckbox.attr("checked","checked");}}});helperJS.bindShortlistColors();helperJS.bindRentalResaleShortlistColors();helperJS.bindCompare();});},bindShortlistColors:()=>{let shortlistIcons=$('.shortlistcontainerlink');let favs=helperJS.getCookie('favs');shortlistIcons.removeClass("active");$.each(shortlistIcons,(index,shortlistIcon)=>{$shortlistIcon=$(shortlistIcon);let projectId=$shortlistIcon.data('projectid');let unitId=$shortlistIcon.data('unitid')||0;if(favs){for(let i=0;i<favs.length;i++){if(projectId==favs[i].projectId&&unitId==favs[i].unitId){$shortlistIcon.addClass("active");}}}});},bindRentalResaleShortlistColors:()=>{let shortlistIcons=$('.shortlistcontainerlink1');let rental_favs=helperJS.getCookie('rental_favs');let resale_favs=helperJS.getCookie('resale_favs');shortlistIcons.removeClass("active");$.each(shortlistIcons,(index,shortlistIcon)=>{$shortlistIcon=$(shortlistIcon);let projectId=$shortlistIcon.data('propertyid');if(rental_favs){for(let i=0;i<rental_favs.length;i++){if(projectId==rental_favs[i].propertyid){$shortlistIcon.addClass("active");}}}});$.each(shortlistIcons,(index,shortlistIcon)=>{$shortlistIcon=$(shortlistIcon);let projectId=$shortlistIcon.data('propertyid');if(resale_favs){for(let i=0;i<resale_favs.length;i++){if(projectId==resale_favs[i].propertyid){$shortlistIcon.addClass("active");}}}});},bindResaleShortlistColors:()=>{let shortlistIcons=$('.shortlistcontainerlink1');let favs=helperJS.getCookie('resale_favs');shortlistIcons.removeClass("active");$.each(shortlistIcons,(index,shortlistIcon)=>{$shortlistIcon=$(shortlistIcon);let projectId=$shortlistIcon.data('propertyid');if(favs){for(let i=0;i<favs.length;i++){if(projectId==favs[i].propertyid){$shortlistIcon.addClass("active");}}}});},bindRentalShortlistColors:()=>{let shortlistIcons=$('.shortlistcontainerlink1');let favs=helperJS.getCookie('rental_favs');shortlistIcons.removeClass("active");$.each(shortlistIcons,(index,shortlistIcon)=>{$shortlistIcon=$(shortlistIcon);let projectId=$shortlistIcon.data('propertyid');if(favs){for(let i=0;i<favs.length;i++){if(projectId==favs[i].propertyid){$shortlistIcon.addClass("active");}}}});},initializeInputs:()=>{let favs=helperJS.getCookie('favs')||[];let resaleFavs=helperJS.getCookie('resale_favs')||[];let rentalFavs=helperJS.getCookie('rental_favs')||[];let totalFavs=favs.length+resaleFavs.length+rentalFavs.length;if($('#favnumber').length>0){if(totalFavs>0){$('#favnumber').show().html(totalFavs);}else{$('#favnumber').hide();}}
if($('#favnumber').length>0){if(totalFavs>0){$('.countNum').html(totalFavs);if(screen.width<800){$('.countNum').show();}}
else{$('.countNum').hide();}}
helperJS.bindShortlistWindow();let timeOut='';$('#shotlistPopup').hover(function(){if(timeOut){clearTimeout(timeOut);timeOut='';}},function(){timeOut=setTimeout(function(){$('#shotlistPopup').removeClass("active");},2000);});$('.shortlistcontainerlink').off("click");$('.shortlistcontainerlink').on("click",function(e){helperJS.setCookie('notification',1);helperJS.setCookie('selected_fav_tab',{type:"PROJECT"});helperJS.initializeShortlisting();if(timeOut){clearTimeout(timeOut);timeOut='';}
let projectId=$(this).data('projectid');let unitId=$(this).data('unitid')||0;let type="";let data="";let favs=helperJS.getCookie('checkedFavs')||[];let filteredFavs=[];if(favs.length>0){filteredFavs=favs.filter((e)=>{return(projectId!=e)?true:false});}
if(helperJS.isMobileBrowser()){if(favs.length==filteredFavs.length){$(".Shorttlis").show();setTimeout(function(){$(".Shorttlis").hide();},2000);}else{$(".Shorttlis1").show();setTimeout(function(){$(".Shorttlis1").hide();},2000);}};helperJS.setCookie('checkedFavs',filteredFavs);helperJS.addOrRemoveFav(projectId,unitId,type,data);helperJS.bindShortlistWindow();helperJS.bindShortlistColors();if(!helperJS.isMobileBrowser()){$('#shotlistPopup').addClass("active");timeOut=setTimeout(function(){$('#shotlistPopup').removeClass("active");},2000);}
$(".shortlistDiv").addClass("shake-horizontal");setTimeout(function(){$(".shortlistDiv").removeClass("shake-horizontal");},300);$(this).toggleClass('active');helperJS.bindCompare();if(helperJS.isMobileBrowser()){$("#Favorite_Icon").click();}
e.stopPropagation();});$(".sortList").on('click',function(){helperJS.setCookie('notification',0);});$('.shortlistheader .icon-close').on('click',function(){helperJS.getNotified();});$('.shortlistcontainerlink1').off("click");$('.shortlistcontainerlink1').on("click",function(e){e.preventDefault()
e.stopPropagation()
helperJS.setCookie('notification',1);if(timeOut){clearTimeout(timeOut);timeOut='';}
let projectId=$(this).data('propertyid');let unitId=0;let data={};let price=$(this).data('price');let name=$(this).data('name');let locality=$(this).data('locality');let propertyid=$(this).data('propertyid');let image=$(this).data('image');if(image!=undefined&&image!=null&&image.indexOf("?")!=-1){image=image.split("?")[0];}
let type=$(this).data('type');let url=$(this).data('url');data={price,name,locality,propertyid,image,type};let checkedResaleFavs;let checkedRentalFavs;let filteredFavs=[];if(type=='resale'){checkedResaleFavs=helperJS.getCookie('resale_checkedFavs')||[];if(checkedResaleFavs.length>0){filteredFavs=checkedResaleFavs.filter(el=>{return(propertyid==el)?false:true});helperJS.setCookie('resale_checkedFavs',filteredFavs);}}
else{checkedRentalFavs=helperJS.getCookie('rental_checkedFavs')||[];if(checkedRentalFavs.length>0){filteredFavs=checkedRentalFavs.filter(el=>{return(propertyid==el)?false:true});helperJS.setCookie('rental_checkedFavs',filteredFavs);}}
if(helperJS.isMobileBrowser()){if(type=='resale'?checkedResaleFavs.length==filteredFavs.length:checkedRentalFavs.length==filteredFavs.length){$(".Shorttlis").show();setTimeout(function(){$(".Shorttlis").hide();},2000);}else{$(".Shorttlis1").show();setTimeout(function(){$(".Shorttlis1").hide();},2000);}};helperJS.addOrRemoveFav(projectId,unitId,type,data);helperJS.bindShortlistWindow();if(type=='resale'){helperJS.setCookie('selected_fav_tab',{type:'RESALE'});helperJS.bindResaleShortlistColors();helperJS.initializeShortlisting();}
else{helperJS.setCookie('selected_fav_tab',{type:'RENTAL'});helperJS.bindRentalShortlistColors();helperJS.initializeShortlisting();}
if(!helperJS.isMobileBrowser()){$('#shotlistPopup').addClass("active");timeOut=setTimeout(function(){$('#shotlistPopup').removeClass("active");},2000);}
$(".shortlistDiv").addClass("shake-horizontal");setTimeout(function(){$(".shortlistDiv").removeClass("shake-horizontal");},300);$(this).toggleClass('active');helperJS.bindCompare();if(helperJS.isMobileBrowser()){$("#Favorite_Icon").click();}
e.stopPropagation();e.preventDefault();});$('#resale_shortlist_tab').off("click");$('#resale_shortlist_tab').on("click",function(){helperJS.setCookie('selected_fav_tab',{type:'RESALE'});$('#project_shortlist_tab').removeClass("active");$('#rental_shortlist_tab').removeClass("active");$('#resale_shortlist_tab').addClass("active");$('div[id^="shortlistProject"]').hide();$('div[id^="shortlistRental"]').hide();$('div[id^="shortlistResale"]').show();helperJS.initializeShortlisting();});$('#rental_shortlist_tab').off("click");$('#rental_shortlist_tab').on("click",function(){helperJS.setCookie('selected_fav_tab',{type:'RENTAL'});$('#project_shortlist_tab').removeClass("active");$('#rental_shortlist_tab').addClass("active");$('#resale_shortlist_tab').removeClass("active");$('div[id^="shortlistProject"]').hide();$('div[id^="shortlistRental"]').show();$('div[id^="shortlistResale"]').hide();helperJS.initializeShortlisting();});$('#project_shortlist_tab').off("click");$('#project_shortlist_tab').on("click",function(){helperJS.setCookie('selected_fav_tab',{type:'PROJECT'});$('#project_shortlist_tab').addClass("active");$('#rental_shortlist_tab').removeClass("active");$('#resale_shortlist_tab').removeClass("active");$('div[id^="shortlistProject"').show();$('div[id^="shortlistRental"').hide();$('div[id^="shortlistResale"').hide();helperJS.initializeShortlisting();});$('#shortlist-compare').click(function(){let selected_fav_tab=helperJS.getCookie('selected_fav_tab').type||'PROJECT';if(selected_fav_tab=='RESALE'){let checkedFavs=helperJS.getCookie('resale_checkedFavs')||[];if(checkedFavs.length>4){$("#shortlist-error").show().html("Maximum 4 properties can be compared at one go.");$('#shortlist-compare').removeAttr('disabled');}
else{let url=baseUrl+`resale/compare/${checkedFavs[0]}/`;if(checkedFavs.length>1){url=url+checkedFavs[1]+'/';}
if(checkedFavs.length>2){url=url+checkedFavs[2]+'/';}
if(checkedFavs.length>3){url=url+checkedFavs[3];}
$('#shortlist-compare').attr('disabled','disabled').data("href",url);$("#shortlist-error").hide();window.location=url;}}
else if(selected_fav_tab=='RENTAL'){let checkedFavs=helperJS.getCookie('rental_checkedFavs')||[];if(checkedFavs.length>4){$("#shortlist-error").show().html("Maximum 4 properties can be compared at one go.");$('#shortlist-compare').removeAttr('disabled');}
else{let url=baseUrl+`rental/compare/${checkedFavs[0]}/`;if(checkedFavs.length>1){url=url+checkedFavs[1]+'/';}
if(checkedFavs.length>2){url=url+checkedFavs[2]+'/';}
if(checkedFavs.length>3){url=url+checkedFavs[3];}
$('#shortlist-compare').attr('disabled','disabled').data("href",url);$("#shortlist-error").hide();window.location=url;}}
else{let checkedFavs=helperJS.getCookie('checkedFavs')||[];if(checkedFavs.length>4){$("#shortlist-error").show().html("Maximum 4 projects can be compared at one go.");$('#shortlist-compare').removeAttr('disabled');}
else{let url=baseUrl+`compare/${checkedFavs[0]}/`;if(checkedFavs.length>1){url=url+checkedFavs[1]+'/';}
if(checkedFavs.length>2){url=url+checkedFavs[2]+'/';}
if(checkedFavs.length>3){url=url+checkedFavs[3];}
$('#shortlist-compare').attr('disabled','disabled').data("href",url);$("#shortlist-error").hide();window.location=url;}}});},hideOrShowTabs:()=>{let selectedTab=helperJS.getCookie('selected_fav_tab');let selectedFavTab='PROJECT';if(selectedTab==null){helperJS.setCookie('selected_fav_tab',{type:'PROJECT'});$('div[id^="shortlistProject"]').show();$('div[id^="shortlistResale"]').hide();$('div[id^="shortlistRental"]').hide();$('#project_shortlist_tab').addClass('active');$('#rental_shortlist_tab').removeClass('active');$('#resale_shortlist_tab').removeClass('active');}
else{selectedFavTab=helperJS.getCookie('selected_fav_tab').type;if(selectedFavTab=='RESALE'){$('div[id^="shortlistProject"]').hide();$('div[id^="shortlistResale"]').show();$('div[id^="shortlistRental"]').hide();$('#project_shortlist_tab').removeClass('active');$('#rental_shortlist_tab').removeClass('active');$('#resale_shortlist_tab').addClass('active');}
else if(selectedFavTab=='RENTAL'){$('div[id^="shortlistProject"]').hide();$('div[id^="shortlistResale"]').hide();$('div[id^="shortlistRental"]').show();$('#project_shortlist_tab').removeClass('active');$('#rental_shortlist_tab').addClass('active');$('#resale_shortlist_tab').removeClass('active');}
else{$('div[id^="shortlistProject"]').show();$('div[id^="shortlistResale"]').hide();$('div[id^="shortlistRental"]').hide();$('#project_shortlist_tab').addClass('active');$('#rental_shortlist_tab').removeClass('active');$('#resale_shortlist_tab').removeClass('active');}}},getNotified:()=>{let notification=(helperJS.getCookie('notification')==1)?true:false;if(notification){if(screen.width<800){$('.notification').show();}}
else{if(screen.width<800){$('.notification').hide();}}},initializeShortlist:()=>{helperJS.getNotified();helperJS.hideOrShowTabs();helperJS.initializeInputs();$(".shortlistDiv").off("click");$(document).on("click",".shortlistDiv",function(){if($('.shotlistPopup').hasClass("active")){$('.shotlistPopup').removeClass("active");}else{$('.shotlistPopup').addClass("active");}
helperJS.bindShortlistWindow();});$(".shotlistPopup .projectTiles .shortlistheader em,.bannerBox,.cityContainer,.ourToolsBox").on("click",function(){$('.shotlistPopup,body,header .navToggle #nav-toggle, header nav, .navOverlay').removeClass("active");});},initializeShortlisting:()=>{helperJS.getNotified();helperJS.hideOrShowTabs();helperJS.initializeInputs();},isMobileBrowser:()=>{var check=false;(function(a){if(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(a)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(a.substr(0,4)))check=true;})(navigator.userAgent||navigator.vendor||window.opera);return check;},goToURL:(url,target)=>{if(target){target=target.split('/')
if(target.length==1&&target[0]=='_blank')
window.open(url,target);else{if($(document).width()<=800&&target[1]=='_self')
{window.location.href=url;}
else{window.open(url,target);}}}
else{window.location.href=url;}
return false;},initializeLazyLoad:()=>{const imageObserver=new IntersectionObserver((entries,imgObserver)=>{entries.forEach((entry)=>{if(entry.isIntersecting){const lazyImage=entry.target;if(lazyImage.src.replace(baseUrl,'')!=encodeURI(lazyImage.dataset.src?lazyImage.dataset.src.replace(baseUrl,''):'')){lazyImage.src=lazyImage.dataset.src;}}})});const arr=document.querySelectorAll('img.lazy')
arr.forEach((v)=>{imageObserver.observe(v);});},ucfirst:(string)=>{if(string==0){return "";}
return string.charAt(0).toUpperCase()+string.slice(1);},reportListing:function(data,type){let formData=data.serializeArray()
let propertyId=data.children('input#propertyId').attr('data-propertyid')
formData=formData.map(f=>f.value)
let customerPhoneNumber=formData['2']+"-"+formData['3']
let customerEmail=formData['4']
let source='DOTCOM'
if(formData['0']!=''){if(formData['0']=='others'&&formData['1']==''){data.children('span#error').show()
data.children('span#error').html('Please provide a reason.')
return false}
else{data.children('span#error').hide()
let remarks=formData['0']
if(remarks=='others'){remarks=formData['1']}
$.ajax({type:"POST",url:'/'+type+'/reportListing',dataType:"json",data:{remarks,propertyId,customerPhoneNumber,customerEmail,source},success:function(response){if(response.status){data.removeClass('active');$('.thankYouReport').addClass('active')
$('form#reportListingForm .input-group-mobile').hide()
$('form#reportListingForm .input-group-email').hide()}else{console.log('error from api...')
return false}},failure:function(error){console.log(`error: ${error}`)}});}}
else{data.children('span#error').show()
data.children('span#error').html('Please select a reason')
return false}},restrictAlphabets:(e)=>{var x=e.which||e.keycode;if((x>=48&&x<=57)||x==8||(x>=35&&x<=40)||x==46)
return true;else
return false;},convertAmountToWord:(num,round)=>{round=round||false;var x=num;if(isNaN(num))x=num.replace(/\s/g,"");var len=Math.round(x).toString().length;if(len<6){return x.toString().replace(/(\d)(?=(\d\d)+\d(?!\d))/g,"$1,");}else{if(len<=7){x=x/Math.pow(10,5);if(round)x=Math.round(x);else x=Math.floor(x*100)/100;x=x+" Lac";}else{x=x/Math.pow(10,7);if(round)x=Math.round(x);else x=Math.floor(x*100)/100;x=x+" Cr.";}}
return x.toString();},convertWordToAmount:(word)=>{word=word.replace('₹','');if(word.indexOf(',')>=0){word=word.replace(/\,/g,'');}else if(word.indexOf(' Lac')>=0){word=word.replace(' Lac','')*100000;}else if(word.indexOf(' Cr.')>=0){word=word.replace(' Cr.','')*10000000;}
return word;},indiaNumberWordFormat:(num)=>{if((num=num.toString()).length>9)return 'max limit reached';n=('000000000'+num).substr(-9).match(/^(\d{2})(\d{2})(\d{2})(\d{1})(\d{2})$/);if(!n)return;var str='';str+=(n[1]!=0)?(onesAndTeens[Number(n[1])]||tens[n[1][0]]+' '+onesAndTeens[n[1][1]])+'crore ':'';str+=(n[2]!=0)?(onesAndTeens[Number(n[2])]||tens[n[2][0]]+' '+onesAndTeens[n[2][1]])+'lakh ':'';str+=(n[3]!=0)?(onesAndTeens[Number(n[3])]||tens[n[3][0]]+' '+onesAndTeens[n[3][1]])+'thousand ':'';str+=(n[4]!=0)?(onesAndTeens[Number(n[4])]||tens[n[4][0]]+' '+onesAndTeens[n[4][1]])+'hundred ':'';str+=(n[5]!=0)?((str!='')?'and ':'')+(onesAndTeens[Number(n[5])]||tens[n[5][0]]+' '+onesAndTeens[n[5][1]]):'';return str;},changeNumberFormat(number,decimals,recursiveCall){const decimalPoints=decimals||2;const noOfLakhs=number/100000;let displayStr;function roundOf(integer){return+integer.toLocaleString(undefined,{minimumFractionDigits:decimalPoints,maximumFractionDigits:decimalPoints,});}
if(noOfLakhs>=1&&noOfLakhs<=99){const lakhs=roundOf(noOfLakhs);displayStr=`${lakhs} L`;}else if(noOfLakhs>=100){const crores=roundOf(noOfLakhs/100);const crorePrefix=crores>=100000?changeNumberFormat(crores,decimals,true):crores;displayStr=`${crorePrefix} Cr`;}else{displayStr=roundOf(+number);}
return displayStr;},internationalNumberWordFormat:(num)=>{let c=['thousand','million',''],words='';num=('000000000'+num.toString()).substr(-9).match(/.{3}/g);for(var i=0;i<c.length;i++){var n=num[i],str='';str+=(words!='')?' '+c[c.length-1-i]+' ':'';str+=(n[0]!=0)?(onesAndTeens[Number(n[0])]+'hundred '):'';n=n.substr(1);str+=(n!=0)?((str!='')?'and ':'')+(onesAndTeens[Number(n)]||tens[n[0]]+' '+onesAndTeens[n[1]]):'';words+=str;}
return words.replace(/ +/g,' ').replace(/ $/,'');},indiaNumberFormat:(num)=>{return num.toString().replace(/(\d)(?=(\d\d)+\d(?!\d))/g,"$1,");},internationalNumberFormat:(num)=>{return num.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,");},alertBox(type,message){$('.alertMsg.active').remove();$('body').append($('<div/>',{class:"alertMsg "+type+" active"}).append($('<div/>',{class:"iconBox"}).append($('<span/>').append($('<img/>',{class:'img-responsive',src:'/assets/images/alert/'+type+'.svg'}))),$('<div/>',{class:"msgBody"}).append($('<em/>',{class:"icon-close"}).on('click',function(){$(this).closest('.alertMsg').remove();}),$('<strong/>',{text:type}),$('<p/>',{text:message}),)).delay(10000).queue(function(){$(this).remove()}))},generateRandomString:(len)=>{len=len||5;let result='';const characters='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';const charactersLength=characters.length;for(var i=0;i<len;i++){result+=characters.charAt(Math.floor(Math.random()*charactersLength));}
return result;}}
helperJS.convertWordToFullText=(num,country='in')=>{num=num.toString().replace(/,/g,'');switch(country.toLowerCase()){case 'in':return helperJS.indiaNumberWordFormat(num);case 'uae':default:return helperJS.internationalNumberWordFormat(num);}}
helperJS.numberFormat=(num,country='in')=>{num=num.toString().replace(/,/g,'');switch(country.toLowerCase()){case 'in':return helperJS.indiaNumberFormat(num);case 'uae':default:return helperJS.internationalNumberFormat(num);}}
helperJS.pushUserHistory=()=>{$('.UMHeader .col.col1 span').text(document.title)
let history=helperJS.getCookie('userHistory');if(!history){history=[];}
if(history.length>=1&&history[history.length-1].url==location.href){return false;}
(history.length>=20)?history=history.splice(history.length-19):'';history.push({title:document.title,url:location.href});helperJS.setCookie('userHistory',history);}
helperJS.initUserHistoryBack=()=>{let history=helperJS.getCookie('userHistory');$('.UMHeader .col.col1 .back-btn').on('click',function(){$('#loaderBox').show();if(!history||history.length===1){window.location.href=_BASE_URL;return;}
history.pop()
let page=history.pop();helperJS.setCookie('userHistory',history);window.location.href=page.url;})}
helperJS.firepixel_detail=(data,mobile)=>{if(isfirepixel==true){ta('send','lead');gtag_report_conversion(window.location.href);var leadId=0;if(data.apiResp&&data.apiResp[0]&&parseInt(data.apiResp[0]['leadId'])){leadId=parseInt(data.apiResp[0]['leadId'])}
if(leadId>0){fbq('track','Lead');}
_tfa.push({notify:'event',name:'lead',id:1125593});$("#dev_taboola_lead_noscript").html(taboolanoscript);$.getScript("/assets/lib/js/colombiapixel.js",function(){$("#dev_colombia_lead_noscript").html(colombianoscript);});window.dotq=window.dotq||[];window.dotq.push({'projectId':'10000','properties':{'pixelId':'10066198','qstrings':{'et':'custom','ec':'SQY_YahooG_Sec_Leads','ea':'Yahoo_Lead'}}});}}